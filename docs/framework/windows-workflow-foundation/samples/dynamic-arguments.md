---
title: Dinamik bağımsız değişkenleri
ms.date: 03/30/2017
ms.assetid: 122ad479-d306-4602-a943-5aefe711329d
ms.openlocfilehash: dcf6b84889f3bd7d043f736336c39634cd5384c7
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/04/2018
ms.locfileid: "43530447"
---
# <a name="dynamic-arguments"></a><span data-ttu-id="343b7-102">Dinamik bağımsız değişkenleri</span><span class="sxs-lookup"><span data-stu-id="343b7-102">Dynamic Arguments</span></span>
<span data-ttu-id="343b7-103">Bu örnek, bağımsız değişkenler etkinlik Yazar yerine etkinlik tüketici tarafından tanımlanan bir etkinlik uygulayan gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="343b7-103">This sample demonstrates how to implement an activity for which the arguments are defined by the activity consumer rather than the activity author.</span></span> <span data-ttu-id="343b7-104">Bunu etkinliğe ilişkin meta veri çalışma zamanı oluşturur yolu geçersiz kılarak yapar.</span><span class="sxs-lookup"><span data-stu-id="343b7-104">It does this by overriding the way the runtime constructs the activity’s metadata.</span></span>  
  
## <a name="sample-details"></a><span data-ttu-id="343b7-105">Örnek Ayrıntıları</span><span class="sxs-lookup"><span data-stu-id="343b7-105">Sample details</span></span>  
 <span data-ttu-id="343b7-106">Yürütme önce çalışma zamanı etkinlik türü genel üyeleri inceleme ve etkinlik meta verilerini bir parçası olarak otomatik olarak bağımsız değişkenler, değişkenleri, alt etkinlikleri ve etkinlik temsilcileri bildirme açıklaması bir etkinlik oluşturur.</span><span class="sxs-lookup"><span data-stu-id="343b7-106">Prior to execution, the runtime builds a description of an activity by examining the public members of the activity type and automatically declaring arguments, variables, child activities, and activity delegates as part of an activity’s metadata.</span></span> <span data-ttu-id="343b7-107">Çalışma zamanı ilişkilerini ve lifetime kuralları yönetmek için farklı bir iş akışı de doğru yapımı emin olmak için bunu yapar.</span><span class="sxs-lookup"><span data-stu-id="343b7-107">It does this to ensure correct construction of a workflow as well as to manage run-time relationships and lifetime rules.</span></span> <span data-ttu-id="343b7-108">Öğesinden türetilen etkinlik türü genel üyeler belirterek bir etkinlik Yazar etkinlik bağımsız değişkenleri genellikle tanımlar <xref:System.Activities.Argument>.</span><span class="sxs-lookup"><span data-stu-id="343b7-108">Typically an activity author defines the arguments of an activity by specifying public members on the activity type that derive from <xref:System.Activities.Argument>.</span></span> <span data-ttu-id="343b7-109">Öğesinden türetilen her bir ortak üye için <xref:System.Activities.Argument>, çalışma zamanı oluşturur bir <xref:System.Activities.RuntimeArgument> ve kullanıcı tarafından sağlanan bağımsız değişken bu üyede ayarlamak için bağlar.</span><span class="sxs-lookup"><span data-stu-id="343b7-109">For each public member that derives from <xref:System.Activities.Argument>, the runtime creates a <xref:System.Activities.RuntimeArgument> and binds it to the user-provided argument set on that member.</span></span> <span data-ttu-id="343b7-110">Bazı durumlarda, ancak tüketici etkinliğin bağımsız değişken kümesinin belirleyen bazı yapılandırma sağlar.</span><span class="sxs-lookup"><span data-stu-id="343b7-110">In some cases, however, the consumer of the activity provides some configuration that determines the set of arguments.</span></span> <span data-ttu-id="343b7-111">Bir etkinlik Yazar geçersiz kılmalar <xref:System.Activities.Activity.CacheMetadata%2A> şekilde etkinlik özelleştirmek için meta verileri, etkinliği ile ilişkili bağımsız değişkenler kümesini içeren yerleşik olarak bulunur.</span><span class="sxs-lookup"><span data-stu-id="343b7-111">An activity author overrides <xref:System.Activities.Activity.CacheMetadata%2A> to customize the way activity metadata is built, which includes the set of arguments associated with the activity.</span></span>  
  
 <span data-ttu-id="343b7-112">Bu örnek nasıl dinamik olarak bir yöntemi çağıran bir etkinliğin bağımsız değişken listesi oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="343b7-112">This sample demonstrates how to build an argument list dynamically for an activity that invokes a method.</span></span> <span data-ttu-id="343b7-113">Etkinlik tüketici türü ve bu yönteme gönderilecek bağımsız değişkenlerin koleksiyonunu birlikte çağrılacak istedikleri yöntem adını belirtir.</span><span class="sxs-lookup"><span data-stu-id="343b7-113">The activity consumer specifies the type and the method name they want to invoke along with a collection of arguments to be passed to that method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="343b7-114">Bu örnek amacı nasıl geçersiz kılınacağını göstermektir <xref:System.Activities.CodeActivity.CacheMetadata%2A> ve nasıl kullanılacağını <xref:System.Activities.RuntimeArgument>.</span><span class="sxs-lookup"><span data-stu-id="343b7-114">The purpose of this sample is to demonstrate how to override <xref:System.Activities.CodeActivity.CacheMetadata%2A> and how to use <xref:System.Activities.RuntimeArgument>.</span></span> <span data-ttu-id="343b7-115">Bu etkinlik çağırabilirsiniz yöntemler tür göre çeşitli uyarılar vardır.</span><span class="sxs-lookup"><span data-stu-id="343b7-115">There are several caveats with respect to the kinds of methods that this activity can invoke.</span></span> <span data-ttu-id="343b7-116">Örneğin, genel türler veya parametre dizileri ile çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="343b7-116">For example, it does not work with generics or parameter arrays.</span></span> <span data-ttu-id="343b7-117"><xref:System.Activities.Statements.InvokeMethod> Framework derlemelerindeki birlikte gelen etkinlik işleme bu cases ve daha fazlası.</span><span class="sxs-lookup"><span data-stu-id="343b7-117">The <xref:System.Activities.Statements.InvokeMethod> activity that ships in.NET Framework handles these cases and more.</span></span>  
  
 <span data-ttu-id="343b7-118">`MethodInvoke` Etkinliği geçersiz kılmaları <xref:System.Activities.CodeActivity.CacheMetadata%2A> ve oluşturarak başlıyor bir <xref:System.Activities.RuntimeArgument> herhangi yöntemi çağrısının sonucunu işlemek için.</span><span class="sxs-lookup"><span data-stu-id="343b7-118">The `MethodInvoke` activity overrides <xref:System.Activities.CodeActivity.CacheMetadata%2A> and begins by creating a <xref:System.Activities.RuntimeArgument> to handle any result from the method invocation.</span></span> <span data-ttu-id="343b7-119">Bu bağlar <xref:System.Activities.RuntimeArgument> için herkese açık şekilde ayarlanabilir <xref:System.Activities.OutArgument> adlı `Result`.</span><span class="sxs-lookup"><span data-stu-id="343b7-119">It binds this <xref:System.Activities.RuntimeArgument> to the publicly settable <xref:System.Activities.OutArgument> named `Result`.</span></span> <span data-ttu-id="343b7-120">`MethodInvoke.Result` Olan `null`, çalışma zamanı ile otomatik olarak dolduran bir <xref:System.Activities.OutArgument> kendi türünün varsayılan ifadesiyle yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="343b7-120">If `MethodInvoke.Result` is `null`, the runtime automatically populates it with an <xref:System.Activities.OutArgument> configured with the default expression for its type.</span></span> <span data-ttu-id="343b7-121">Bir etkinlik Yazar hiçbir zaman sahip bir bağımsız değişken özelliği olup olmadığını denetlemek Bu davranış olduğu anlamına gelir `null`.</span><span class="sxs-lookup"><span data-stu-id="343b7-121">This behavior means an activity author never has to check whether an argument property is `null`.</span></span>  
  
 <span data-ttu-id="343b7-122">Ardından, <xref:System.Activities.CodeActivity.CacheMetadata%2A> geçersiz kılma belirler `MethodInfo` kullanıcı tarafından sağlanan çağrısından kullanacağı `MethodName` ve `TargetType`.</span><span class="sxs-lookup"><span data-stu-id="343b7-122">Next, the <xref:System.Activities.CodeActivity.CacheMetadata%2A> override determines the `MethodInfo` it uses for invocation from the user-provided `MethodName` and `TargetType`.</span></span> <span data-ttu-id="343b7-123">`DetermineMethodInfo` Yöntemi <xref:System.Activities.CodeActivityMetadata> geçirilen <xref:System.Activities.CodeActivity.CacheMetadata%2A> yapılandırma hataları doğrulama hataları bildirilebilir olacak şekilde geçersiz kılın.</span><span class="sxs-lookup"><span data-stu-id="343b7-123">The `DetermineMethodInfo` method takes the <xref:System.Activities.CodeActivityMetadata> parameter passed to the <xref:System.Activities.CodeActivity.CacheMetadata%2A> override so that any configuration errors can be reported as validation errors.</span></span> <span data-ttu-id="343b7-124">Bu çağrılarak gerçekleştirilir `metadata.AddValidationError`.</span><span class="sxs-lookup"><span data-stu-id="343b7-124">This is done by calling `metadata.AddValidationError`.</span></span>  
  
 <span data-ttu-id="343b7-125">Bir kez `MethodInfo` , örnek yinelenir üzerinden ayarlanmadı `MethodInfo` parametreleri.</span><span class="sxs-lookup"><span data-stu-id="343b7-125">Once the `MethodInfo` has been set, the sample iterates over the `MethodInfo` parameters.</span></span> <span data-ttu-id="343b7-126">Her parametre için oluşturduğu bir <xref:System.Activities.RuntimeArgument> ve kullanıcı tarafından sağlanan koleksiyondan karşılık gelen bağımsız değişken bağlar `Parameters` özelliği.</span><span class="sxs-lookup"><span data-stu-id="343b7-126">For each parameter, it creates a <xref:System.Activities.RuntimeArgument> and binds it to the corresponding argument in the user-provided collection from the `Parameters` property.</span></span> <span data-ttu-id="343b7-127">Son olarak, koleksiyonu <xref:System.Activities.RuntimeArgument>s etkinliği ile ilişkili çağırarak `metadata.SetArgumentsCollection`.</span><span class="sxs-lookup"><span data-stu-id="343b7-127">Finally, the collection of <xref:System.Activities.RuntimeArgument>s is associated with the activity by calling `metadata.SetArgumentsCollection`.</span></span>  
  
 <span data-ttu-id="343b7-128">Bağımsız değişken çözümleme yapılabilir Not kullanarak bir <xref:System.Activities.RuntimeArgument>, durumunda gibi `resultArgument` ya da olduğu gibi kullanıcı tarafından sağlanan bağımsız değişken `Parameters` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="343b7-128">Note that argument resolution can be done using a <xref:System.Activities.RuntimeArgument>, as in the case of `resultArgument` or the user-provided argument, as in the case of the `Parameters` collection.</span></span>  
  
#### <a name="to-use-this-sample"></a><span data-ttu-id="343b7-129">Bu örneği kullanmak için</span><span class="sxs-lookup"><span data-stu-id="343b7-129">To use this sample</span></span>  
  
1.  <span data-ttu-id="343b7-130">Kullanarak [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], DynamicArguments.sln dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="343b7-130">Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the DynamicArguments.sln file.</span></span>  
  
2.  <span data-ttu-id="343b7-131">Çözümü derlemek için CTRL + SHIFT + B tuşlarına basın.</span><span class="sxs-lookup"><span data-stu-id="343b7-131">To build the solution, press CTRL+SHIFT+B.</span></span>  
  
3.  <span data-ttu-id="343b7-132">Çözümü çalıştırmak için CTRL + F5 tuşlarına basın.</span><span class="sxs-lookup"><span data-stu-id="343b7-132">To run the solution, press CTRL+F5.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="343b7-133">Örnekler, makinenizde zaten yüklü.</span><span class="sxs-lookup"><span data-stu-id="343b7-133">The samples may already be installed on your machine.</span></span> <span data-ttu-id="343b7-134">Devam etmeden önce şu (varsayılan) dizin denetleyin.</span><span class="sxs-lookup"><span data-stu-id="343b7-134">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="343b7-135">Bu dizin mevcut değilse Git [Windows Communication Foundation (WCF) ve .NET Framework 4 için Windows Workflow Foundation (WF) örnekleri](https://go.microsoft.com/fwlink/?LinkId=150780) tüm Windows Communication Foundation (WCF) indirmek için ve [!INCLUDE[wf1](../../../../includes/wf1-md.md)] örnekleri.</span><span class="sxs-lookup"><span data-stu-id="343b7-135">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="343b7-136">Bu örnek, şu dizinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="343b7-136">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\CustomActivities\Code-Bodied\DynamicArguments`