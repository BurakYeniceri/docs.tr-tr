### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a><span data-ttu-id="12f69-101">CurrentCulture WPF dağıtıcısı işlemler arasındaki korunmaz</span><span class="sxs-lookup"><span data-stu-id="12f69-101">CurrentCulture is not preserved across WPF Dispatcher operations</span></span>

|   |   |
|---|---|
|<span data-ttu-id="12f69-102">Ayrıntılar</span><span class="sxs-lookup"><span data-stu-id="12f69-102">Details</span></span>|<span data-ttu-id="12f69-103">.NET Framework 4.6 başlayarak, değişikliklerini <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> veya <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> içinde yapılan bir <xref:System.Windows.Threading.Dispatcher?displayProperty=name> bu dağıtıcı işlem sona erdiğinde kaybolacak.</span><span class="sxs-lookup"><span data-stu-id="12f69-103">Beginning in the .NET Framework 4.6, changes to <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> made within a <xref:System.Windows.Threading.Dispatcher?displayProperty=name> will be lost at the end of that dispatcher operation.</span></span> <span data-ttu-id="12f69-104">Benzer şekilde, değişikliklerini <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> veya <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> işlemi zaman işlemini yürütür yansımayabilir dağıtıcısı dışında yapılan. Pratikte açıdan, bunun anlamı <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> ve <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> değişiklikleri WPF UI geri aramalar ve bir WPF uygulamasında başka bir kod arasında akan. Bu değişiklik nedeniyle olan <xref:System.Threading.ExecutionContext?displayProperty=name> neden <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> ve <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> yürütme bağlamı'den itibaren .NET Framework 4.6 hedefleme uygulamalarla depolanacak.</span><span class="sxs-lookup"><span data-stu-id="12f69-104">Similarly, changes to <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> made outside of a Dispatcher operation may not be reflected when that operation executes.Practically speaking, this means that <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> changes may not flow between WPF UI callbacks and other code in a WPF application.This is due to a change in <xref:System.Threading.ExecutionContext?displayProperty=name> that causes <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> to be stored in the execution context beginning with apps targeting the .NET Framework 4.6.</span></span> <span data-ttu-id="12f69-105">WPF dağıtıcısı işlemleri işlemine başlamak ve işlem tamamlandığında, önceki bağlamı geri yüklemek için kullanılan yürütme bağlamı depolar.</span><span class="sxs-lookup"><span data-stu-id="12f69-105">WPF dispatcher operations store the execution context used to begin the operation and restore the previous context when the operation is completed.</span></span> <span data-ttu-id="12f69-106">Çünkü <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> ve <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> şimdi bu bağlam parçası olan, bunları bir dağıtıcı işlemi içinde değişiklikler işlemi dışında kalıcı değildir.</span><span class="sxs-lookup"><span data-stu-id="12f69-106">Because <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> are now part of that context, changes to them within a dispatcher operation are not persisted outside of the operation.</span></span>|
|<span data-ttu-id="12f69-107">Öneri</span><span class="sxs-lookup"><span data-stu-id="12f69-107">Suggestion</span></span>|<span data-ttu-id="12f69-108">Bu değişiklikten etkilenen uygulamalar iş çevresinde istenen depolayarak <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> veya <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> bir alan ve (kullanıcı Arabirimi olay geri çağırma işleyicileri dahil) tüm dağıtıcı işlemi gövdelerini içinde denetimi, doğru <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> ve <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="12f69-108">Apps affected by this change may work around it by storing the desired <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> or <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> in a field and checking in all Dispatcher operation bodies (including UI event callback handlers) that the correct <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> and <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> are set.</span></span> <span data-ttu-id="12f69-109">Alternatif olarak, ExecutionContext değiştiğinden temel bu WPF değişiklik, yalnızca .NET Framework 4.6 veya daha yeni hedefleme uygulamaları etkiler, bu sonu, hedef .NET Framework 4.6 veya daha sonra aynı zamanda çalışabilir .NET Framework 4.5.2.Apps hedefleyerek önlenebilir. Bu aşağıdaki uyumluluk ayarlayarak geçici anahtarı:</span><span class="sxs-lookup"><span data-stu-id="12f69-109">Alternatively, because the ExecutionContext change underlying this WPF change only affects apps targeting the .NET Framework 4.6 or newer, this break can be avoided by targeting the .NET Framework 4.5.2.Apps that target .NET Framework 4.6 or later can also work around this by setting the following compatibility switch:</span></span><pre><code>AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre><span data-ttu-id="12f69-110">.NET Framework 4.6.2 WPF'de tarafından bu sorun düzeltilmiştir.</span><span class="sxs-lookup"><span data-stu-id="12f69-110">This issue has been fixed by WPF in .NET Framework 4.6.2.</span></span> <span data-ttu-id="12f69-111">.NET Framework 4. 6, 4.6.1 aracılığıyla da düzeltilmiştir [KB 3139549](https://support.microsoft.com/kb/3139549).</span><span class="sxs-lookup"><span data-stu-id="12f69-111">It has also been fixed in .NET Frameworks 4.6, 4.6.1 through [KB 3139549](https://support.microsoft.com/kb/3139549).</span></span> <span data-ttu-id="12f69-112">.NET 4.6 veya sonrasını hedefleyen uygulamalar otomatik olarak elde edersiniz doğru davranış WPF uygulamalarında - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) dağıtıcısı işlemler arasındaki korunması.</span><span class="sxs-lookup"><span data-stu-id="12f69-112">Applications targeting .NET 4.6 or later will automatically get the right behavior in WPF applications - <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name>/<xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) would be preserved across Dispatcher operations.</span></span>|
|<span data-ttu-id="12f69-113">Kapsam</span><span class="sxs-lookup"><span data-stu-id="12f69-113">Scope</span></span>|<span data-ttu-id="12f69-114">Küçük</span><span class="sxs-lookup"><span data-stu-id="12f69-114">Minor</span></span>|
|<span data-ttu-id="12f69-115">Sürüm</span><span class="sxs-lookup"><span data-stu-id="12f69-115">Version</span></span>|<span data-ttu-id="12f69-116">4.6</span><span class="sxs-lookup"><span data-stu-id="12f69-116">4.6</span></span>|
|<span data-ttu-id="12f69-117">Tür</span><span class="sxs-lookup"><span data-stu-id="12f69-117">Type</span></span>|<span data-ttu-id="12f69-118">Yeniden hedefleme</span><span class="sxs-lookup"><span data-stu-id="12f69-118">Retargeting</span></span>|

