---
title: "Performans Sayaçları ve Devam Eden Yan Yana Uygulamalar"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- performance counters
- performance counters,and in-process side-by-side applications
- performance,.NET Framework applications
- performance monitoring,counters
ms.assetid: 6888f9be-c65b-4b03-a07b-df7ebdee2436
caps.latest.revision: "26"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: 16c43545b24f8c0290bfe993d91b7e4203ac11fa
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/18/2017
---
# <a name="performance-counters-and-in-process-side-by-side-applications"></a><span data-ttu-id="ec0e6-102">Performans Sayaçları ve Devam Eden Yan Yana Uygulamalar</span><span class="sxs-lookup"><span data-stu-id="ec0e6-102">Performance Counters and In-Process Side-By-Side Applications</span></span>
<span data-ttu-id="ec0e6-103">Performans İzleyicisi'ni (Perfmon.exe) kullanarak, çalışma zamanı başına temelinde performans sayaçları ayırt etmek mümkün değildir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-103">Using the Performance Monitor (Perfmon.exe), it is possible to differentiate the performance counters on a per-runtime basis.</span></span> <span data-ttu-id="ec0e6-104">Bu konu, bu işlevselliği etkinleştirmek için gerekli kayıt defteri değişikliği açıklar.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-104">This topic describes the registry change needed to enable this functionality.</span></span>  
  
## <a name="the-default-behavior"></a><span data-ttu-id="ec0e6-105">Varsayılan davranış</span><span class="sxs-lookup"><span data-stu-id="ec0e6-105">The Default Behavior</span></span>  
 <span data-ttu-id="ec0e6-106">Varsayılan olarak, uygulama başına temelinde performans sayaçlarını Performans İzleyicisi'ni görüntüler.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-106">By default, the Performance Monitor displays performance counters on a per-application basis.</span></span> <span data-ttu-id="ec0e6-107">Ancak, bu sorunlu olan iki senaryo vardır:</span><span class="sxs-lookup"><span data-stu-id="ec0e6-107">However, there are two scenarios in which this is problematic:</span></span>  
  
-   <span data-ttu-id="ec0e6-108">Ne zaman aynı ada sahip iki uygulamalarını izleyin.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-108">When you monitor two applications that have the same name.</span></span> <span data-ttu-id="ec0e6-109">Her iki uygulamayı myapp.exe olarak adlandırılmışsa, örneğin, olarak görüntülenir **Uygulamam** ve diğer olarak **Uygulamam #1** içinde **örneği** sütun.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-109">For example, if both applications are named myapp.exe, one will be displayed as **myapp** and the other as **myapp#1** in the **Instance** column.</span></span> <span data-ttu-id="ec0e6-110">Bu durumda, belirli bir uygulama için bir performans sayacı eşleşecek şekilde zordur.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-110">In this case, it is difficult to match a performance counter to a particular application.</span></span> <span data-ttu-id="ec0e6-111">İçin toplanan veriler olup NET değil **Uygulamam #1** ilk myapp.exe veya ikinci myapp.exe anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-111">It is not clear whether the data collected for **myapp#1** refers to the first myapp.exe or the second myapp.exe.</span></span>  
  
-   <span data-ttu-id="ec0e6-112">Ne zaman bir uygulama, ortak dil çalışma zamanı birden çok örneğini kullanır.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-112">When an application uses multiple instances of the common language runtime.</span></span> <span data-ttu-id="ec0e6-113">[!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)] Destekler işlem içi yan yana barındırma senaryolarını; diğer bir deyişle, tek bir işlem veya uygulama ortak dil çalışma zamanı birden çok örneğini yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-113">The [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)] supports in-process side-by-side hosting scenarios; that is, a single process or application can load multiple instances of the common language runtime.</span></span> <span data-ttu-id="ec0e6-114">Tek bir uygulama myapp.exe yükleri iki çalışma zamanı örnekleri, varsayılan olarak adlandırılan, bunlar içinde atanır **örneği** sütun olarak **Uygulamam** ve **Uygulamam #1**.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-114">If a single application named myapp.exe loads two runtime instances, by default, they will be designated in the **Instance** column as **myapp** and **myapp#1**.</span></span> <span data-ttu-id="ec0e6-115">Bu durumda, NET değil olup olmadığını **Uygulamam** ve **Uygulamam #1** aynı ada sahip iki uygulama ya da iki çalışma zamanları ile aynı uygulamanın.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-115">In this case, it is not clear whether **myapp** and **myapp#1** refer to two applications with the same name, or to the same application with two runtimes.</span></span> <span data-ttu-id="ec0e6-116">Birden çok uygulama aynı ada sahip birden çok çalışma zamanları yüklerseniz karışıklık bile daha büyük.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-116">If multiple applications with the same name load multiple runtimes, the ambiguity is even greater.</span></span>  
  
 <span data-ttu-id="ec0e6-117">Bu belirsizliği ortadan kaldırmak için bir kayıt defteri anahtarı ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-117">You can set a registry key to eliminate this ambiguity.</span></span> <span data-ttu-id="ec0e6-118">Kullanılarak geliştirilen uygulamaları için [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], bu kayıt defteri değişikliği uygulama adı için bir çalışma zamanı örneği tanımlayıcısı tarafından izlenen bir işlem tanımlayıcısı ekler **örneği** sütun.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-118">For applications developed using the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], this registry change adds a process identifier followed by a runtime instance identifier to the application name in the **Instance** column.</span></span> <span data-ttu-id="ec0e6-119">Yerine *uygulama* veya *uygulama*#1, uygulama artık tanımlanmıştır *uygulama*_`p`*ProcessId* \_ `r` *runtimeID* içinde **örneği** sütun.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-119">Instead of *application* or *application*#1, the application is now identified as *application*_`p`*processID*\_`r`*runtimeID* in the **Instance** column.</span></span> <span data-ttu-id="ec0e6-120">Ortak dil çalışma zamanı önceki bir sürümünü kullanarak bir uygulama geliştirilmiştir, bu örneği olarak temsil edilir *uygulama\_*`p`*ProcessId* koşuluyla [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] yüklenir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-120">If an application was developed using a previous version of the common language runtime, that instance is represented as *application\_*`p`*processID* provided that the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] is installed.</span></span>  
  
## <a name="performance-counters-for-in-process-side-by-side-applications"></a><span data-ttu-id="ec0e6-121">İşlem içi yan yana uygulamalar için performans sayaçları</span><span class="sxs-lookup"><span data-stu-id="ec0e6-121">Performance Counters for In-Process Side-by-Side Applications</span></span>  
 <span data-ttu-id="ec0e6-122">Tek bir uygulama içinde barındırılan birden çok ortak dil çalışma zamanı sürümü için performans sayaçları işlemek için aşağıdaki tabloda gösterildiği gibi bir tek kayıt defteri anahtarı ayarı değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-122">To handle performance counters for multiple common language runtime versions that are hosted in a single application, you must change a single registry key setting, as shown in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="ec0e6-123">Anahtar adı</span><span class="sxs-lookup"><span data-stu-id="ec0e6-123">Key name</span></span>|<span data-ttu-id="ec0e6-124">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\\. NETFramework\Performance</span><span class="sxs-lookup"><span data-stu-id="ec0e6-124">HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\\.NETFramework\Performance</span></span>|  
|<span data-ttu-id="ec0e6-125">Değer adı</span><span class="sxs-lookup"><span data-stu-id="ec0e6-125">Value name</span></span>|<span data-ttu-id="ec0e6-126">Eklemek</span><span class="sxs-lookup"><span data-stu-id="ec0e6-126">ProcessNameFormat</span></span>|  
|<span data-ttu-id="ec0e6-127">Değer türü</span><span class="sxs-lookup"><span data-stu-id="ec0e6-127">Value type</span></span>|<span data-ttu-id="ec0e6-128">REG_DWORD</span><span class="sxs-lookup"><span data-stu-id="ec0e6-128">REG_DWORD</span></span>|  
|<span data-ttu-id="ec0e6-129">Değer</span><span class="sxs-lookup"><span data-stu-id="ec0e6-129">Value</span></span>|<span data-ttu-id="ec0e6-130">1 (0x00000001)</span><span class="sxs-lookup"><span data-stu-id="ec0e6-130">1 (0x00000001)</span></span>|  
  
 <span data-ttu-id="ec0e6-131">İçin 0 değerini `ProcessNameFormat` varsayılan davranışı; olan etkin, Perfmon.exe bir uygulama başına temelinde performans sayaçlarını görüntüler gösterir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-131">A value of 0 for `ProcessNameFormat` indicates that the default behavior is enabled; that is, Perfmon.exe displays performance counters on a per-application basis.</span></span> <span data-ttu-id="ec0e6-132">Bu değer 1 olarak ayarlayın, Perfmon.exe bir uygulama birden fazla sürümünü açıklar ve bir çalışma zamanı başına temelinde performans sayaçlarını sağlar.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-132">When you set this value to 1, Perfmon.exe disambiguates multiple versions of an application and provides performance counters on a per-runtime basis.</span></span> <span data-ttu-id="ec0e6-133">Başka bir değer için `ProcessNameFormat` kayıt defteri anahtarı ayarı desteklenmeyen ve gelecekte kullanılmak üzere ayrılmış.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-133">Any other value for the `ProcessNameFormat` registry key setting is unsupported and reserved for future use.</span></span>  
  
 <span data-ttu-id="ec0e6-134">Güncelleştirdikten sonra `ProcessNameFormat` kayıt defteri anahtarı böylece yeni örneğini adlandırma özelliği düzgün çalıştığını ayarı Perfmon.exe veya herhangi bir tüketiciye performans sayaçları yeniden başlatmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-134">After you update the `ProcessNameFormat` registry key setting, you must restart Perfmon.exe or any other consumers of performance counters so that the new instance naming feature works correctly.</span></span>  
  
 <span data-ttu-id="ec0e6-135">Aşağıdaki örnekte nasıl değiştirileceğini gösterir `ProcessNameFormat` program aracılığıyla değeri.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-135">The following example shows how to change the `ProcessNameFormat` value programmatically.</span></span>  
  
 [!code-csharp[Conceptual.PerfCounters.InProSxS#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.perfcounters.inprosxs/cs/regsetting1.cs#1)]
 [!code-vb[Conceptual.PerfCounters.InProSxS#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.perfcounters.inprosxs/vb/regsetting1.vb#1)]  
  
 <span data-ttu-id="ec0e6-136">Bu kayıt defteri değişikliğini yaptığınızda, Perfmon.exe uygulamaları adlarını hedefleyen görüntüler. [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] olarak *uygulama*_`p`*ProcessId* \_ `r` *runtimeID*, burada *uygulama* uygulama adı *ProcessId* uygulamanın işlem tanımlayıcısı ve  *runtimeID* bir ortak dil çalışma zamanı tanımlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-136">When you make this registry change, Perfmon.exe displays the names of applications that target the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] as *application*_`p`*processID*\_`r`*runtimeID*, where *application* is the name of the application, *processID* is the application's process identifier, and *runtimeID* is a common language runtime identifier.</span></span> <span data-ttu-id="ec0e6-137">Örneğin, bir uygulama ortak dil çalışma zamanı iki örneğini myapp.exe yükleri adlandırırsanız Perfmon.exe bir örneği olarak myapp_p1416_r10 ve ikinci myapp_p3160_r10 olarak tanımlayabilir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-137">For example, if an application named myapp.exe loads two instances of the common language runtime, Perfmon.exe may identify one instance as myapp_p1416_r10 and the second as myapp_p3160_r10.</span></span> <span data-ttu-id="ec0e6-138">Çalışma zamanı tanımlayıcı yalnızca bir işlem içinde çalışma zamanları açıklar; çalışma zamanı hakkında herhangi bir bilgi sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-138">The runtime identifier only disambiguates the runtimes within a process; it does not provide any other information about the runtime.</span></span> <span data-ttu-id="ec0e6-139">(Örneğin, çalışma zamanı kimliği sürümü veya SKU çalışma zamanının hiçbir ilişki yoktur.)</span><span class="sxs-lookup"><span data-stu-id="ec0e6-139">(For example, the runtime ID has no relation to the version or the SKU of the runtime.)</span></span>  
  
 <span data-ttu-id="ec0e6-140">Varsa [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] olan yüklü, kayıt defteri değişikliği de .NET Framework'ün önceki sürümleri kullanılarak geliştirilen uygulamaları etkiler.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-140">If the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] is installed, the registry change also affects applications that were developed using earlier versions of the .NET Framework.</span></span> <span data-ttu-id="ec0e6-141">Bunlar Perfmon.exe görünür *application_*`p`*ProcessId*, burada *uygulama* uygulama adı ve *ProcessId* işlem tanımlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-141">These appear in Perfmon.exe as *application_*`p`*processID*, where *application* is the application name and *processID* is the process identifier.</span></span> <span data-ttu-id="ec0e6-142">Performans sayaçları myapp.exe adlı iki uygulamalarının izleniyorsa, örneğin, bir myapp_p23900 diğeri de myapp_p24908 olarak görünebilir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-142">For example, if the performance counters of two applications named myapp.exe are monitored, one might appear as myapp_p23900 and the other as myapp_p24908.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ec0e6-143">İşlem tanımlayıcısını çalışma zamanı'nın önceki sürümlerini kullanan iki uygulamalar aynı ada sahip çözümleme belirsizliği ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-143">The process identifier eliminates the ambiguity of resolving two applications with the same name that use earlier versions of the runtime.</span></span> <span data-ttu-id="ec0e6-144">Ortak dil çalışma zamanı önceki sürümlerini yan yana senaryolarda desteklemediği için bir çalışma zamanı tanımlayıcı önceki sürümler için gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-144">A runtime identifier is not required for previous versions, because previous versions of the common language runtime do not support side-by-side scenarios.</span></span>  
  
 <span data-ttu-id="ec0e6-145">Varsa [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] mevcut değil ya da kaldırılmış, kayıt defteri anahtarı ayarı hiçbir etkisi olmaz.</span><span class="sxs-lookup"><span data-stu-id="ec0e6-145">If the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] is not present or was uninstalled, setting the registry key has no effect.</span></span> <span data-ttu-id="ec0e6-146">Aynı ada sahip iki uygulama Perfmon.exe olarak görünmeye devam edecek yani *uygulama* ve *uygulama #1* (örneğin, **Uygulamam** ve **Uygulamam #1**).</span><span class="sxs-lookup"><span data-stu-id="ec0e6-146">This means that two applications with the same name will continue to appear in Perfmon.exe as *application* and *application#1* (for example, as **myapp** and **myapp#1**).</span></span>
