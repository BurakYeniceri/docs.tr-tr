---
title: Otomatik Biçim Seçimi
ms.date: 03/30/2017
ms.assetid: dab51e56-8517-4a6a-bb54-b55b15ab37bb
ms.openlocfilehash: 4fd695195f5c7c13bc088248a6b3c12388328d37
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/04/2018
ms.locfileid: "43659767"
---
# <a name="automatic-format-selection"></a><span data-ttu-id="e8b14-102">Otomatik Biçim Seçimi</span><span class="sxs-lookup"><span data-stu-id="e8b14-102">Automatic Format Selection</span></span>
<span data-ttu-id="e8b14-103">Bu örnek, biçimini işlemi kodda açıkça ayarlamak nasıl yanı sıra model programlama Windows Communication Foundation (WCF) REST ile otomatik biçim seçimi (XML veya JSON) etkinleştirme gösterir.</span><span class="sxs-lookup"><span data-stu-id="e8b14-103">This sample demonstrates how to enable automatic format selection (XML or JSON) with the Windows Communication Foundation (WCF) REST programming model, as well as how to explicitly set the format in the operation code.</span></span>  
  
## <a name="sample-details"></a><span data-ttu-id="e8b14-104">Örnek Ayrıntıları</span><span class="sxs-lookup"><span data-stu-id="e8b14-104">Sample Details</span></span>  
 <span data-ttu-id="e8b14-105">Bir hizmet için hizmet isteği yapan istemci kodunun yanı sıra örnek oluşur.</span><span class="sxs-lookup"><span data-stu-id="e8b14-105">The sample consists of a service along with client code that makes requests to the service.</span></span> <span data-ttu-id="e8b14-106">Tek bir HTTP hizmetinin desteklediği `GET` işlemi (`EchoWithGet`) ve tek bir HTTP `POST` işlemi (`EchoWithPost`).</span><span class="sxs-lookup"><span data-stu-id="e8b14-106">The service supports a single HTTP `GET` operation (`EchoWithGet`) and a single HTTP `POST` operation (`EchoWithPost`).</span></span> <span data-ttu-id="e8b14-107">Her iki işlem beklediğiniz bir dize ve dize yanıtta dönün.</span><span class="sxs-lookup"><span data-stu-id="e8b14-107">Both operations expect a string and then return the string in the response.</span></span> <span data-ttu-id="e8b14-108">İle `GET` işlemi, dize bir URI sorgu dizesi parametresi sağlanır.</span><span class="sxs-lookup"><span data-stu-id="e8b14-108">With the `GET` operation, the string is provided in a URI query-string parameter.</span></span> <span data-ttu-id="e8b14-109">İle `POST` işlemi, dize XML olarak serileştirilme istek gövdesinde sağlanır.</span><span class="sxs-lookup"><span data-stu-id="e8b14-109">With the `POST` operation, the string is provided in the body of the request, serialized in XML.</span></span> <span data-ttu-id="e8b14-110">Hizmet, XML veya JSON, kesinlik temelli Biçim Seçimi özellikleri ve yeni Otomatik Biçim Seçimi yararlanarak yanıtlarını döndürmek bulabildiği [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e8b14-110">The service is able to return responses in either XML or JSON, utilizing the new automatic format selection and imperative format selection features in [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)].</span></span>  
  
 <span data-ttu-id="e8b14-111">Bu örnekte App.config dosyasını kullanarak Otomatik Biçim Seçimi etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="e8b14-111">In the sample, automatic format selection is enabled using the App.config file.</span></span> <span data-ttu-id="e8b14-112">Varsayılan Web HTTP uç noktasında `automaticFormatSelectionEnabled` öznitelik değerini verildiği `true`.</span><span class="sxs-lookup"><span data-stu-id="e8b14-112">On the default Web HTTP endpoint, the `automaticFormatSelectionEnabled` attribute has been given a value of `true`.</span></span> <span data-ttu-id="e8b14-113">Etkin otomatik biçim seçimi ile WCF altyapısı verilen İstek HTTP kabul edin veya Content-Type üstbilgisi en uygun yanıt biçimi (XML veya JSON) seçer.</span><span class="sxs-lookup"><span data-stu-id="e8b14-113">With automatic format selection enabled, the WCF infrastructure selects the most appropriate response format (XML or JSON) given the HTTP Accept or Content-Type headers of the request.</span></span> <span data-ttu-id="e8b14-114">Geliştirici herhangi bir ek kod veya yapılandırma ayarı dışında sağlamak için gerekli olmayan `automaticFormatSelectionEnabled` özniteliğini `true` bu yeni özelliği kullanmak için.</span><span class="sxs-lookup"><span data-stu-id="e8b14-114">The developer is not required to provide any additional code or configuration other than setting the `automaticFormatSelectionEnabled` attribute to `true` to use this new feature.</span></span> <span data-ttu-id="e8b14-115">İstemci program.cs'deki kodu her iki gönderdiği istekleri `GET` ve `POST` "application/xml" veya "application/json" olarak belirtilen HTTP kabul başlık hizmetiyle ve hizmet işlemleri, bir yanıt döndürür ilgili biçimi.</span><span class="sxs-lookup"><span data-stu-id="e8b14-115">In the client code in Program.cs, requests are sent to both the `GET` and `POST` operations of the service with the HTTP Accept header specified as either "application/xml" or "application/json" and the service returns a response in that respective format.</span></span>  
  
 <span data-ttu-id="e8b14-116">Ayrıca `GET` işlemi, kesinlik temelli Biçim Seçimi kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e8b14-116">Also in the `GET` operation, imperative format selection is used.</span></span> <span data-ttu-id="e8b14-117">`GET` İşlemi için bir isteğe bağlı denetler `format` sorgu dizesi parametresi ve yanıt biçimi varsa, ayarlar <xref:System.ServiceModel.Web.WebOperationContext.OutgoingResponse%2A> özelliği.</span><span class="sxs-lookup"><span data-stu-id="e8b14-117">The `GET` operation checks for an optional `format` query-string parameter and if present, sets the response format on the <xref:System.ServiceModel.Web.WebOperationContext.OutgoingResponse%2A> property.</span></span> <span data-ttu-id="e8b14-118">Kesin yanıt biçimi bu şekilde ayarlama, WCF altyapısı tarafından yapılan otomatik biçim seçimi geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="e8b14-118">Imperatively setting the response format in this way overrides the automatic format selection done by the WCF infrastructure.</span></span>  
  
 <span data-ttu-id="e8b14-119">Örnek şirket içinde barındırılan bir hizmet ve içinde bir konsol uygulaması çalıştıran bir istemciyi oluşur.</span><span class="sxs-lookup"><span data-stu-id="e8b14-119">The sample consists of a self-hosted service and a client that runs within a console application.</span></span> <span data-ttu-id="e8b14-120">Konsol uygulamasının çalışır gibi istemci hizmete isteği yapan ve konsol penceresine yanıtlardan bilgileri yazar.</span><span class="sxs-lookup"><span data-stu-id="e8b14-120">As the console application runs, the client makes requests to the service and writes the pertinent information from the responses to the console window.</span></span>  
  
#### <a name="to-use-this-sample"></a><span data-ttu-id="e8b14-121">Bu örneği kullanmak için</span><span class="sxs-lookup"><span data-stu-id="e8b14-121">To use this sample</span></span>  
  
1.  <span data-ttu-id="e8b14-122">Otomatik Biçim Seçimi örneği için çözümü açın.</span><span class="sxs-lookup"><span data-stu-id="e8b14-122">Open the solution for the Automatic Format Selection Sample.</span></span> <span data-ttu-id="e8b14-123">Başlatma sırasında [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], başarılı bir şekilde yürütmek için örnek için yönetici çalıştırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e8b14-123">When launching [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)], you must run as an administrator for the sample to execute successfully.</span></span> <span data-ttu-id="e8b14-124">Sağ tıklayarak bunu [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] simgesini seçip alt **yönetici olarak çalıştır** bağlam menüsünden.</span><span class="sxs-lookup"><span data-stu-id="e8b14-124">Do this by right-clicking the [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] icon and select **Run as Administrator** from the context menu.</span></span>  
  
2.  <span data-ttu-id="e8b14-125">Çözümü derleyin ve konsol uygulaması AutomaticFormatSelection projeyi çalıştırmak için Ctrl + F5 tuşuna basın CTRL + SHIFT + B tuşlarına basın.</span><span class="sxs-lookup"><span data-stu-id="e8b14-125">Press CTRL+SHIFT+B to build the solution and then press Ctrl+F5 to run the console application AutomaticFormatSelection project.</span></span> <span data-ttu-id="e8b14-126">Konsol penceresinde görünür ve çalışan hizmetin URI sağlar ve URI HTML Yardım sayfası çalışan hizmeti.</span><span class="sxs-lookup"><span data-stu-id="e8b14-126">The console window appears and provides the URI of the running service and the URI of the HTML help page for the running service.</span></span>  
  
3.  <span data-ttu-id="e8b14-127">Örnek çalışırken, istemci hizmete istekler gönderir ve konsol penceresine yanıtları yazar.</span><span class="sxs-lookup"><span data-stu-id="e8b14-127">As the sample runs, the client sends requests to the service and writes the responses to the console window.</span></span> <span data-ttu-id="e8b14-128">XML ve JSON yanıtların farklı biçimler dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="e8b14-128">Notice the different formats of the responses in XML and JSON.</span></span>  
  
4.  <span data-ttu-id="e8b14-129">Örnek sonlandırmak için herhangi bir tuşa basın.</span><span class="sxs-lookup"><span data-stu-id="e8b14-129">Press any key to terminate the sample.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="e8b14-130">Örnekler, makinenizde zaten yüklü.</span><span class="sxs-lookup"><span data-stu-id="e8b14-130">The samples may already be installed on your machine.</span></span> <span data-ttu-id="e8b14-131">Devam etmeden önce şu (varsayılan) dizin denetleyin.</span><span class="sxs-lookup"><span data-stu-id="e8b14-131">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="e8b14-132">Bu dizin mevcut değilse Git [Windows Communication Foundation (WCF) ve .NET Framework 4 için Windows Workflow Foundation (WF) örnekleri](https://go.microsoft.com/fwlink/?LinkId=150780) tüm Windows Communication Foundation (WCF) indirmek için ve [!INCLUDE[wf1](../../../../includes/wf1-md.md)] örnekleri.</span><span class="sxs-lookup"><span data-stu-id="e8b14-132">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="e8b14-133">Bu örnek, şu dizinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="e8b14-133">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WCF\Basic\Web\AutomaticFormatSelection`  
  
## <a name="see-also"></a><span data-ttu-id="e8b14-134">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="e8b14-134">See Also</span></span>
