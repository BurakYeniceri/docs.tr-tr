---
title: "Etkinlik ağaç denetleme"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 100d00e4-8c1d-4233-8fbb-dd443a01155d
caps.latest.revision: "10"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 91f706b527551bd66bfa18dc926f9453ea9b30fe
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/02/2017
---
# <a name="activity-tree-inspection"></a><span data-ttu-id="7f8ab-102">Etkinlik ağaç denetleme</span><span class="sxs-lookup"><span data-stu-id="7f8ab-102">Activity Tree Inspection</span></span>
<span data-ttu-id="7f8ab-103">Etkinlik ağaç denetleme, uygulama tarafından barındırılan iş akışları incelemek için iş akışı uygulama yazarlar tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-103">Activity tree inspection is used by workflow application authors to inspect the workflows hosted by the application.</span></span> <span data-ttu-id="7f8ab-104">Kullanarak <xref:System.Activities.WorkflowInspectionServices>iş akışları etkinlikler belirli alt etkinlikler için arama ve bunların özelliklerini olarak numaralandırılmış ve etkinliklerin çalışma zamanı meta verileri, belirli bir süre boyunca önbelleğe alınacağını.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-104">By using <xref:System.Activities.WorkflowInspectionServices>, workflows can be searched for specific child activities, individual activities and their properties can be enumerated, and runtime metadata of the activities can be cached at a specific time.</span></span> <span data-ttu-id="7f8ab-105">Bu konu genel bir bakış sağlar <xref:System.Activities.WorkflowInspectionServices> ve bir etkinlik ağacı incelemek için kullanma.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-105">This topic provides an overview of <xref:System.Activities.WorkflowInspectionServices> and how to use it to inspect an activity tree.</span></span>  
  
## <a name="using-workflowinspectionservices"></a><span data-ttu-id="7f8ab-106">WorkflowInspectionServices kullanma</span><span class="sxs-lookup"><span data-stu-id="7f8ab-106">Using WorkflowInspectionServices</span></span>  
 <span data-ttu-id="7f8ab-107"><xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> Yöntemi belirtilen etkinlik ağacında etkinliklerin tümünü numaralandırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-107">The <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> method is used to enumerate all of the activities in the specified activity tree.</span></span> <span data-ttu-id="7f8ab-108"><xref:System.Activities.WorkflowInspectionServices.GetActivities%2A>alt öğe, temsilci işleyicileri, değişkeni varsayılan ve bağımsız değişkeni ifadeler gibi ağaç içindeki tüm etkinlikleri dokunur bir sayıyı döndürür.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-108"><xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> returns an enumerable that touches all activities within the tree including children, delegate handlers, variable defaults, and argument expressions.</span></span> <span data-ttu-id="7f8ab-109">Aşağıdaki örnekte, bir iş akışı tanımı kullanılarak oluşturulan bir <xref:System.Activities.Statements.Sequence>, <xref:System.Activities.Statements.While>, <xref:System.Activities.Statements.ForEach%601>, <xref:System.Activities.Statements.WriteLine>ve ifadeler.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-109">In the following example, a workflow definition is created by using a <xref:System.Activities.Statements.Sequence>, <xref:System.Activities.Statements.While>, <xref:System.Activities.Statements.ForEach%601>, <xref:System.Activities.Statements.WriteLine>, and expressions.</span></span> <span data-ttu-id="7f8ab-110">İş akışı tanımı oluşturulduktan sonra çağrılır ve ardından `InspectActivity` yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-110">After the workflow definition is created, it is invoked and then the `InspectActivity` method is called.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#45](../../../samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#45)]  
  
 <span data-ttu-id="7f8ab-111">Etkinlikler Numaralandırılacak <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> Kök etkinlik ve yeniden döndürülen her etkinlik yinelemeli olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-111">To enumerate the activities, the <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> is called on the root activity, and again recursively on each returned activity.</span></span> <span data-ttu-id="7f8ab-112">Aşağıdaki örnekte, <xref:System.Activities.Activity.DisplayName%2A> her bir etkinlik ve etkinlik ifadesinde ağaç konsoluna yazılır.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-112">In the following example, the <xref:System.Activities.Activity.DisplayName%2A> of each activity and expression in the activity tree is written to the console.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#46](../../../samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#46)]  
  
 <span data-ttu-id="7f8ab-113">Bu örnek kod, aşağıdaki çıkış sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-113">This sample code provides the following output.</span></span>  
  
 <span data-ttu-id="7f8ab-114">**Liste öğesi 1**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-114">**List Item 1**</span></span>  
<span data-ttu-id="7f8ab-115">**Liste öğesi 2** </span><span class="sxs-lookup"><span data-stu-id="7f8ab-115">**List Item 2** </span></span>  
<span data-ttu-id="7f8ab-116">**Liste öğesi 3** </span><span class="sxs-lookup"><span data-stu-id="7f8ab-116">**List Item 3** </span></span>  
<span data-ttu-id="7f8ab-117">**Liste öğesi 4** </span><span class="sxs-lookup"><span data-stu-id="7f8ab-117">**List Item 4** </span></span>  
<span data-ttu-id="7f8ab-118">**Liste öğesi 5** </span><span class="sxs-lookup"><span data-stu-id="7f8ab-118">**List Item 5** </span></span>  
<span data-ttu-id="7f8ab-119">**Koleksiyona eklenen öğeler.** </span><span class="sxs-lookup"><span data-stu-id="7f8ab-119">**Items added to collection.** </span></span>  
<span data-ttu-id="7f8ab-120">**Sırası** </span><span class="sxs-lookup"><span data-stu-id="7f8ab-120">**Sequence** </span></span>  
 <span data-ttu-id="7f8ab-121">**Değişmez değer < listesi\<dize >>**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-121">**Literal<List\<String>>**</span></span>  
 <span data-ttu-id="7f8ab-122">**While**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-122">**While**</span></span>  
 <span data-ttu-id="7f8ab-123">**AddToCollection\<dize >**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-123">**AddToCollection\<String>**</span></span>  
 <span data-ttu-id="7f8ab-124">**VariableValue < ICollection\<dize >>**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-124">**VariableValue<ICollection\<String>>**</span></span>  
 <span data-ttu-id="7f8ab-125">**LambdaValue\<dize >**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-125">**LambdaValue\<String>**</span></span>  
 <span data-ttu-id="7f8ab-126">**LocationReferenceValue < listesi\<dize >>**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-126">**LocationReferenceValue<List\<String>>**</span></span>  
 <span data-ttu-id="7f8ab-127">**LambdaValue\<Boole >**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-127">**LambdaValue\<Boolean>**</span></span>  
 <span data-ttu-id="7f8ab-128">**LocationReferenceValue < listesi\<dize >>**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-128">**LocationReferenceValue<List\<String>>**</span></span>  
 <span data-ttu-id="7f8ab-129">**ForEach\<dize >**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-129">**ForEach\<String>**</span></span>  
 <span data-ttu-id="7f8ab-130">**VariableValue < IEnumerable\<dize >>**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-130">**VariableValue<IEnumerable\<String>>**</span></span>  
 <span data-ttu-id="7f8ab-131">**WriteLine**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-131">**WriteLine**</span></span>  
 <span data-ttu-id="7f8ab-132">**DelegateArgumentValue\<dize >**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-132">**DelegateArgumentValue\<String>**</span></span>  
 <span data-ttu-id="7f8ab-133">**Sırası**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-133">**Sequence**</span></span>  
 <span data-ttu-id="7f8ab-134">**WriteLine**</span><span class="sxs-lookup"><span data-stu-id="7f8ab-134">**WriteLine**</span></span>  
 <span data-ttu-id="7f8ab-135">**Değişmez değer\<dize >** tüm etkinlikleri numaralandırma yerine belirli bir etkinliğe almak için <xref:System.Activities.WorkflowInspectionServices.Resolve%2A> kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-135">**Literal\<String>**  To retrieve a specific activity instead of enumerating all of the activities, <xref:System.Activities.WorkflowInspectionServices.Resolve%2A> is used.</span></span> <span data-ttu-id="7f8ab-136">Her ikisi de <xref:System.Activities.WorkflowInspectionServices.Resolve%2A> ve <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> , meta verileri önbelleğe alma işlemi `WorkflowInspectionServices.CacheMetadata` daha önce çağrılmadıysa.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-136">Both <xref:System.Activities.WorkflowInspectionServices.Resolve%2A> and <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> perform metadata caching if `WorkflowInspectionServices.CacheMetadata` has not been previously called.</span></span> <span data-ttu-id="7f8ab-137">Varsa <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A> sonra adlı <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> varolan meta verileri temel alarak.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-137">If <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A> has been called then <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> is based on the existing metadata.</span></span> <span data-ttu-id="7f8ab-138">Bu nedenle, son çağrısından sonra ağaç değişiklik yapılıp yapılmadığını <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A>, <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> beklenmeyen sonuçlar verebilir.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-138">Therefore, if tree changes have been made since the last call to <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A>, <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A> might give unexpected results.</span></span> <span data-ttu-id="7f8ab-139">İş akışına çağrıldıktan sonra yapılan değişiklikler, <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A>, meta verileri yeniden önbelleğe alınacağını çağırarak <xref:System.Activities.Validation.ActivityValidationServices> <xref:System.Activities.Validation.ActivityValidationServices.Validate%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-139">If changes have been made to the workflow after calling <xref:System.Activities.WorkflowInspectionServices.GetActivities%2A>, metadata can be re-cached by calling the <xref:System.Activities.Validation.ActivityValidationServices> <xref:System.Activities.Validation.ActivityValidationServices.Validate%2A> method.</span></span> <span data-ttu-id="7f8ab-140">Önbelleğe alma meta verileri bir sonraki bölümde ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-140">Caching metadata is discussed in the next section.</span></span>  
  
### <a name="caching-metadata"></a><span data-ttu-id="7f8ab-141">Meta verileri önbelleğe alma</span><span class="sxs-lookup"><span data-stu-id="7f8ab-141">Caching Metadata</span></span>  
 <span data-ttu-id="7f8ab-142">Bir etkinlik için meta verileri önbelleğe alma oluşturur ve açıklamasını etkinliğe ilişkin bağımsız değişkenler, değişkenleri, alt etkinlikleri ve etkinlik temsilciler doğrular.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-142">Caching the metadata for an activity builds and validates a description of the activity’s arguments, variables, child activities, and activity delegates.</span></span> <span data-ttu-id="7f8ab-143">Bir etkinlik yürütme için hazırlandığınızda meta verileri, varsayılan olarak, çalışma zamanı tarafından önbelleğe alınır.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-143">Metadata, by default, is cached by the runtime when an activity is prepared for execution.</span></span> <span data-ttu-id="7f8ab-144">Bir etkinlik veya tüm maliyet önceden, ardından yapılacak Örneğin bu önce etkinlik ağacı için meta verileri önbelleğe almak bir iş akışı ana Yazar istiyorsa, <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A> istenen zamanında meta verileri önbelleğe almak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7f8ab-144">If a workflow host author wants to cache the metadata for an activity or activity tree before this, for example to take all of the cost upfront, then <xref:System.Activities.WorkflowInspectionServices.CacheMetadata%2A> can be used to cache the metadata at the desired time.</span></span>
