---
title: Kuyruğa Alınan İletilerde Sorun Giderme
ms.date: 03/30/2017
ms.assetid: a5f2836f-018d-42f5-a571-1e97e64ea5b0
ms.openlocfilehash: 45a3bf82662fcc01b732428d1ca351e4ae8ddca0
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33509131"
---
# <a name="troubleshooting-queued-messaging"></a><span data-ttu-id="b7f74-102">Kuyruğa Alınan İletilerde Sorun Giderme</span><span class="sxs-lookup"><span data-stu-id="b7f74-102">Troubleshooting Queued Messaging</span></span>
<span data-ttu-id="b7f74-103">Bu bölüm yaygın sorular ve sorun giderme Yardımı için Windows Communication Foundation (WCF) kuyrukları kullanma içerir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-103">This section contains common questions and troubleshooting help for using queues in Windows Communication Foundation (WCF).</span></span>  
  
## <a name="common-questions"></a><span data-ttu-id="b7f74-104">Sık sorulan sorular</span><span class="sxs-lookup"><span data-stu-id="b7f74-104">Common Questions</span></span>  
 <span data-ttu-id="b7f74-105">**S:** WCF Beta 1 kullanılan ve MSMQ düzeltme yüklü.</span><span class="sxs-lookup"><span data-stu-id="b7f74-105">**Q:** I used WCF Beta 1 and I installed the MSMQ hotfix.</span></span> <span data-ttu-id="b7f74-106">Düzeltmeyi kaldırmak gerekiyor mu?</span><span class="sxs-lookup"><span data-stu-id="b7f74-106">Do I need to remove the hotfix?</span></span>  
  
 <span data-ttu-id="b7f74-107">**Y:** Evet.</span><span class="sxs-lookup"><span data-stu-id="b7f74-107">**A:** Yes.</span></span> <span data-ttu-id="b7f74-108">Bu düzeltme artık desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="b7f74-108">This hotfix is no longer supported.</span></span> <span data-ttu-id="b7f74-109">WCF MSMQ üzerinde bir düzeltme gereksinimi şimdi çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="b7f74-109">WCF now works on MSMQ without a hotfix requirement.</span></span>  
  
 <span data-ttu-id="b7f74-110">**S:** MSMQ için iki bağlamaları vardır: <xref:System.ServiceModel.NetMsmqBinding> ve <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span><span class="sxs-lookup"><span data-stu-id="b7f74-110">**Q:** There are two bindings for MSMQ: <xref:System.ServiceModel.NetMsmqBinding> and <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span></span> <span data-ttu-id="b7f74-111">Ne kullanmalıyım ve ne zaman?</span><span class="sxs-lookup"><span data-stu-id="b7f74-111">What should I use and when?</span></span>  
  
 <span data-ttu-id="b7f74-112">**Y:** kullanmak <xref:System.ServiceModel.NetMsmqBinding> MSMQ iki WCF uygulamalar arasında kuyruğa alınan iletişim için bir taşıma olarak kullanmak istediğiniz zaman.</span><span class="sxs-lookup"><span data-stu-id="b7f74-112">**A:** Use the <xref:System.ServiceModel.NetMsmqBinding> when you want to use MSMQ as a transport for queued communication between two WCF applications.</span></span> <span data-ttu-id="b7f74-113">Kullanmak <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> varolan MSMQ uygulamalarının yeni WCF uygulamalarla iletişim kurmak için kullanmak istediğiniz zaman.</span><span class="sxs-lookup"><span data-stu-id="b7f74-113">Use the <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> when you want to use existing MSMQ applications to communicate with new WCF applications.</span></span>  
  
 <span data-ttu-id="b7f74-114">**S:** kullanmak için MSMQ yükseltme zorunda <xref:System.ServiceModel.NetMsmqBinding> ve `MsmqIntegration` bağlamaları?</span><span class="sxs-lookup"><span data-stu-id="b7f74-114">**Q:** Do I have to upgrade MSMQ to use the <xref:System.ServiceModel.NetMsmqBinding> and `MsmqIntegration` bindings?</span></span>  
  
 <span data-ttu-id="b7f74-115">**C:** Hayır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-115">**A:** No.</span></span> <span data-ttu-id="b7f74-116">MSMQ 3.0 ile çalışmak belirtilmemiştir [!INCLUDE[wxp](../../../../includes/wxp-md.md)] ve [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7f74-116">Both bindings work with MSMQ 3.0 on [!INCLUDE[wxp](../../../../includes/wxp-md.md)] and [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)].</span></span> <span data-ttu-id="b7f74-117">MSMQ 4. 0'ye yükseltme yaptığınızda bağlamaları belirli özellikleri kullanılabilir duruma [!INCLUDE[wv](../../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7f74-117">Certain features of the bindings become available when you upgrade to MSMQ 4.0 in [!INCLUDE[wv](../../../../includes/wv-md.md)].</span></span>  
  
 <span data-ttu-id="b7f74-118">**S:** hangi özelliklerini <xref:System.ServiceModel.NetMsmqBinding> ve <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> bağlamaları MSMQ 4.0 ancak içinde değil MSMQ 3.0 kullanılabilir?</span><span class="sxs-lookup"><span data-stu-id="b7f74-118">**Q:** What features of the <xref:System.ServiceModel.NetMsmqBinding> and <xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding> bindings are available in MSMQ 4.0 but not in MSMQ 3.0?</span></span>  
  
 <span data-ttu-id="b7f74-119">**Y:** MSMQ 4.0 ancak içinde değil MSMQ 3.0 aşağıdaki özellikler mevcuttur:</span><span class="sxs-lookup"><span data-stu-id="b7f74-119">**A:** The following features are available in MSMQ 4.0 but not in MSMQ 3.0:</span></span>  
  
-   <span data-ttu-id="b7f74-120">Özel sahipsiz sırayı yalnızca MSMQ 4.0 üzerinde desteklenir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-120">Custom dead-letter queue is supported only on MSMQ 4.0.</span></span>  
  
-   <span data-ttu-id="b7f74-121">MSMQ 3.0 ve 4.0 zarar iletileri farklı şekilde işler.</span><span class="sxs-lookup"><span data-stu-id="b7f74-121">MSMQ 3.0 and 4.0 handle poison messages differently.</span></span>  
  
-   <span data-ttu-id="b7f74-122">Yalnızca MSMQ 4.0 uzaktan hizmetteki okuma destekler.</span><span class="sxs-lookup"><span data-stu-id="b7f74-122">Only MSMQ 4.0 supports remote transacted read.</span></span>  
  
 <span data-ttu-id="b7f74-123">Daha fazla bilgi için bkz: [Queuing özelliği Windows Vista, Windows Server 2003 ve Windows XP arasındaki farklar](../../../../docs/framework/wcf/feature-details/diff-in-queue-in-vista-server-2003-windows-xp.md).</span><span class="sxs-lookup"><span data-stu-id="b7f74-123">For more information, see [Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP](../../../../docs/framework/wcf/feature-details/diff-in-queue-in-vista-server-2003-windows-xp.md).</span></span>  
  
 <span data-ttu-id="b7f74-124">**S:** MSMQ 3.0 kuyruğa alınan iletişim ve MSMQ 4.0 bir tarafındaki diğer tarafındaki kullanabilir miyim?</span><span class="sxs-lookup"><span data-stu-id="b7f74-124">**Q:** Can I use MSMQ 3.0 on one side of a queued communication and MSMQ 4.0 on the other side?</span></span>  
  
 <span data-ttu-id="b7f74-125">**Y:** Evet.</span><span class="sxs-lookup"><span data-stu-id="b7f74-125">**A:** Yes.</span></span>  
  
 <span data-ttu-id="b7f74-126">**S:** varolan MSMQ uygulamalarının yeni WCF istemciler veya sunucular ile tümleştirmek istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="b7f74-126">**Q:** I want to integrate existing MSMQ applications with new WCF clients or servers.</span></span> <span data-ttu-id="b7f74-127">İki tarafı da my MSMQ altyapı yükseltme gerekiyor mu?</span><span class="sxs-lookup"><span data-stu-id="b7f74-127">Do I need to upgrade both sides of my MSMQ infrastructure?</span></span>  
  
 <span data-ttu-id="b7f74-128">**C:** Hayır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-128">**A:** No.</span></span> <span data-ttu-id="b7f74-129">Her iki tarafında MSMQ 4. 0'için yükseltme gerekmez.</span><span class="sxs-lookup"><span data-stu-id="b7f74-129">You do not have to upgrade to MSMQ 4.0 on either side.</span></span>  
  
## <a name="troubleshooting"></a><span data-ttu-id="b7f74-130">Sorun giderme</span><span class="sxs-lookup"><span data-stu-id="b7f74-130">Troubleshooting</span></span>  
 <span data-ttu-id="b7f74-131">Bu bölüm yaygın sorun giderme sorunlarını yanıtlarını içerir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-131">This section contains answers to most common troubleshooting issues.</span></span> <span data-ttu-id="b7f74-132">Sınırlamalar bilinen bazı sorunlar Sürüm Notları'nda da açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-132">Some issues that are known limitations are also described in the release notes.</span></span>  
  
 <span data-ttu-id="b7f74-133">**S:** özel sıra kullanmak çalışıyorum ve şu özel durum alın: `System.InvalidOperationException`: URL geçersiz.</span><span class="sxs-lookup"><span data-stu-id="b7f74-133">**Q:** I am trying to use a private queue and I get the following exception: `System.InvalidOperationException`: The URL is invalid.</span></span> <span data-ttu-id="b7f74-134">Sıra için URL '$' karakterini içeremez.</span><span class="sxs-lookup"><span data-stu-id="b7f74-134">The URL for the queue cannot contain the '$' character.</span></span> <span data-ttu-id="b7f74-135">Özel bir sıra adreslemek için.MSMQ://machine/private/queueName sözdizimini kullanın.</span><span class="sxs-lookup"><span data-stu-id="b7f74-135">Use the syntax in net.msmq://machine/private/queueName to address a private queue.</span></span>  
  
 <span data-ttu-id="b7f74-136">**Y:** sıraya Tekdüzen Kaynak Tanımlayıcısı (URI) yapılandırma ve kodu gözden geçirin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-136">**A:** Please check the queue Uniform Resource Identifier (URI) in your configuration and code.</span></span> <span data-ttu-id="b7f74-137">"$" Karakterini URI'de kullanmayın.</span><span class="sxs-lookup"><span data-stu-id="b7f74-137">Do not use the "$" character in the URI.</span></span> <span data-ttu-id="b7f74-138">Örneğin, OrdersQueue adlı özel bir sıra adreslemek için URI net.msmq://localhost/private/ordersQueue belirtin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-138">For example, to address a private queue named OrdersQueue, specify the URI as net.msmq://localhost/private/ordersQueue.</span></span>  
  
 <span data-ttu-id="b7f74-139">**S:** çağırma `ServiceHost.Open()` sıraya alınan Uygulamam üzerinde aşağıdaki özel durum oluşturur: `System.ArgumentException`: taban adresi bir URI sorgu dizesi içeremez.</span><span class="sxs-lookup"><span data-stu-id="b7f74-139">**Q:** Calling `ServiceHost.Open()` on my queued application throws the following exception: `System.ArgumentException`: A base address cannot contain a URI query string.</span></span> <span data-ttu-id="b7f74-140">Neden?</span><span class="sxs-lookup"><span data-stu-id="b7f74-140">Why?</span></span>  
  
 <span data-ttu-id="b7f74-141">**Y:** sıranın URI, yapılandırma dosyanızı ve kodunuzu denetleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-141">**A:** Check the queue URI in your configuration file and in your code.</span></span> <span data-ttu-id="b7f74-142">MSMQ kuyrukları kullanımını desteklerken '?' karakteri, URI bir dize sorgusu başlangıcı olarak bu karakteri yorumlama.</span><span class="sxs-lookup"><span data-stu-id="b7f74-142">While MSMQ queues support the use of the '?' character, URIs interpret this character as the beginning of a string query.</span></span> <span data-ttu-id="b7f74-143">Bu sorunu önlemek için içermeyen sıra adları kullanın. '?' karakteri.</span><span class="sxs-lookup"><span data-stu-id="b7f74-143">To avoid this issue, use queue names that do not contain '?' characters.</span></span>  
  
 <span data-ttu-id="b7f74-144">**S:** My gönderme başarılı oldu ancak hizmet işlemi alıcı çağrılır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-144">**Q:** My send succeeded but no service operation is invoked on the receiver.</span></span> <span data-ttu-id="b7f74-145">Neden?</span><span class="sxs-lookup"><span data-stu-id="b7f74-145">Why?</span></span>  
  
 <span data-ttu-id="b7f74-146">**Y:** yanıt belirlemek için aşağıdaki denetim listesinde çalışma:</span><span class="sxs-lookup"><span data-stu-id="b7f74-146">**A:** To determine the answer, work through the following check list:</span></span>  
  
-   <span data-ttu-id="b7f74-147">İşlem sırası gereksinimleri belirtilen çıkışların ile uyumlu olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="b7f74-147">Check that the transactional queue requirements are compatible with the assurances specified.</span></span> <span data-ttu-id="b7f74-148">Aşağıdaki ilkeleri dikkat edin:</span><span class="sxs-lookup"><span data-stu-id="b7f74-148">Note the following principles:</span></span>  
  
    -   <span data-ttu-id="b7f74-149">Dayanıklı iletileri (veri birimleri ve oturumları) güvence "tam bir kez ile" gönderebilirsiniz (<xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> = `true`) yalnızca bir işlem sırası için.</span><span class="sxs-lookup"><span data-stu-id="b7f74-149">You can send durable messages (datagrams and sessions) with "exactly once" assurances (<xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> = `true`) only to a transactional queue.</span></span>  
  
    -   <span data-ttu-id="b7f74-150">"Tam bir kez" çıkışların yalnızca oturumlarıyla gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b7f74-150">You can send sessions only with "exactly once" assurances.</span></span>  
  
    -   <span data-ttu-id="b7f74-151">Bir işlem, işlem sıradan bir oturumda ileti almak için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-151">A transaction is required to receive messages in a session from a transactional queue.</span></span>  
  
    -   <span data-ttu-id="b7f74-152">Geçici veya dayanıklı iletilerle (yalnızca veri birimleri) hiçbir garanti vermediğini gönderip alabilir (<xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> = `false`) yalnızca işlemsel olmayan bir sıraya için.</span><span class="sxs-lookup"><span data-stu-id="b7f74-152">You can send or receive volatile or durable messages (datagrams only) with no assurances (<xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> = `false`) only to a non-transactional queue.</span></span>  
  
-   <span data-ttu-id="b7f74-153">Sahipsiz Sıra denetleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-153">Check the dead-letter queue.</span></span> <span data-ttu-id="b7f74-154">İletilerin bulursanız, neden bunlar teslim edilmeyen belirler.</span><span class="sxs-lookup"><span data-stu-id="b7f74-154">If you find the messages there, determine why they were not delivered.</span></span>  
  
-   <span data-ttu-id="b7f74-155">Bağlantı veya sorunları adresleme giden sıralarının denetleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-155">Check the outgoing queues for connectivity or addressing problems.</span></span>  
  
 <span data-ttu-id="b7f74-156">**S:** özel sahipsiz sırayı belirtilen, ancak gönderen uygulama başlattığınızda, sahipsiz sıra bulunamadı bir özel durum almak veya gönderen uygulama sahipsiz sıraya iznine sahip.</span><span class="sxs-lookup"><span data-stu-id="b7f74-156">**Q:** I have specified a custom dead-letter queue, but when I start the sender application, I get an exception that either the dead-letter queue is not found, or the sending application has no permission to the dead-letter queue.</span></span> <span data-ttu-id="b7f74-157">Bunun nedeni nedir?</span><span class="sxs-lookup"><span data-stu-id="b7f74-157">Why is this happening?</span></span>  
  
 <span data-ttu-id="b7f74-158">**Y:** özel sahipsiz sırayı URI ilk segment, örneğin, net.msmq://localhost/private/myAppdead-letter sırası "localhost" veya bilgisayar adı içermelidir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-158">**A:** The custom dead-letter queue URI must include a "localhost" or the computer name in the first segment, for example, net.msmq://localhost/private/myAppdead-letter queue.</span></span>  
  
 <span data-ttu-id="b7f74-159">**S:** özel sahipsiz sırayı tanımlamak her zaman gereklidir veya varsayılan sahipsiz sırayı yok?</span><span class="sxs-lookup"><span data-stu-id="b7f74-159">**Q:** Is it always necessary to define a custom dead-letter queue, or is there a default dead-letter queue?</span></span>  
  
 <span data-ttu-id="b7f74-160">**Y:** güvence "tam bir kez" varsa (<xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> = `true`), ve özel bir sahipsiz sırayı belirtmezseniz, sistem genelinde işleme uygun eski ileti sırası varsayılandır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-160">**A:** If assurances are "exactly once" (<xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> = `true`), and if you do not specify a custom dead-letter queue, the default is a system-wide transactional dead-letter queue.</span></span>  
  
 <span data-ttu-id="b7f74-161">Çıkışların none ise (<xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> = `false`), varsayılan bir atılacak işlev sonra.</span><span class="sxs-lookup"><span data-stu-id="b7f74-161">If assurances are none (<xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> = `false`), then the default is no dead-letter queue functionality.</span></span>  
  
 <span data-ttu-id="b7f74-162">**S:** SvcHost.Open bir iletiyle üzerinde "EndpointListener gereksinimleri olamaz yerine getirilmesi tarafından ListenerFactory" Benim hizmet atar.</span><span class="sxs-lookup"><span data-stu-id="b7f74-162">**Q:** My service throws on SvcHost.Open with a message "EndpointListener requirements cannot be met by the ListenerFactory".</span></span> <span data-ttu-id="b7f74-163">Neden?</span><span class="sxs-lookup"><span data-stu-id="b7f74-163">Why?</span></span>  
  
 <span data-ttu-id="b7f74-164">BİR.</span><span class="sxs-lookup"><span data-stu-id="b7f74-164">A.</span></span> <span data-ttu-id="b7f74-165">Hizmet sözleşmesi denetleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-165">Check your service contract.</span></span> <span data-ttu-id="b7f74-166">Put unutmuş "IsOneWay =`true`" tüm hizmet işlemleri üzerinde.</span><span class="sxs-lookup"><span data-stu-id="b7f74-166">You may have forgotten to put "IsOneWay=`true`" on all the service operations.</span></span> <span data-ttu-id="b7f74-167">Kuyruklar, yalnızca tek yönlü hizmet işlemleri destekler.</span><span class="sxs-lookup"><span data-stu-id="b7f74-167">Queues support only one-way service operations.</span></span>  
  
 <span data-ttu-id="b7f74-168">**S:** kuyrukta iletileri vardır, ancak hiçbir hizmet işlemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-168">**Q:** There are messages in the queue but no service operation is invoked.</span></span> <span data-ttu-id="b7f74-169">Sorun nedir?</span><span class="sxs-lookup"><span data-stu-id="b7f74-169">What is the problem?</span></span>  
  
 <span data-ttu-id="b7f74-170">**Y:** hizmet ana bilgisayarı hatalı olmadığını belirleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-170">**A:** Determine if your service host is faulted.</span></span> <span data-ttu-id="b7f74-171">İzleme sırasında bakıyorsanız ya da uygulama denetleyebilirsiniz `IErrorHandler`.</span><span class="sxs-lookup"><span data-stu-id="b7f74-171">You can check by looking at the trace or implementing `IErrorHandler`.</span></span> <span data-ttu-id="b7f74-172">Zararlı bir ileti algılanırsa, varsayılan olarak, hizmet ana bilgisayar hatası.</span><span class="sxs-lookup"><span data-stu-id="b7f74-172">Service host faults, by default, if a poison message is detected.</span></span>  
  
 <span data-ttu-id="b7f74-173">**S:** kuyrukta iletileri vardır, ancak Web barındırılan sıraya alınan Hizmetim etkinleştirilmediğini.</span><span class="sxs-lookup"><span data-stu-id="b7f74-173">**Q:** There are messages in the queue but my Web-hosted queued service is not getting activated.</span></span> <span data-ttu-id="b7f74-174">Neden?</span><span class="sxs-lookup"><span data-stu-id="b7f74-174">Why?</span></span>  
  
 <span data-ttu-id="b7f74-175">**Y:** izinleri en yaygın nedenidir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-175">**A:** The most common reason is permissions.</span></span>  
  
1.  <span data-ttu-id="b7f74-176">Emin `NetMsmqActivator` işlem çalıştığından ve kimliğini `NetMsmqActivator` işlemi okuma verilir ve sıranın izninin arama.</span><span class="sxs-lookup"><span data-stu-id="b7f74-176">Ensure that the `NetMsmqActivator` process is running and the identity of the `NetMsmqActivator` process is given read and seek permission on the queue.</span></span>  
  
2.  <span data-ttu-id="b7f74-177">Varsa `NetMsmqActivator` olduğundan emin kuyrukları uzak makinede izleme, `NetMsmqActivator` kısıtlı bir belirteç altında çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="b7f74-177">If the `NetMsmqActivator` is monitoring queues on a remote machine, ensure that `NetMsmqActivator` does not run under a restricted token.</span></span> <span data-ttu-id="b7f74-178">Çalıştırmak için `NetMsmqActivator` Kısıtlanmamış belirteci ile:</span><span class="sxs-lookup"><span data-stu-id="b7f74-178">To run the `NetMsmqActivator` with an unrestricted token:</span></span>  
  
    ```  
    sc sidtype NetMsmqActivator unrestricted  
    ```  
  
 <span data-ttu-id="b7f74-179">Güvenlikle ilgili Web konağı sorunlarını başvurmak için: [sıraya alınmış bir uygulamayı Web'de barındırma](../../../../docs/framework/wcf/feature-details/web-hosting-a-queued-application.md).</span><span class="sxs-lookup"><span data-stu-id="b7f74-179">For non-security related Web host issues refer to: [Web Hosting a Queued Application](../../../../docs/framework/wcf/feature-details/web-hosting-a-queued-application.md).</span></span>  
  
 <span data-ttu-id="b7f74-180">**S:** en kolay yolu erişim oturumlarına nedir?</span><span class="sxs-lookup"><span data-stu-id="b7f74-180">**Q:** What is the easiest way to access sessions?</span></span>  
  
 <span data-ttu-id="b7f74-181">**Y:** Ayarla otomatik tamamlama =`true` son karşılık gelen işlemi oturumda ileti ve otomatik tamamlama ayarlayın =`false` tüm kalan hizmet işlemleri üzerinde.</span><span class="sxs-lookup"><span data-stu-id="b7f74-181">**A:** Set AutoComplete=`true` on the operation that corresponds to the last message in the session, and set AutoComplete=`false` on all remaining service operations.</span></span>  
  
 <span data-ttu-id="b7f74-182">**S:** MSMQ hakkında sık sorulan soruların yanıtlarını nereden bulabilirim?</span><span class="sxs-lookup"><span data-stu-id="b7f74-182">**Q:** Where can I find answers to common questions on MSMQ?</span></span>  
  
 <span data-ttu-id="b7f74-183">**Y:** MSMQ hakkında daha fazla bilgi için bkz: [Microsoft Message Queuing](http://go.microsoft.com/fwlink/?LinkId=87810).</span><span class="sxs-lookup"><span data-stu-id="b7f74-183">**A:** For more information about MSMQ, see [Microsoft Message Queuing](http://go.microsoft.com/fwlink/?LinkId=87810).</span></span>  
  
 <span data-ttu-id="b7f74-184">**S:** Hizmetim neden throw bir `ProtocolException` içeren bir sıra okunurken zaman oturum sıradaki iletiler ve veri birimi sıradaki iletiler?</span><span class="sxs-lookup"><span data-stu-id="b7f74-184">**Q:** Why does my service throw a `ProtocolException` when reading from a queue that contains both queued session messages and queued datagram messages?</span></span>  
  
 <span data-ttu-id="b7f74-185">**Y:** şekilde sıralı oturum iletilerindeki temel fark yoktur ve sıraya alınan veri birimi iletileri oluşur.</span><span class="sxs-lookup"><span data-stu-id="b7f74-185">**A:** There is a fundamental difference in the way queued session messages and queued datagram messages are composed.</span></span> <span data-ttu-id="b7f74-186">Bu nedenle, sıraya alınan oturum ileti okumak için bekleniyor bir hizmet sıraya alınan veri birimi iletisini alamaz ve sıraya alınan veri birimi ileti okumak bekleniyor hizmet oturumu ileti alamıyor.</span><span class="sxs-lookup"><span data-stu-id="b7f74-186">Because of this, a service that is expecting to read a queued session message cannot receive a queued datagram message and a service expecting to read a queued datagram message cannot receive a session message.</span></span> <span data-ttu-id="b7f74-187">İki tür ileti aynı sırasından okuma girişimi şu özel durum oluşturur:</span><span class="sxs-lookup"><span data-stu-id="b7f74-187">Attempting to read both types of messages from the same queue throws the following exception:</span></span>  
  
```  
System.ServiceModel.MsmqPoisonMessageException: The transport channel detected a poison message. This occurred because the message exceeded the maximum number of delivery attempts or because the channel detected a fundamental problem with the message. The inner exception may contain additional information.   
---> System.ServiceModel.ProtocolException: An incoming MSMQ message contained invalid or unexpected .NET Message Framing information in its body. The message cannot be received. Ensure that the sender is using a compatible service contract with a matching SessionMode.  
```  
  
 <span data-ttu-id="b7f74-188">Özel herhangi bir teslim edilemeyen sıra yanı sıra sistem sahipsiz sırayı ise bu sorun için özellikle uygulanmadıkça bir uygulama hem de oturum sıradaki iletiler ve aynı bilgisayardan veri birimi iletiler gönderir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-188">The system dead-letter queue, as well as any custom dead-letter queue, is particularly susceptible to this issue if an application sends both queued session messages and queued datagram messages from the same computer.</span></span> <span data-ttu-id="b7f74-189">Bir ileti başarıyla gönderilemiyor, sahipsiz sıraya taşınır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-189">If a message cannot be sent successfully, it is moved to the dead-letter queue.</span></span> <span data-ttu-id="b7f74-190">Bu koşullar altında oturum ve veri birimi iletileri sahipsiz sıraya olması mümkündür.</span><span class="sxs-lookup"><span data-stu-id="b7f74-190">Under these circumstances, it is possible to have both session and datagram messages in the dead-letter queue.</span></span> <span data-ttu-id="b7f74-191">İki tür çalışma zamanında ileti kuyruktan okunurken ayırmak için bir yolu yoktur, bu nedenle, uygulamaları her ikisi de oturum sıradaki iletiler ve veri birimi iletiler aynı bilgisayardan göndermemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="b7f74-191">There is no way to separate both types of messages at runtime when reading from a queue, therefore, applications should not send both queued session messages and queued datagram messages from the same computer.</span></span>  
  
### <a name="msmq-integration-specific-troubleshooting"></a><span data-ttu-id="b7f74-192">MSMQ tümleştirme: Belirli sorun giderme</span><span class="sxs-lookup"><span data-stu-id="b7f74-192">MSMQ Integration: Specific Troubleshooting</span></span>  
 <span data-ttu-id="b7f74-193">**S:** bir ileti gönderirken ya da hizmet konağı açtığınızda, düzeni yanlış belirten bir hata alın.</span><span class="sxs-lookup"><span data-stu-id="b7f74-193">**Q:** When I send a message, or when I open the service host, I get an error that indicates the scheme is wrong.</span></span> <span data-ttu-id="b7f74-194">Neden?</span><span class="sxs-lookup"><span data-stu-id="b7f74-194">Why?</span></span>  
  
 <span data-ttu-id="b7f74-195">**Y:** MSMQ tümleştirme bağlama kullandığınızda, msmq.formatname şeması kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-195">**A:** When you use the MSMQ integration binding, you must use the msmq.formatname scheme.</span></span> <span data-ttu-id="b7f74-196">Örneğin, msmq.formatname:DIRECT=OS:.\private$\OrdersQueue.</span><span class="sxs-lookup"><span data-stu-id="b7f74-196">For example, msmq.formatname:DIRECT=OS:.\private$\OrdersQueue.</span></span> <span data-ttu-id="b7f74-197">Ancak özel sahipsiz sırayı belirttiğinizde, net.msmq şeması kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-197">But when you specify the custom dead-letter queue, you must use the net.msmq scheme.</span></span>  
  
 <span data-ttu-id="b7f74-198">**S:** ne zaman bir genel veya özel biçim adı kullanın ve hizmet ana bilgisayarı açmak [!INCLUDE[wv](../../../../includes/wv-md.md)], bir hata alıyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="b7f74-198">**Q:** When I use a public or private format name and open the service host on [!INCLUDE[wv](../../../../includes/wv-md.md)], I get an error.</span></span> <span data-ttu-id="b7f74-199">Neden?</span><span class="sxs-lookup"><span data-stu-id="b7f74-199">Why?</span></span>  
  
 <span data-ttu-id="b7f74-200">**Y:** WCF tümleştirmesi kanalda [!INCLUDE[wv](../../../../includes/wv-md.md)] zehirli ileti işleme için ana uygulama sıra için bir alt sırası açıldı durumunda olup olmadığını kontrol eder.</span><span class="sxs-lookup"><span data-stu-id="b7f74-200">**A:** The WCF integration channel on [!INCLUDE[wv](../../../../includes/wv-md.md)] checks to see if a sub-queue can be opened for the main application queue for handling poison messages.</span></span> <span data-ttu-id="b7f74-201">Alt sıra adı URI dinleyiciye geçirilen msmq.formatname türetilir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-201">The sub-queue name is derived from an msmq.formatname URI passed to the listener.</span></span> <span data-ttu-id="b7f74-202">MSMQ alt kuyruk adı yalnızca doğrudan biçim adını olabilir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-202">The sub-queue name in MSMQ can only be a direct format name.</span></span> <span data-ttu-id="b7f74-203">Bu nedenle, hata görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="b7f74-203">So you see the error.</span></span> <span data-ttu-id="b7f74-204">Sıranın URI için doğrudan biçim adını değiştirin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-204">Change the queue URI to a direct format name.</span></span>  
  
 <span data-ttu-id="b7f74-205">**S:** bir ileti bir MSMQ uygulamasından alırken, iletinin kuyrukta bulunur ve alıcı WCF uygulama tarafından okunamaz.</span><span class="sxs-lookup"><span data-stu-id="b7f74-205">**Q:** When receiving a message from an MSMQ application, the message sits in the queue and is not read by the receiving WCF application.</span></span> <span data-ttu-id="b7f74-206">Neden?</span><span class="sxs-lookup"><span data-stu-id="b7f74-206">Why?</span></span>  
  
 <span data-ttu-id="b7f74-207">**Y:** ileti Gövde sahip olup olmadığını denetleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-207">**A:** Check to see whether the message has a body.</span></span> <span data-ttu-id="b7f74-208">İleti yok gövde sahipse, MSMQ tümleştirme kanalı iletisini yok sayıyor.</span><span class="sxs-lookup"><span data-stu-id="b7f74-208">If the message has no body, the MSMQ integration channel ignores the message.</span></span> <span data-ttu-id="b7f74-209">Uygulama `IErrorHandler` özel durumları bildirilmesini ve izlemeleri denetleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-209">Implement `IErrorHandler` to be notified of exceptions and check the traces.</span></span>  
  
### <a name="security-related-troubleshooting"></a><span data-ttu-id="b7f74-210">Güvenlikle ilgili sorun giderme</span><span class="sxs-lookup"><span data-stu-id="b7f74-210">Security-Related Troubleshooting</span></span>  
 <span data-ttu-id="b7f74-211">**S:** çalışma grubu modunda varsayılan bağlama kullanan örnek çalıştırdığınızda, iletileri gönderilen görünüyor ancak hiçbir zaman alıcı tarafından alınır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-211">**Q:** When I run the sample that uses a default binding in workgroup mode, messages seem to get sent but are never received by the receiver.</span></span>  
  
 <span data-ttu-id="b7f74-212">**Y:** varsayılan olarak, Active Directory dizin hizmeti gerektiren bir MSMQ iç sertifika kullanarak iletileri imzalanmıştır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-212">**A:** By default, messages are signed using an MSMQ internal certificate that requires the Active Directory directory service.</span></span> <span data-ttu-id="b7f74-213">Active Directory kullanılamadığından, çalışma grubu modunda ileti imzalama başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="b7f74-213">In workgroup mode, because Active Directory is not available, signing the message fails.</span></span> <span data-ttu-id="b7f74-214">Bu nedenle sahipsiz sıraya ileti adlandırıldığını ve "Bozuk imza" gibi hata neden belirtilir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-214">So the message lands in the dead-letter queue and failure cause, such as "Bad signature", is indicated.</span></span>  
  
 <span data-ttu-id="b7f74-215">Güvenlik devre dışı bırakma geçici bir çözüm değildir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-215">The workaround is to turn off security.</span></span> <span data-ttu-id="b7f74-216">Bu ayarlayarak yapılır <xref:System.ServiceModel.NetMsmqSecurity.Mode%2A>  =  <xref:System.ServiceModel.NetMsmqSecurityMode.None> çalışma grubu modundayken çalışması için.</span><span class="sxs-lookup"><span data-stu-id="b7f74-216">This is done by setting <xref:System.ServiceModel.NetMsmqSecurity.Mode%2A> = <xref:System.ServiceModel.NetMsmqSecurityMode.None> to make it work in workgroup mode.</span></span>  
  
 <span data-ttu-id="b7f74-217">Başka bir çözüm almaktır <xref:System.ServiceModel.MsmqTransportSecurity> gelen <xref:System.ServiceModel.NetMsmqSecurity.Transport%2A> özelliği ve ayarlamak <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate>ve istemci sertifikasını ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="b7f74-217">Another workaround is to get the <xref:System.ServiceModel.MsmqTransportSecurity> from the <xref:System.ServiceModel.NetMsmqSecurity.Transport%2A> property and set it to <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate>, and set the client certificate.</span></span>  
  
 <span data-ttu-id="b7f74-218">Henüz MSMQ Active Directory Tümleştirme ile yüklemek için başka bir geçici bir çözüm değildir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-218">Yet another workaround is to install MSMQ with Active Directory integration.</span></span>  
  
 <span data-ttu-id="b7f74-219">**S:** varsayılan bağlama ile bir ileti gönderdiğinizde t (aktarım açık güvenliği) Active Directory'de bir kuyruk "İç sertifika bulunamadı" iletisi alıyorum.</span><span class="sxs-lookup"><span data-stu-id="b7f74-219">**Q:** When I send a message with default binding (transport security turned on) in Active Directory to a queue, I get an "internal certificate not found" message.</span></span> <span data-ttu-id="b7f74-220">Bunu nasıl düzeltirim?</span><span class="sxs-lookup"><span data-stu-id="b7f74-220">How do I fix this?</span></span>  
  
 <span data-ttu-id="b7f74-221">**Y:** bu gönderen için Active Directory'de sertifika yenilenmesi gerekir anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-221">**A:** This means that the certificate in Active Directory for the sender must be renewed.</span></span> <span data-ttu-id="b7f74-222">Bunu yapmak için açık **Denetim Masası**, **Yönetimsel Araçlar**, **Bilgisayar Yönetimi**, sağ **MSMQ**, seçip**Özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="b7f74-222">To do so, open **Control Panel**, **Administrative Tools**, **Computer Management**, right-click **MSMQ**, and select **Properties**.</span></span> <span data-ttu-id="b7f74-223">Seçin **kullanıcı sertifikası** sekmesinde **yenileme** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="b7f74-223">Select the **User Certificate** tab and click the **Renew** button.</span></span>  
  
 <span data-ttu-id="b7f74-224">**S:** ı gönderdiğinizde bir iletiyi kullanarak <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> ve kullanmak üzere sertifikayı belirtin, bir "Geçersiz sertifika" iletisi alıyorum.</span><span class="sxs-lookup"><span data-stu-id="b7f74-224">**Q:** When I send a message using <xref:System.ServiceModel.MsmqAuthenticationMode.Certificate> and specify the certificate to use, I get an "Invalid certificate" message.</span></span> <span data-ttu-id="b7f74-225">Bunu nasıl düzeltirim?</span><span class="sxs-lookup"><span data-stu-id="b7f74-225">How do I fix this?</span></span>  
  
 <span data-ttu-id="b7f74-226">**Y:** yerel makine sertifika deposuna sertifika moduyla kullanamazsınız.</span><span class="sxs-lookup"><span data-stu-id="b7f74-226">**A:** You cannot use a local machine certificate store with certificate mode.</span></span> <span data-ttu-id="b7f74-227">Sertifikayı makine sertifika deposundan sertifika ek bileşenini kullanarak geçerli kullanıcı deposuna kopyalamak gerekir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-227">You have to copy the certificate from the machine certificate store to the current user store using the Certificate snap-in.</span></span> <span data-ttu-id="b7f74-228">Sertifika ek bileşenini almak için:</span><span class="sxs-lookup"><span data-stu-id="b7f74-228">To get the Certificate snap-in:</span></span>  
  
1.  <span data-ttu-id="b7f74-229">Tıklatın **Başlat**seçin **çalıştırmak**, türü `mmc`, tıklatıp **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="b7f74-229">Click **Start**, select **Run**, type `mmc`, and click **OK**.</span></span>  
  
2.  <span data-ttu-id="b7f74-230">İçinde **Microsoft Yönetim Konsolu**, açık **dosya** menü ve select **Ekle/Kaldır ek bileşenini**.</span><span class="sxs-lookup"><span data-stu-id="b7f74-230">In the **Microsoft Management Console**, open the **File** menu and select **Add/Remove Snap-in**.</span></span>  
  
3.  <span data-ttu-id="b7f74-231">İçinde **Ekle/Kaldır ek bileşenini** iletişim kutusu, tıklatın **Ekle** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="b7f74-231">In the **Add/Remove Snap-in** dialog box, click the **Add** button.</span></span>  
  
4.  <span data-ttu-id="b7f74-232">İçinde **tek başına ek bileşen Ekle alanında** iletişim kutusu, select sertifikalar ve tıklatın **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="b7f74-232">In the **Add Standalone Snap-in** dialog box, select Certificates and click **Add**.</span></span>  
  
5.  <span data-ttu-id="b7f74-233">İçinde **sertifikaları** ek bileşenini iletişim kutusunda **kullanıcı hesabım** tıklatıp **son**.</span><span class="sxs-lookup"><span data-stu-id="b7f74-233">In the **Certificates** snap-in dialog box, select **My user account,** and click **Finish**.</span></span>  
  
6.  <span data-ttu-id="b7f74-234">Ardından, ikinci bir Sertifikalar ek bileşeni önceki adımları kullanarak, ancak bu kez seçin eklemek **bilgisayar hesabı** tıklatıp **sonraki**.</span><span class="sxs-lookup"><span data-stu-id="b7f74-234">Next, add a second Certificates snap-in using the previous steps, but this time select **Computer account** and click **Next**.</span></span>  
  
7.  <span data-ttu-id="b7f74-235">Seçin **yerel bilgisayar** tıklatıp **son**.</span><span class="sxs-lookup"><span data-stu-id="b7f74-235">Select **Local Computer** and click **Finish**.</span></span> <span data-ttu-id="b7f74-236">Şimdi sürükleyin ve geçerli kullanıcı deposunda makine sertifika deposundan sertifikaları bırakın.</span><span class="sxs-lookup"><span data-stu-id="b7f74-236">You can now drag and drop certificates from the machine certificate store to the current user store.</span></span>  
  
 <span data-ttu-id="b7f74-237">**S:** zaman Hizmetim okur çalışma grubu modunda, başka bir bilgisayardaki bir sıradan bir "erişim engellendi" özel alıyorum.</span><span class="sxs-lookup"><span data-stu-id="b7f74-237">**Q:** When my service reads from a queue on another computer in workgroup mode, I get an "access denied" exception.</span></span>  
  
 <span data-ttu-id="b7f74-238">**Y:** sıra erişmek uzak bir uygulama için çalışma grubu modunda uygulama kuyruğa erişim izni olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-238">**A:** In workgroup mode, for a remote application to gain access to the queue, the application must have permission to access the queue.</span></span> <span data-ttu-id="b7f74-239">Sıranın erişim denetim listesi (ACL) "Anonim oturum açma" ekleyin ve bu okuma izni verin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-239">Add "Anonymous login" to the queue's access control list (ACL) and give it read permission.</span></span>  
  
 <span data-ttu-id="b7f74-240">**S:** bir ağ hizmeti istemcisi (veya bir etki alanı hesabı olmayan herhangi bir istemci) sıraya alınan ileti gönderdiğinde, geçersiz bir sertifikayla gönderme başarısız.</span><span class="sxs-lookup"><span data-stu-id="b7f74-240">**Q:** When a network service client (or any client that does not have a domain account) sends a queued message, the send fails with an invalid certificate.</span></span> <span data-ttu-id="b7f74-241">Bunu nasıl düzeltirim?</span><span class="sxs-lookup"><span data-stu-id="b7f74-241">How do I fix this?</span></span>  
  
 <span data-ttu-id="b7f74-242">**Y:** bağlama yapılandırmasını denetleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-242">**A:** Check the binding configuration.</span></span> <span data-ttu-id="b7f74-243">Varsayılan bağlama için açık MSMQ taşıma güvenliği iletiyi yok.</span><span class="sxs-lookup"><span data-stu-id="b7f74-243">The default binding has MSMQ transport security turned on to sign the message.</span></span> <span data-ttu-id="b7f74-244">Bilgisayarı kapatın.</span><span class="sxs-lookup"><span data-stu-id="b7f74-244">Turn it off.</span></span>  
  
### <a name="remote-transacted-receives"></a><span data-ttu-id="b7f74-245">İşlem yapılan işlem uzaktan alır</span><span class="sxs-lookup"><span data-stu-id="b7f74-245">Remote Transacted Receives</span></span>  
 <span data-ttu-id="b7f74-246">**S:** ne zaman bir sıra makine A'da sahibim ve B (işlem yapılan işlem uzaktan alma senaryosu), iletileri makinede bir kuyruktan iletileri okuyan bir WCF Hizmeti sıradan okunamıyor.</span><span class="sxs-lookup"><span data-stu-id="b7f74-246">**Q:** When I have a queue on machine A, and a WCF service that reads messages from a queue on machine B (the remote transacted receive scenario), messages are not read from the queue.</span></span> <span data-ttu-id="b7f74-247">Bilgi izleme iletisi "işlem aktarılamıyor ile." alma başarısız gösterir</span><span class="sxs-lookup"><span data-stu-id="b7f74-247">Tracing information indicates the receive failed with the message "Transaction cannot be imported."</span></span> <span data-ttu-id="b7f74-248">Bu sorunu gidermek için ne yapabilirim?</span><span class="sxs-lookup"><span data-stu-id="b7f74-248">What can I do to fix this?</span></span>  
  
 <span data-ttu-id="b7f74-249">**Y:** bu üç olası nedeni vardır:</span><span class="sxs-lookup"><span data-stu-id="b7f74-249">**A:** There are three possible reasons for this:</span></span>  
  
-   <span data-ttu-id="b7f74-250">Etki alanı modunda olduğundan, işlem yapılan işlem uzaktan alma Microsoft Dağıtılmış İşlem Düzenleyicisi (MSDTC) ağ erişimi gerektiriyor.</span><span class="sxs-lookup"><span data-stu-id="b7f74-250">If you are in domain mode, remote transacted receive requires Microsoft Distributed Transaction Coordinator (MSDTC) network access.</span></span> <span data-ttu-id="b7f74-251">Bu kullanarak etkinleştirin **Bileşenlerini Ekle/Kaldır**.</span><span class="sxs-lookup"><span data-stu-id="b7f74-251">You can enable this using **Add/Remove Components**.</span></span>  
  
     <span data-ttu-id="b7f74-252">![Ağ DTC Erişimi'ni etkinleştirme](../../../../docs/framework/wcf/feature-details/media/applicationserveraddcomps.jpg "ApplicationServerAddComps")</span><span class="sxs-lookup"><span data-stu-id="b7f74-252">![Enabling network DTC access](../../../../docs/framework/wcf/feature-details/media/applicationserveraddcomps.jpg "ApplicationServerAddComps")</span></span>  
  
-   <span data-ttu-id="b7f74-253">İşlem Yöneticisi ile iletişim için kimlik doğrulama modu denetleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-253">Check the authentication mode for communicating with the transaction manager.</span></span> <span data-ttu-id="b7f74-254">Çalışma grubu modunda varsa, "Gereken kimlik doğrulama yok" seçilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-254">If you are in workgroup mode, "No Authentication Required" must be selected.</span></span> <span data-ttu-id="b7f74-255">Etki alanı modunda varsa, "Gerekli karşılıklı kimlik doğrulaması" seçilmelidir.</span><span class="sxs-lookup"><span data-stu-id="b7f74-255">If you are in domain mode, then "Mutual Authentication Required" must be selected.</span></span>  
  
     <span data-ttu-id="b7f74-256">![XA işlemleri etkinleştirme](../../../../docs/framework/wcf/feature-details/media/4f3695e0-fb0b-4c5b-afac-75f8860d2bb0.jpg "4f3695e0-fb0b-4c5b-afac-75f8860d2bb0")</span><span class="sxs-lookup"><span data-stu-id="b7f74-256">![Enabling XA transactions](../../../../docs/framework/wcf/feature-details/media/4f3695e0-fb0b-4c5b-afac-75f8860d2bb0.jpg "4f3695e0-fb0b-4c5b-afac-75f8860d2bb0")</span></span>  
  
-   <span data-ttu-id="b7f74-257">MSDTC özel durumlar listesinde olduğundan emin olun **Internet Bağlantısı Güvenlik Duvarı** ayarlar.</span><span class="sxs-lookup"><span data-stu-id="b7f74-257">Make sure that MSDTC is in the list of exceptions in the **Internet Connection Firewall** settings.</span></span>  
  
-   <span data-ttu-id="b7f74-258">Kullandığınızdan emin olun [!INCLUDE[wv](../../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b7f74-258">Ensure that you are using [!INCLUDE[wv](../../../../includes/wv-md.md)].</span></span> <span data-ttu-id="b7f74-259">MSMQ üzerinde [!INCLUDE[wv](../../../../includes/wv-md.md)] uzaktan hizmetteki okuma destekler.</span><span class="sxs-lookup"><span data-stu-id="b7f74-259">MSMQ on [!INCLUDE[wv](../../../../includes/wv-md.md)] supports remote transacted read.</span></span> <span data-ttu-id="b7f74-260">Önceki Windows sürümlerinde MSMQ Uzaktan hizmetteki okuma desteklemez.</span><span class="sxs-lookup"><span data-stu-id="b7f74-260">MSMQ on earlier Windows releases does not support remote transacted read.</span></span>  
  
 <span data-ttu-id="b7f74-261">**S:** sıradan okuma hizmeti bir ağ hizmeti, örneğin, bir Web ana bilgisayar, bir erişim reddedildi özel neden alabilirim sıradan okunurken tetiklenir?</span><span class="sxs-lookup"><span data-stu-id="b7f74-261">**Q:** When the service reading from the queue is a network service, for example, in a Web host, why do I get an access-denied exception is raised when reading from the queue?</span></span>  
  
 <span data-ttu-id="b7f74-262">**Y:** ağ hizmeti okuma erişimi eklenmelidir, kuyruğa ACL bir ağ hizmeti sıradan okuduğunuzdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="b7f74-262">**A:** Network service read access must be added to the queue ACL to ensure that a network service can read from the queue.</span></span>  
  
 <span data-ttu-id="b7f74-263">**S:** MSMQ Etkinleştirme hizmeti uzak makinede bir sıradaki iletiler göre uygulamaları etkinleştirmek için kullanabilir miyim?</span><span class="sxs-lookup"><span data-stu-id="b7f74-263">**Q:** Can I use the MSMQ activation service to activate applications based on messages in a queue on a remote machine?</span></span>  
  
 <span data-ttu-id="b7f74-264">**Y:** Evet.</span><span class="sxs-lookup"><span data-stu-id="b7f74-264">**A:** Yes.</span></span> <span data-ttu-id="b7f74-265">Bunu yapmak için bir ağ hizmeti olarak çalıştırılmak için MSMQ Etkinleştirme hizmeti yapılandırma ve ağ hizmeti erişim sıranın uzak makinede ekleyin.</span><span class="sxs-lookup"><span data-stu-id="b7f74-265">To do this, you must configure the MSMQ activation service to run as a network service, and add network service access to the queue on the remote machine.</span></span>  
  
## <a name="using-custom-msmq-bindings-with-receivecontext-enabled"></a><span data-ttu-id="b7f74-266">ReceiveContext etkinleştirilmiş ile özel MSMQ bağlamaları kullanma</span><span class="sxs-lookup"><span data-stu-id="b7f74-266">Using Custom MSMQ Bindings with ReceiveContext Enabled</span></span>  
 <span data-ttu-id="b7f74-267">Özel bir MSMQ bağlama ile kullanırken <xref:System.ServiceModel.Channels.ReceiveContext> etkin bir gelen iletiyi işlemeyi kullanacağınız bir iş parçacığı havuzu iş parçacığı yerel MSMQ için g/ç tamamlama desteklemediği için zaman uyumsuz <xref:System.ServiceModel.Channels.ReceiveContext> alır.</span><span class="sxs-lookup"><span data-stu-id="b7f74-267">When using a custom MSMQ binding with <xref:System.ServiceModel.Channels.ReceiveContext> enabled processing an incoming message will use a thread pool thread because native MSMQ does not support I/O completion for asynchronous <xref:System.ServiceModel.Channels.ReceiveContext> receives.</span></span> <span data-ttu-id="b7f74-268">Bu tür bir ileti işlenirken iç işlemler için kullanan olmasıdır <xref:System.ServiceModel.Channels.ReceiveContext> ve MSMQ zaman uyumsuz işleme desteklemez.</span><span class="sxs-lookup"><span data-stu-id="b7f74-268">This is because processing such a message uses internal transactions for <xref:System.ServiceModel.Channels.ReceiveContext> and MSMQ does not support asynchronous processing.</span></span> <span data-ttu-id="b7f74-269">Ekleyebileceğiniz bu sorunu çözmek için bir <xref:System.ServiceModel.Description.SynchronousReceiveBehavior> ayarlayın veya zaman uyumlu zorlamak için uç nokta işlerken <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.MaxPendingReceives%2A> 1.</span><span class="sxs-lookup"><span data-stu-id="b7f74-269">To work around this issue you can add a <xref:System.ServiceModel.Description.SynchronousReceiveBehavior> to the endpoint to force synchronous processing or set <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.MaxPendingReceives%2A> to 1.</span></span>
