---
title: "Yansıma Yaymadaki Güvenlik Sorunları"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- partially trusted code
- emitting dynamic assemblies, security
- reflection emit, security
- reflection emit, partial trust scenarios
- partial trust,emitting dynamic methods
- anonymously hosted dynamic methods [.NET Framework]
- emitting dynamic assemblies,partial trust scenarios
- dynamic assemblies, security
ms.assetid: 0f8bf8fa-b993-478f-87ab-1a1a7976d298
caps.latest.revision: "18"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: d143798c4344b385d954cc64bd63c8f81eb48750
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/21/2017
---
# <a name="security-issues-in-reflection-emit"></a><span data-ttu-id="0556a-102">Yansıma Yaymadaki Güvenlik Sorunları</span><span class="sxs-lookup"><span data-stu-id="0556a-102">Security Issues in Reflection Emit</span></span>
<span data-ttu-id="0556a-103">[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] Microsoft yayma için üç yol dili (MSIL), her biri kendi güvenlik sorunları Ara sağlar:</span><span class="sxs-lookup"><span data-stu-id="0556a-103">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] provides three ways to emit Microsoft intermediate language (MSIL), each with its own security issues:</span></span>  
  
-   [<span data-ttu-id="0556a-104">Dinamik derlemeler</span><span class="sxs-lookup"><span data-stu-id="0556a-104">Dynamic assemblies</span></span>](#Dynamic_Assemblies)  
  
-   [<span data-ttu-id="0556a-105">Anonim barındırılan dinamik yöntemler</span><span class="sxs-lookup"><span data-stu-id="0556a-105">Anonymously hosted dynamic methods</span></span>](#Anonymously_Hosted_Dynamic_Methods)  
  
-   [<span data-ttu-id="0556a-106">Varolan derlemeler ile ilişkilendirilmiş dinamik yöntemler</span><span class="sxs-lookup"><span data-stu-id="0556a-106">Dynamic methods associated with existing assemblies</span></span>](#Dynamic_Methods_Associated_with_Existing_Assemblies)  
  
 <span data-ttu-id="0556a-107">Dinamik kodu oluşturmak şekilde bağımsız olarak, oluşturulan kod yürütme türleri ve oluşturulan kod kullanan yöntemleri tarafından gerekli olan tüm izinleri gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0556a-107">Regardless of the way you generate dynamic code, executing the generated code requires all the permissions that are required by the types and methods the generated code uses.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0556a-108">Kodu yansıtma ve kod yayma için gerekli izinler sürümleri başarılı ile değiştirilmiştir [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0556a-108">The permissions that are required for reflecting on code and emitting code have changed with succeeding releases of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="0556a-109">Bkz: [sürüm bilgilerini](#Version_Information), bu konunun devamındaki.</span><span class="sxs-lookup"><span data-stu-id="0556a-109">See [Version Information](#Version_Information), later in this topic.</span></span>  
  
<a name="Dynamic_Assemblies"></a>   
## <a name="dynamic-assemblies"></a><span data-ttu-id="0556a-110">Dinamik derlemeler</span><span class="sxs-lookup"><span data-stu-id="0556a-110">Dynamic Assemblies</span></span>  
 <span data-ttu-id="0556a-111">Dinamik derlemeleri aşırı kullanarak oluşturulur <xref:System.AppDomain.DefineDynamicAssembly%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="0556a-111">Dynamic assemblies are created by using overloads of the <xref:System.AppDomain.DefineDynamicAssembly%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="0556a-112">Bu yöntem çoğu aşırı kullanım dışıdır [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], makine genelinde güvenlik ilkesi eleme nedeniyle.</span><span class="sxs-lookup"><span data-stu-id="0556a-112">Most overloads of this method are deprecated in the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], because of the elimination of machine-wide security policy.</span></span> <span data-ttu-id="0556a-113">(Bkz [güvenlik değişiklikleri](../../../docs/framework/security/security-changes.md).) Kalan aşırı güven düzeyi bağımsız olarak herhangi bir kod tarafından çalıştırılabilir.</span><span class="sxs-lookup"><span data-stu-id="0556a-113">(See [Security Changes](../../../docs/framework/security/security-changes.md).) The remaining overloads can be executed by any code, regardless of trust level.</span></span> <span data-ttu-id="0556a-114">Bu aşırı iki gruba ayrılır: da oluşturulduğunda dinamik derleme uygulamak için öznitelikler listesini belirtin ve değişmeyen.</span><span class="sxs-lookup"><span data-stu-id="0556a-114">These overloads fall into two groups: those that specify a list of attributes to apply to the dynamic assembly when it is created, and those that do not.</span></span> <span data-ttu-id="0556a-115">Saydamlık modeli derleme için uygulayarak belirtmezseniz <xref:System.Security.SecurityRulesAttribute> , saydamlık modeli oluşturduğunuzda özniteliği verme derlemeden devralınır.</span><span class="sxs-lookup"><span data-stu-id="0556a-115">If you do not specify the transparency model for the assembly, by applying the <xref:System.Security.SecurityRulesAttribute> attribute when you create it, the transparency model is inherited from the emitting assembly.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0556a-116">Kullanarak oluşturulduktan sonra dinamik derleme uygulanan öznitelikleri <xref:System.Reflection.Emit.AssemblyBuilder.SetCustomAttribute%2A> yöntemi, derleme diske kaydedilir ve belleğe yeniden yüklenen kadar etkili olmaz.</span><span class="sxs-lookup"><span data-stu-id="0556a-116">Attributes that you apply to the dynamic assembly after it is created, by using the <xref:System.Reflection.Emit.AssemblyBuilder.SetCustomAttribute%2A> method, do not take effect until the assembly has been saved to disk and loaded into memory again.</span></span>  
  
 <span data-ttu-id="0556a-117">Dinamik derleme kodunda görünür türleri ve diğer derlemelerden üyeleri erişebilir.</span><span class="sxs-lookup"><span data-stu-id="0556a-117">Code in a dynamic assembly can access visible types and members in other assemblies.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0556a-118">Dinamik derlemeleri kullanmayın <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> ve <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> bayrakları ortak olmayan türleri ve üyeleri erişmek dinamik yöntemler sağlar.</span><span class="sxs-lookup"><span data-stu-id="0556a-118">Dynamic assemblies do not use the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> and <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flags that allow dynamic methods to access nonpublic types and members.</span></span>  
  
 <span data-ttu-id="0556a-119">Geçici dinamik derlemeleri bellekte oluşturulur ve hiçbir dosya erişim izinlerini gereksinim duydukları şekilde hiçbir zaman diske kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="0556a-119">Transient dynamic assemblies are created in memory and never saved to disk, so they require no file access permissions.</span></span> <span data-ttu-id="0556a-120">Dinamik derleme diske kaydetmek gerektirir <xref:System.Security.Permissions.FileIOPermission> uygun bayraklarla.</span><span class="sxs-lookup"><span data-stu-id="0556a-120">Saving a dynamic assembly to disk requires <xref:System.Security.Permissions.FileIOPermission> with the appropriate flags.</span></span>  
  
### <a name="generating-dynamic-assemblies-from-partially-trusted-code"></a><span data-ttu-id="0556a-121">Kısmen güvenilen koddan dinamik derlemeleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="0556a-121">Generating Dynamic Assemblies from Partially Trusted Code</span></span>  
 <span data-ttu-id="0556a-122">Hangi Internet izinlere sahip bir derleme geçici bir dinamik derleme oluşturabilir ve kendi kod yürütmek koşulları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="0556a-122">Consider the conditions in which an assembly with Internet permissions can generate a transient dynamic assembly and execute its code:</span></span>  
  
-   <span data-ttu-id="0556a-123">Dinamik derleme yalnızca genel türleri ve diğer derlemelerden üyeleri kullanır.</span><span class="sxs-lookup"><span data-stu-id="0556a-123">The dynamic assembly uses only public types and members of other assemblies.</span></span>  
  
-   <span data-ttu-id="0556a-124">Bu türleri ve üyeleri tarafından talep edilen izinler kısmen güvenilen derlemenin grant kümesi dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="0556a-124">The permissions demanded by those types and members are included in the grant set of the partially trusted assembly.</span></span>  
  
-   <span data-ttu-id="0556a-125">Derleme kaydedilmedi diske.</span><span class="sxs-lookup"><span data-stu-id="0556a-125">The assembly is not saved to disk.</span></span>  
  
-   <span data-ttu-id="0556a-126">Hata ayıklama simgeleri oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="0556a-126">Debug symbols are not generated.</span></span> <span data-ttu-id="0556a-127">(`Internet` ve `LocalIntranet` izin kümeleri gerekli izinleri içermez.)</span><span class="sxs-lookup"><span data-stu-id="0556a-127">(`Internet` and `LocalIntranet` permission sets do not include the necessary permissions.)</span></span>  
  
<a name="Anonymously_Hosted_Dynamic_Methods"></a>   
## <a name="anonymously-hosted-dynamic-methods"></a><span data-ttu-id="0556a-128">Anonim barındırılan dinamik yöntemler</span><span class="sxs-lookup"><span data-stu-id="0556a-128">Anonymously Hosted Dynamic Methods</span></span>  
 <span data-ttu-id="0556a-129">Anonim barındırılan dinamik yöntemler, iki kullanarak oluşturulur <xref:System.Reflection.Emit.DynamicMethod> ilişkili türü veya modül belirtmeyin oluşturucular <xref:System.Reflection.Emit.DynamicMethod.%23ctor%28System.String%2CSystem.Type%2CSystem.Type%5B%5D%29> ve <xref:System.Reflection.Emit.DynamicMethod.%23ctor%28System.String%2CSystem.Type%2CSystem.Type%5B%5D%2CSystem.Boolean%29>.</span><span class="sxs-lookup"><span data-stu-id="0556a-129">Anonymously hosted dynamic methods are created by using the two <xref:System.Reflection.Emit.DynamicMethod> constructors that do not specify an associated type or module, <xref:System.Reflection.Emit.DynamicMethod.%23ctor%28System.String%2CSystem.Type%2CSystem.Type%5B%5D%29> and <xref:System.Reflection.Emit.DynamicMethod.%23ctor%28System.String%2CSystem.Type%2CSystem.Type%5B%5D%2CSystem.Boolean%29>.</span></span> <span data-ttu-id="0556a-130">Bu oluşturucu dinamik yöntemleri bir sistem tarafından sağlanan tam güvenilir, güvenlik saydam derlemede yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="0556a-130">These constructors place the dynamic methods in a system-provided, fully trusted, security-transparent assembly.</span></span> <span data-ttu-id="0556a-131">Bu oluşturucu kullanmak veya kod dinamik yöntemleri yayma için hiçbir izinleri gereklidir.</span><span class="sxs-lookup"><span data-stu-id="0556a-131">No permissions are required to use these constructors or to emit code for the dynamic methods.</span></span>  
  
 <span data-ttu-id="0556a-132">Anonim barındırılan dinamik yöntemi oluşturulduğunda, bunun yerine, çağrı yığını yakalanır.</span><span class="sxs-lookup"><span data-stu-id="0556a-132">Instead, when an anonymously hosted dynamic method is created, the call stack is captured.</span></span> <span data-ttu-id="0556a-133">Yöntemin oluşturulduğunda güvenlik taleplerini yakalanan çağrı yığını karşı yapılır.</span><span class="sxs-lookup"><span data-stu-id="0556a-133">When the method is constructed, security demands are made against the captured call stack.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0556a-134">Kavramsal olarak, taleplerin yöntemi oluşturma sırasında yapılır.</span><span class="sxs-lookup"><span data-stu-id="0556a-134">Conceptually, demands are made during the construction of the method.</span></span> <span data-ttu-id="0556a-135">Diğer bir deyişle, her MSIL yönergesi yayılan gibi taleplerini yapılamadı.</span><span class="sxs-lookup"><span data-stu-id="0556a-135">That is, demands could be made as each MSIL instruction is emitted.</span></span> <span data-ttu-id="0556a-136">Geçerli uygulama, ne zaman tüm taleplerin yapılan <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A?displayProperty=nameWithType> yöntemi çağrıldığında veya ne zaman tam zamanında (JIT) derleyici çağrılır, yöntem çağırma olmadan çağrılırsa <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A>.</span><span class="sxs-lookup"><span data-stu-id="0556a-136">In the current implementation, all demands are made when the <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A?displayProperty=nameWithType> method is called or when the just-in-time (JIT) compiler is invoked, if the method is invoked without calling <xref:System.Reflection.Emit.DynamicMethod.CreateDelegate%2A>.</span></span>  
  
 <span data-ttu-id="0556a-137">Uygulama etki alanı izin veriliyorsa, anonim barındırılan dinamik yöntemler aşağıdaki kısıtlama tabi JIT görünürlük denetimleri atlayabilirsiniz: ortak olmayan türleri ve üyeleri bir anonim barındırılan dinamik yöntemi tarafından erişilen, grant ayarlar derlemelerde olmalıdır eşit ya da bir veri alt kümesini, verme çağrı yığını grant kümesi var.</span><span class="sxs-lookup"><span data-stu-id="0556a-137">If the application domain permits it, anonymously hosted dynamic methods can skip JIT visibility checks, subject to the following restriction: The nonpublic types and members accessed by an anonymously hosted dynamic method must be in assemblies whose grant sets are equal to, or subsets of, the grant set of the emitting call stack.</span></span> <span data-ttu-id="0556a-138">JIT görünürlük atlamak için kısıtlı özelliği denetler etkin uygulama etki alanı verirse <xref:System.Security.Permissions.ReflectionPermission> ile <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> bayrağı.</span><span class="sxs-lookup"><span data-stu-id="0556a-138">This restricted ability to skip JIT visibility checks is enabled if the application domain grants <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag.</span></span>  
  
-   <span data-ttu-id="0556a-139">Hiçbir izinler yönteminizi yalnızca genel türleri ve üyeleri kullanıyorsa, oluşturma sırasında gereklidir.</span><span class="sxs-lookup"><span data-stu-id="0556a-139">If your method uses only public types and members, no permissions are required during construction.</span></span>  
  
-   <span data-ttu-id="0556a-140">JIT görünürlük atlanır denetler belirtirseniz, yöntem oluşturulduğunda gerçekleştiren talep içeren <xref:System.Security.Permissions.ReflectionPermission> ile <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> bayrağı ve erişiliyor ortak olmayan üyeyi içeren derlemenin grant kümesi.</span><span class="sxs-lookup"><span data-stu-id="0556a-140">If you specify that JIT visibility checks should be skipped, the demand that is made when the method is constructed includes <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag and the grant set of the assembly that contains the nonpublic member that is being accessed.</span></span>  
  
 <span data-ttu-id="0556a-141">Özel üye grant kümesi dikkate alınır çünkü verildi kod kısmen güvenilir <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> kendi ayrıcalıklarını güvenilen derlemelerin ortak olmayan üyeler yürüterek yükseltme yapamazsınız.</span><span class="sxs-lookup"><span data-stu-id="0556a-141">Because the grant set of the nonpublic member is taken into consideration, partially trusted code that has been granted <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> cannot elevate its privileges by executing nonpublic members of trusted assemblies.</span></span>  
  
 <span data-ttu-id="0556a-142">Olarak herhangi diğer verilmiş koduyla dinamik yöntemini yürütmenin tüm izinler dinamik bir yöntem yöntemler tarafından talep gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0556a-142">As with any other emitted code, executing the dynamic method requires whatever permissions are demanded by the methods the dynamic method uses.</span></span>  
  
 <span data-ttu-id="0556a-143">Anonim barındırılan dinamik yöntemler barındıran sistem derlemesi kullanan <xref:System.Security.SecurityRuleSet.Level1?displayProperty=nameWithType> önce .NET Framework içinde kullanılan saydamlık model saydamlık modeli [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0556a-143">The system assembly that hosts anonymously-hosted dynamic methods uses the <xref:System.Security.SecurityRuleSet.Level1?displayProperty=nameWithType> transparency model, which is the transparency model that was used in the .NET Framework before the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)].</span></span>  
  
 <span data-ttu-id="0556a-144">Daha fazla bilgi için bkz: <xref:System.Reflection.Emit.DynamicMethod> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="0556a-144">For more information, see the <xref:System.Reflection.Emit.DynamicMethod> class.</span></span>  
  
### <a name="generating-anonymously-hosted-dynamic-methods-from-partially-trusted-code"></a><span data-ttu-id="0556a-145">Barındırılan dinamik yöntemler kısmen güvenilen koddan anonim olarak oluşturma</span><span class="sxs-lookup"><span data-stu-id="0556a-145">Generating Anonymously Hosted Dynamic Methods from Partially Trusted Code</span></span>  
 <span data-ttu-id="0556a-146">Internet izinlere sahip bir derleme üretme anonim barındırılan dinamik yöntemi ve yürütebilirsiniz koşulları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="0556a-146">Consider the conditions in which an assembly with Internet permissions can generate an anonymously hosted dynamic method and execute it:</span></span>  
  
-   <span data-ttu-id="0556a-147">Yalnızca genel türleri ve üyeleri dinamik yöntemi kullanır.</span><span class="sxs-lookup"><span data-stu-id="0556a-147">The dynamic method uses only public types and members.</span></span> <span data-ttu-id="0556a-148">Verme kümesi içeriyorsa <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>, ortak olmayan türleri kullanabilirsiniz ve, grant ayarlamak derleme üyeleri olduğundan eşit ya da bir alt kümesini, verme derlemenin grant kümesi.</span><span class="sxs-lookup"><span data-stu-id="0556a-148">If its grant set includes <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>, it can use nonpublic types and members of any assembly whose grant set is equal to, or a subset of, the grant set of the emitting assembly.</span></span>  
  
-   <span data-ttu-id="0556a-149">Tüm türleri ve dinamik yöntemi tarafından kullanılan üyeleri gerektirdiği izinler kısmen güvenilen derlemenin grant kümesi dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="0556a-149">The permissions that are required by all the types and members used by the dynamic method are included in the grant set of the partially trusted assembly.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0556a-150">Dinamik yöntemler hata ayıklama simgeleri desteklemez.</span><span class="sxs-lookup"><span data-stu-id="0556a-150">Dynamic methods do not support debug symbols.</span></span>  
  
<a name="Dynamic_Methods_Associated_with_Existing_Assemblies"></a>   
## <a name="dynamic-methods-associated-with-existing-assemblies"></a><span data-ttu-id="0556a-151">Varolan derlemeler ile ilişkilendirilmiş dinamik yöntemler</span><span class="sxs-lookup"><span data-stu-id="0556a-151">Dynamic Methods Associated with Existing Assemblies</span></span>  
 <span data-ttu-id="0556a-152">Dinamik bir yöntem türü veya mevcut bir derlemede modülü ilişkilendirmek için herhangi bir kullanmak <xref:System.Reflection.Emit.DynamicMethod> ilişkili türü veya modülü belirtin oluşturucular.</span><span class="sxs-lookup"><span data-stu-id="0556a-152">To associate a dynamic method with a type or module in an existing assembly, use any of the <xref:System.Reflection.Emit.DynamicMethod> constructors that specify the associated type or module.</span></span> <span data-ttu-id="0556a-153">Dinamik bir yöntem varolan türüyle ilişkilendirme çünkü bu oluşturucular aramak için gerekli izinleri farklılık veya ortak olmayan türleri ve üyeleri için modülü dinamik yöntemi erişim sağlar:</span><span class="sxs-lookup"><span data-stu-id="0556a-153">The permissions that are required to call these constructors vary, because associating a dynamic method with an existing type or module gives the dynamic method access to nonpublic types and members:</span></span>  
  
-   <span data-ttu-id="0556a-154">Türü ile ilişkili olmayan dinamik bir yöntemle bile özel üyeler, bu türdeki tüm üyelerin erişimi ve ilişkili türü içeren tüm iç türleri ve üyeleri derlemesindeki.</span><span class="sxs-lookup"><span data-stu-id="0556a-154">A dynamic method that is associated with a type has access to all members of that type, even private members, and to all internal types and members in the assembly that contains the associated type.</span></span>  
  
-   <span data-ttu-id="0556a-155">Bir modülü ile ilişkili dinamik bir yöntem erişimi olan `internal` türleri ve üyeleri (`Friend` Visual Basic'te `assembly` ortak dil çalışma zamanı meta verilerde) modülünde.</span><span class="sxs-lookup"><span data-stu-id="0556a-155">A dynamic method that is associated with a module has access to all the `internal` types and members (`Friend` in Visual Basic, `assembly` in common language runtime metadata) in the module.</span></span>  
  
 <span data-ttu-id="0556a-156">Ayrıca, görünürlük Atla yeteneği JIT Derleyici denetleyeceğini belirtir bir oluşturucu kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="0556a-156">In addition, you can use a constructor that specifies the ability to skip the visibility checks of the JIT compiler.</span></span> <span data-ttu-id="0556a-157">Bunun yapılması, dinamik yöntemi tüm türleri ve üyeleri erişim düzeyi bağımsız olarak tüm derlemelerde erişmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="0556a-157">Doing so gives your dynamic method access to all types and members in all assemblies, regardless of access level.</span></span>  
  
 <span data-ttu-id="0556a-158">Yapıcı tarafından talep edilen izinler bağlıdır dinamik yönteminizi vermek karar ne kadar erişimi:</span><span class="sxs-lookup"><span data-stu-id="0556a-158">The permissions demanded by the constructor depend on how much access you decide to give your dynamic method:</span></span>  
  
-   <span data-ttu-id="0556a-159">Yalnızca genel türleri ve üyeleri yönteminizi kullanıyorsa ve kendi türü veya kendi modülü ile ilişkilendirmek, hiçbir izinleri gereklidir.</span><span class="sxs-lookup"><span data-stu-id="0556a-159">If your method uses only public types and members, and you associate it with your own type or your own module, no permissions are required.</span></span>  
  
-   <span data-ttu-id="0556a-160">JIT görünürlük denetimleri atlanacağını belirtirseniz, Oluşturucusu talep <xref:System.Security.Permissions.ReflectionPermission> ile <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> bayrağı.</span><span class="sxs-lookup"><span data-stu-id="0556a-160">If you specify that JIT visibility checks should be skipped, the constructor demands <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span>  
  
-   <span data-ttu-id="0556a-161">Dinamik yöntemi başka bir türü ile ilişkilendirirseniz, kendi derlemesindeki başka bir tür Oluşturucu talep bile <xref:System.Security.Permissions.ReflectionPermission> ile <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> bayrağı ve <xref:System.Security.Permissions.SecurityPermission> ile <xref:System.Security.Permissions.SecurityPermissionFlag.ControlEvidence?displayProperty=nameWithType> bayrağı.</span><span class="sxs-lookup"><span data-stu-id="0556a-161">If you associate the dynamic method with another type, even another type in your own assembly, the constructor demands <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag and <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionFlag.ControlEvidence?displayProperty=nameWithType> flag.</span></span>  
  
-   <span data-ttu-id="0556a-162">Bir tür veya başka bir derlemede modülüyle dinamik yöntemi ilişkilendirirseniz Oluşturucusu iki şey talep: <xref:System.Security.Permissions.ReflectionPermission> ile <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> bayrağı ve başka bir modül içeren derlemenin grant kümesi.</span><span class="sxs-lookup"><span data-stu-id="0556a-162">If you associate the dynamic method with a type or module in another assembly, the constructor demands two things: <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag, and the grant set of the assembly that contains the other module.</span></span> <span data-ttu-id="0556a-163">Diğer bir deyişle, çağrı yığını tüm izinleri hedef modülü grant kümesini içermelidir artı <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0556a-163">That is, your call stack must include all the permissions in the grant set of the target module, plus <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="0556a-164">Hedef talep kümesi sağlıyorsa geriye dönük uyumluluk için artı <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> başarısız olursa Oluşturucusu taleplerini <xref:System.Security.Permissions.SecurityPermission> ile <xref:System.Security.Permissions.SecurityPermissionFlag.ControlEvidence?displayProperty=nameWithType> bayrağı.</span><span class="sxs-lookup"><span data-stu-id="0556a-164">For backward compatibility, if the demand for the target grant set plus <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> fails, the constructor demands <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionFlag.ControlEvidence?displayProperty=nameWithType> flag.</span></span>  
  
 <span data-ttu-id="0556a-165">Bu listedeki öğeler verme derleme verme kümesi bakımından açıklanan rağmen taleplerini uygulama etki alanı sınırını da dahil olmak üzere tam çağrı yığını karşı yapılır unutmayın.</span><span class="sxs-lookup"><span data-stu-id="0556a-165">Although the items in this list are described in terms of the grant set of the emitting assembly, remember that the demands are made against the full call stack, including the application domain boundary.</span></span>  
  
 <span data-ttu-id="0556a-166">Daha fazla bilgi için bkz: <xref:System.Reflection.Emit.DynamicMethod> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="0556a-166">For more information, see the <xref:System.Reflection.Emit.DynamicMethod> class.</span></span>  
  
### <a name="generating-dynamic-methods-from-partially-trusted-code"></a><span data-ttu-id="0556a-167">Kısmen güvenilen koddan dinamik yöntemleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="0556a-167">Generating Dynamic Methods from Partially Trusted Code</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0556a-168">Kısmen güvenilen koddan dinamik yöntemleri oluşturmak için önerilen yöntem kullanmaktır [anonim barındırılan dinamik yöntemler](#Anonymously_Hosted_Dynamic_Methods).</span><span class="sxs-lookup"><span data-stu-id="0556a-168">The recommended way to generate dynamic methods from partially trusted code is to use [anonymously hosted dynamic methods](#Anonymously_Hosted_Dynamic_Methods).</span></span>  
  
 <span data-ttu-id="0556a-169">Internet izinlere sahip bir derleme üretme dinamik yöntemi ve yürütebilirsiniz koşulları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="0556a-169">Consider the conditions in which an assembly with Internet permissions can generate a dynamic method and execute it:</span></span>  
  
-   <span data-ttu-id="0556a-170">Dinamik yöntemi modülü veya onu yayar türü ile ilişkili değil veya kendi verme kümesi içeren <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> ve, grant bütünleştirilmiş modülünde ilişkilendirildiği eşit ya da bir alt kümesini, verme derlemenin grant kümesi kümesidir.</span><span class="sxs-lookup"><span data-stu-id="0556a-170">Either the dynamic method is associated with the module or type that emits it, or its grant set includes <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> and it is associated with a module in an assembly whose grant set is equal to, or a subset of, the grant set of the emitting assembly.</span></span>  
  
-   <span data-ttu-id="0556a-171">Yalnızca genel türleri ve üyeleri dinamik yöntemi kullanır.</span><span class="sxs-lookup"><span data-stu-id="0556a-171">The dynamic method uses only public types and members.</span></span> <span data-ttu-id="0556a-172">Verme kümesi içeriyorsa <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> ve, grant bütünleştirilmiş modülünde ilişkilendirildiği kümesidir eşit ya da bir alt kümesini, verme derlemenin grant kümesi, türleri ve işaretlenen üyelerin kullanabilirsiniz `internal` (`Friend` Visual Basic'te `assembly`ortak dil çalışma zamanı meta verilerde) ilişkili modülünde.</span><span class="sxs-lookup"><span data-stu-id="0556a-172">If its grant set includes <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> and it is associated with a module in an assembly whose grant set is equal to, or a subset of, the grant set of the emitting assembly, it can use types and members marked `internal` (`Friend` in Visual Basic, `assembly` in common language runtime metadata) in the associated module.</span></span>  
  
-   <span data-ttu-id="0556a-173">Tüm türleri tarafından talep edilen izinler ve dinamik yöntemi tarafından kullanılan üye kısmen güvenilen derlemenin grant kümesi dahil edilir.</span><span class="sxs-lookup"><span data-stu-id="0556a-173">The permissions demanded by all the types and members used by the dynamic method are included in the grant set of the partially trusted assembly.</span></span>  
  
-   <span data-ttu-id="0556a-174">Dinamik yöntemi JIT görünürlük denetimleri atlamaz.</span><span class="sxs-lookup"><span data-stu-id="0556a-174">The dynamic method does not skip JIT visibility checks.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0556a-175">Dinamik yöntemler hata ayıklama simgeleri desteklemez.</span><span class="sxs-lookup"><span data-stu-id="0556a-175">Dynamic methods do not support debug symbols.</span></span>  
  
<a name="Version_Information"></a>   
## <a name="version-information"></a><span data-ttu-id="0556a-176">Sürüm Bilgileri</span><span class="sxs-lookup"><span data-stu-id="0556a-176">Version Information</span></span>  
 <span data-ttu-id="0556a-177">İle başlayarak [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], makine genelinde güvenlik ilkesi ortadan ve güvenlik saydamlık varsayılan zorlama mekanizmasının haline gelir.</span><span class="sxs-lookup"><span data-stu-id="0556a-177">Starting with the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], machine-wide security policy is eliminated and security transparency becomes the default enforcement mechanism.</span></span> <span data-ttu-id="0556a-178">Bkz: [güvenlik değişiklikleri](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="0556a-178">See [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
 <span data-ttu-id="0556a-179">İle başlayarak [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)], <xref:System.Security.Permissions.ReflectionPermission> ile <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit?displayProperty=nameWithType> bayrağı gereklidir artık dinamik derlemeler ve dinamik yöntemleri yayma.</span><span class="sxs-lookup"><span data-stu-id="0556a-179">Starting with the [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)], <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit?displayProperty=nameWithType> flag is no longer required when emitting dynamic assemblies and dynamic methods.</span></span> <span data-ttu-id="0556a-180">Bu bayrak tüm önceki sürümlerde gerekli [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="0556a-180">This flag is required in all earlier versions of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0556a-181"><xref:System.Security.Permissions.ReflectionPermission>ile <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit?displayProperty=nameWithType> bayrak varsayılan olarak dahil `FullTrust` ve `LocalIntranet` adlandırılmış izin ayarlar, ancak içinde değil `Internet` izin kümesi.</span><span class="sxs-lookup"><span data-stu-id="0556a-181"><xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit?displayProperty=nameWithType> flag is included by default in the `FullTrust` and `LocalIntranet` named permission sets, but not in the `Internet` permission set.</span></span> <span data-ttu-id="0556a-182">Bu nedenle,'ın önceki sürümlerinde [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)], yalnızca yürütür varsa, Internet izinleri olan bir kitaplık kullanılabilir bir <xref:System.Security.PermissionSet.Assert%2A> için <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit>.</span><span class="sxs-lookup"><span data-stu-id="0556a-182">Therefore, in earlier versions of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)], a library can be used with Internet permissions only if it executes an <xref:System.Security.PermissionSet.Assert%2A> for <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit>.</span></span> <span data-ttu-id="0556a-183">Kodlama hataları güvenlik açıklarını neden olabilir çünkü böyle kitaplıklarının dikkatli güvenlik incelemesi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="0556a-183">Such libraries require careful security review because coding errors could result in security holes.</span></span> <span data-ttu-id="0556a-184">[!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)] Kısmi güven senaryolarında kod oluşturma için tüm güvenlik taleplerini veren kendiliğinden ayrıcalıklı bir işlem değil olmadan yayınlaması için kod sağlar.</span><span class="sxs-lookup"><span data-stu-id="0556a-184">The [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)] allows code to be emitted in partial trust scenarios without issuing any security demands, because generating code is not inherently a privileged operation.</span></span> <span data-ttu-id="0556a-185">Diğer bir deyişle, oluşturulan kod bunu yayar derleme'den daha fazla hiçbir izni yoktur.</span><span class="sxs-lookup"><span data-stu-id="0556a-185">That is, the generated code has no more permissions than the assembly that emits it.</span></span> <span data-ttu-id="0556a-186">Güvenliği saydam kod yayma ve assert ihtiyacını ortadan kaldırır kitaplıkları böylece <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit>, güvenli bir kitaplık yazma görevini basitleştirir.</span><span class="sxs-lookup"><span data-stu-id="0556a-186">This allows libraries that emit code to be security transparent and removes the need to assert <xref:System.Security.Permissions.ReflectionPermissionFlag.ReflectionEmit>, which simplifies the task of writing a secure library.</span></span>  
  
 <span data-ttu-id="0556a-187">Ayrıca, [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)] tanıtır <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> ortak olmayan türleri ve üye kısmen güvenilen dinamik yöntemleri erişmek için bayrak.</span><span class="sxs-lookup"><span data-stu-id="0556a-187">In addition, the [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)] introduces the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag for accessing nonpublic types and members from partially trusted dynamic methods.</span></span> <span data-ttu-id="0556a-188">' In önceki sürümlerini [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] gerektiren <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> bayrak ortak olmayan türleri ve üyeleri erişmek için dinamik yöntemleri; Bu kısmen güvenilen kod hiçbir zaman verilmelidir izni.</span><span class="sxs-lookup"><span data-stu-id="0556a-188">Earlier versions of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] require the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag for dynamic methods that access nonpublic types and members; this is a permission that should never be granted to partially trusted code.</span></span>  
  
 <span data-ttu-id="0556a-189">Son olarak, [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)] anonim olarak barındırılan yöntemleri sunar.</span><span class="sxs-lookup"><span data-stu-id="0556a-189">Finally, the [!INCLUDE[net_v20SP1_short](../../../includes/net-v20sp1-short-md.md)] introduces anonymously hosted methods.</span></span>  
  
### <a name="obtaining-information-on-types-and-members"></a><span data-ttu-id="0556a-190">Türleri ve üyeleri hakkında bilgi edinme</span><span class="sxs-lookup"><span data-stu-id="0556a-190">Obtaining Information on Types and Members</span></span>  
 <span data-ttu-id="0556a-191">İle başlayarak [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)], ortak olmayan türleri ve üyeleri hakkında bilgi edinmek için hiçbir izinleri gereklidir.</span><span class="sxs-lookup"><span data-stu-id="0556a-191">Starting with the [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)], no permissions are required to obtain information about nonpublic types and members.</span></span> <span data-ttu-id="0556a-192">Yansıma dinamik yöntemleri yayma için gereken bilgileri elde etmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0556a-192">Reflection is used to obtain information needed to emit dynamic methods.</span></span> <span data-ttu-id="0556a-193">Örneğin, <xref:System.Reflection.MethodInfo> nesneleri yöntem çağrılarını yaymak üzere kullanılır.</span><span class="sxs-lookup"><span data-stu-id="0556a-193">For example, <xref:System.Reflection.MethodInfo> objects are used to emit method calls.</span></span> <span data-ttu-id="0556a-194">' In önceki sürümlerini [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] gerektiren <xref:System.Security.Permissions.ReflectionPermission> ile <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> bayrağı.</span><span class="sxs-lookup"><span data-stu-id="0556a-194">Earlier versions of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] require <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> flag.</span></span> <span data-ttu-id="0556a-195">Daha fazla bilgi için bkz: [yansımayla ilgili güvenlik konuları](../../../docs/framework/reflection-and-codedom/security-considerations-for-reflection.md).</span><span class="sxs-lookup"><span data-stu-id="0556a-195">For more information, see [Security Considerations for Reflection](../../../docs/framework/reflection-and-codedom/security-considerations-for-reflection.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0556a-196">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="0556a-196">See Also</span></span>  
 [<span data-ttu-id="0556a-197">Yansımayla ilgili güvenlik konuları</span><span class="sxs-lookup"><span data-stu-id="0556a-197">Security Considerations for Reflection</span></span>](../../../docs/framework/reflection-and-codedom/security-considerations-for-reflection.md)  
 [<span data-ttu-id="0556a-198">Dinamik yöntemleri ve derlemeleri Yayma</span><span class="sxs-lookup"><span data-stu-id="0556a-198">Emitting Dynamic Methods and Assemblies</span></span>](../../../docs/framework/reflection-and-codedom/emitting-dynamic-methods-and-assemblies.md)
