---
title: "İçerik (WCF Veri Hizmetleri) yükleme ertelenmiş"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, deferred content
- WCF Data Services, loading data
ms.assetid: 32f9b588-c832-44c4-a7e0-fcce635df59a
caps.latest.revision: "2"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 11b796b5b2abaff00c6d0f20894056f5863942b2
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/22/2017
---
# <a name="loading-deferred-content-wcf-data-services"></a><span data-ttu-id="ab62f-102">İçerik (WCF Veri Hizmetleri) yükleme ertelenmiş</span><span class="sxs-lookup"><span data-stu-id="ab62f-102">Loading Deferred Content (WCF Data Services)</span></span>
<span data-ttu-id="ab62f-103">Varsayılan olarak, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] bir sorgunun döndürdüğü veri miktarını sınırlar.</span><span class="sxs-lookup"><span data-stu-id="ab62f-103">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] limits the amount of data that a query returns.</span></span> <span data-ttu-id="ab62f-104">Ancak, ilişkili varlıklar, disk belleğine alınan yanıt verilerini ve gerektiğinde veri hizmetinden ikili veri akışlarını gibi ek veriler açıkça yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ab62f-104">However, you can explicitly load additional data, including related entities, paged response data, and binary data streams, from the data service when it is needed.</span></span> <span data-ttu-id="ab62f-105">Bu konu, uygulamanıza ertelenmiş tür içeriği yüklemek açıklar.</span><span class="sxs-lookup"><span data-stu-id="ab62f-105">This topic describes how to load such deferred content into your application.</span></span>  
  
## <a name="related-entities"></a><span data-ttu-id="ab62f-106">İlgili varlıklar</span><span class="sxs-lookup"><span data-stu-id="ab62f-106">Related Entities</span></span>  
 <span data-ttu-id="ab62f-107">Bir sorgu yürütülürken yalnızca adresli varlık kümesindeki varlıklar döndürülür.</span><span class="sxs-lookup"><span data-stu-id="ab62f-107">When you execute a query, only entities in the addressed entity set are returned.</span></span> <span data-ttu-id="ab62f-108">Örneğin, Northwind veri hizmeti bir sorgu döndüğünde `Customers` varlıklar, varsayılan olarak ilgili `Orders` varlıklar alınmadı, arasında bir ilişki olsa bile `Customers` ve `Orders`.</span><span class="sxs-lookup"><span data-stu-id="ab62f-108">For example, when a query against the Northwind data service returns `Customers` entities, by default the related `Orders` entities are not returned, even though there is a relationship between `Customers` and `Orders`.</span></span> <span data-ttu-id="ab62f-109">Ayrıca, disk belleği veri hizmeti etkinleştirildiğinde, hizmetten sonraki veri sayfaları açıkça yüklemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="ab62f-109">Also, when paging is enabled in the data service, you must explicitly load subsequent data pages from the service.</span></span> <span data-ttu-id="ab62f-110">İlgili varlıklar yüklemek için iki yol vardır:</span><span class="sxs-lookup"><span data-stu-id="ab62f-110">There are two ways to load related entities:</span></span>  
  
-   <span data-ttu-id="ab62f-111">**İstekli yükleme**: kullanabileceğiniz `$expand` sorgu varlık için bir ilişki ile ilişkilendirilen varlıkları döndürme istek için sorgu seçeneği ayarlayın, istenen sorgu.</span><span class="sxs-lookup"><span data-stu-id="ab62f-111">**Eager loading**: You can use the `$expand` query option to request that the query return entities that are related by an association to the entity set that the query requested.</span></span> <span data-ttu-id="ab62f-112">Kullanım <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A> yöntemi <xref:System.Data.Services.Client.DataServiceQuery%601> eklemek için `$expand` veri hizmetine gönderilen sorgu seçeneği.</span><span class="sxs-lookup"><span data-stu-id="ab62f-112">Use the <xref:System.Data.Services.Client.DataServiceQuery%601.Expand%2A> method on the <xref:System.Data.Services.Client.DataServiceQuery%601> to add the `$expand` option to the query that is sent to the data service.</span></span> <span data-ttu-id="ab62f-113">Aşağıdaki örnekte olduğu gibi bir virgül ile ayırarak birden fazla ilgili varlık ayarlar isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="ab62f-113">You can request multiple related entity sets by separating them by a comma, as in the following example.</span></span> <span data-ttu-id="ab62f-114">Sorgu tarafından istenen tüm varlıkları tek bir yanıt olarak döndürülür.</span><span class="sxs-lookup"><span data-stu-id="ab62f-114">All entities requested by the query are returned in a single response.</span></span> <span data-ttu-id="ab62f-115">Aşağıdaki örnek verir `Order_Details` ve `Customers` ile birlikte `Orders` varlık kümesi:</span><span class="sxs-lookup"><span data-stu-id="ab62f-115">The following example returns `Order_Details` and `Customers` together with the `Orders` entity set:</span></span>  
  
     [!code-csharp[Astoria Northwind Client#ExpandOrderDetailsSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#expandorderdetailsspecific)]
     [!code-vb[Astoria Northwind Client#ExpandOrderDetailsSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#expandorderdetailsspecific)]  
  
     [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="ab62f-116">12 için tek bir sorgu kullanarak eklenebilir varlık kümeleri sayısını sınırlar `$expand` sorgu seçeneği.</span><span class="sxs-lookup"><span data-stu-id="ab62f-116"> limits to 12 the number of entity sets that can be included in a single query by using the `$expand` query option.</span></span>  
  
-   <span data-ttu-id="ab62f-117">**Açık yükleme**: çağırabilirsiniz <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> yöntemi <xref:System.Data.Services.Client.DataServiceContext> açıkça ilgili varlıklar yüklemek için örnek.</span><span class="sxs-lookup"><span data-stu-id="ab62f-117">**Explicit loading**: You can call the <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> instance to explicitly load related entities.</span></span> <span data-ttu-id="ab62f-118">Her çağrı <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> yöntemi, veri hizmeti için ayrı bir istek oluşturur.</span><span class="sxs-lookup"><span data-stu-id="ab62f-118">Each call to the <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> method creates a separate request to the data service.</span></span> <span data-ttu-id="ab62f-119">Aşağıdaki örnek açıkça yükler `Order_Details` için bir `Orders` varlık:</span><span class="sxs-lookup"><span data-stu-id="ab62f-119">The following example explicitly loads `Order_Details` for an `Orders` entity:</span></span>  
  
     [!code-csharp[Astoria Northwind Client#LoadRelatedOrderDetailsSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#loadrelatedorderdetailsspecific)]
     [!code-vb[Astoria Northwind Client#LoadRelatedOrderDetailsSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#loadrelatedorderdetailsspecific)]  
  
 <span data-ttu-id="ab62f-120">Hangi seçeneğin kullanılacağını düşünürken, veri hizmeti için istek sayısı ve tek bir yanıtta döndürülen veri miktarını arasında kolaylığını olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="ab62f-120">When you consider which option to use, realize that there is a tradeoff between the number of requests to the data service and the amount of data that is returned in a single response.</span></span> <span data-ttu-id="ab62f-121">İlişkili nesneleri uygulamanızın gerektirdiği ve açıkça bunları almak için ek istekler eklenen gecikmesi engellemek istediğinizde istekli yüklenirken kullanın.</span><span class="sxs-lookup"><span data-stu-id="ab62f-121">Use eager loading when your application requires associated objects and you want to avoid the added latency of additional requests to explicitly retrieve them.</span></span> <span data-ttu-id="ab62f-122">Uygulama için belirli ilgili varlık örnek verileri yalnızca gerektiğinde durumlarda varsa ancak, açıkça çağırarak bu varlıkların yüklenirken düşünmelisiniz <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ab62f-122">However, if there are cases when the application only needs the data for specific related entity instances, you should consider explicitly loading those entities by calling the <xref:System.Data.Services.Client.DataServiceContext.LoadProperty%2A> method.</span></span> <span data-ttu-id="ab62f-123">Daha fazla bilgi için bkz: [nasıl yapılır: yük ilgili varlıklar](../../../../docs/framework/data/wcf/how-to-load-related-entities-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="ab62f-123">For more information, see [How to: Load Related Entities](../../../../docs/framework/data/wcf/how-to-load-related-entities-wcf-data-services.md).</span></span>  
  
## <a name="paged-content"></a><span data-ttu-id="ab62f-124">Disk belleğine alınan içerik</span><span class="sxs-lookup"><span data-stu-id="ab62f-124">Paged Content</span></span>  
 <span data-ttu-id="ab62f-125">Disk belleği veri hizmeti etkinleştirildiğinde, veri hizmeti yapılandırma tarafından veri döndürür hizmeti akıştaki girdi sayısı sınırlıdır.</span><span class="sxs-lookup"><span data-stu-id="ab62f-125">When paging is enabled in the data service, the number of entries in the feed that the data service returns is limited by the configuration of the data service.</span></span> <span data-ttu-id="ab62f-126">Sayfa sınırlarını ayrı ayrı her varlık kümesi için ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ab62f-126">Page limits can be set separately for each entity set.</span></span> <span data-ttu-id="ab62f-127">Daha fazla bilgi için bkz: [veri hizmeti yapılandırma](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="ab62f-127">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span> <span data-ttu-id="ab62f-128">Sayfalama etkin olduğunda, son girişi akıştaki verilerin bir sonraki sayfaya bir bağlantı içerir.</span><span class="sxs-lookup"><span data-stu-id="ab62f-128">When paging is enabled, the final entry in the feed contains a link to the next page of data.</span></span> <span data-ttu-id="ab62f-129">Bu bağlantıyı içeren bir <xref:System.Data.Services.Client.DataServiceQueryContinuation%601> nesnesi.</span><span class="sxs-lookup"><span data-stu-id="ab62f-129">This link is contained in a <xref:System.Data.Services.Client.DataServiceQueryContinuation%601> object.</span></span> <span data-ttu-id="ab62f-130">Öğesini çağırarak verilerin bir sonraki sayfaya URI elde <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> yöntemi <xref:System.Data.Services.Client.QueryOperationResponse%601> olduğunda döndürülen <xref:System.Data.Services.Client.DataServiceQuery%601> yürütülür.</span><span class="sxs-lookup"><span data-stu-id="ab62f-130">You obtain the URI to the next page of data by calling the <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> method on the <xref:System.Data.Services.Client.QueryOperationResponse%601> returned when the <xref:System.Data.Services.Client.DataServiceQuery%601> is executed.</span></span> <span data-ttu-id="ab62f-131">Döndürülen <xref:System.Data.Services.Client.DataServiceQueryContinuation%601> nesnesi sonraki sonuç sayfasını yüklemek için daha sonra kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ab62f-131">The returned <xref:System.Data.Services.Client.DataServiceQueryContinuation%601> object is then used to load the next page of results.</span></span> <span data-ttu-id="ab62f-132">Çağırmadan önce sorgu sonucu listeleme <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ab62f-132">You must enumerate the query result before you call the <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> method.</span></span> <span data-ttu-id="ab62f-133">Kullanmayı bir `do…while` ilk sorgu sonucu numaralandırmak ve ardından denetlemek için döngü bir `non-null` değeri'sonraki bağlantı.</span><span class="sxs-lookup"><span data-stu-id="ab62f-133">Consider using a `do…while` loop to first enumerate the query result and then check for a `non-null` next link value.</span></span> <span data-ttu-id="ab62f-134">Zaman <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> yöntemi döndürür `null` (`Nothing` Visual Basic'te), özgün sorgu için ek sonuç sayfa yok.</span><span class="sxs-lookup"><span data-stu-id="ab62f-134">When the <xref:System.Data.Services.Client.QueryOperationResponse%601.GetContinuation%2A> method returns `null` (`Nothing` in Visual Basic), there are no additional result pages for the original query.</span></span> <span data-ttu-id="ab62f-135">Aşağıdaki örnekte gösterildiği bir `do…while` yükler döngü, Northwind örnek veri hizmetinden müşteri verileri disk belleğine alınan.</span><span class="sxs-lookup"><span data-stu-id="ab62f-135">The following example shows a `do…while` loop that loads paged customer data from the Northwind sample data service.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#LoadNextLink](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#loadnextlink)]
 [!code-vb[Astoria Northwind Client#LoadNextLink](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#loadnextlink)]  
  
 <span data-ttu-id="ab62f-136">İstenen varlık kümesi ile birlikte tek bir yanıt varlıkları ile ilgili bir sorgu isteği döndürüldüğünde, disk belleği sınırları dahil satır içi yanıt iç içe geçmiş akışları etkileyebilir.</span><span class="sxs-lookup"><span data-stu-id="ab62f-136">When a query requests that related entities are returned in a single response together with the requested entity set, paging limits may affect nested feeds that are included inline with the response.</span></span> <span data-ttu-id="ab62f-137">Örneğin, bir disk belleği sınırı ayarlandığında Northwind örnek veri hizmetinde `Customers` varlık kümesi, bağımsız bir disk belleği sınırını da ayarlayabilirsiniz ilgili için `Orders` varlık kümesi, Northwind.svc.cs aşağıdaki örnekte olduğu gibi dosya Northwind örnek veri hizmeti tanımlar.</span><span class="sxs-lookup"><span data-stu-id="ab62f-137">For example, when a paging limit is set in the Northwind sample data service for the `Customers` entity set, an independent paging limit can also be set for the related `Orders` entity set, as in the following example from the Northwind.svc.cs file that defines the Northwind sample data service.</span></span>  
  
 [!code-csharp[Astoria Northwind Service#DataServiceConfigPaging](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind service/cs/northwind.svc.cs#dataserviceconfigpaging)]
 [!code-vb[Astoria Northwind Service#DataServiceConfigPaging](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind service/vb/northwind.svc.vb#dataserviceconfigpaging)]  
  
 <span data-ttu-id="ab62f-138">Bu durumda, her iki üst düzey için disk belleği uygulamalıdır `Customers` ve iç içe `Orders` varlık akışları.</span><span class="sxs-lookup"><span data-stu-id="ab62f-138">In this case, you must implement paging for both the top-level `Customers` and the nested `Orders` entity feeds.</span></span> <span data-ttu-id="ab62f-139">Aşağıdaki örnekte gösterildiği `while` sayfaları yüklemek için kullanılan döngü `Orders` varlıkları ile ilgili bir seçili `Customers` varlık.</span><span class="sxs-lookup"><span data-stu-id="ab62f-139">The following example shows the `while` loop used to load pages of `Orders` entities related to a selected `Customers` entity.</span></span>  
  
 [!code-csharp[Astoria Northwind Client#LoadNextOrdersLink](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria northwind client/cs/source.cs#loadnextorderslink)]
 [!code-vb[Astoria Northwind Client#LoadNextOrdersLink](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria northwind client/vb/source.vb#loadnextorderslink)]  
  
 <span data-ttu-id="ab62f-140">Daha fazla bilgi için bkz: [nasıl yapılır: yük disk belleğine alınan sonuçları](../../../../docs/framework/data/wcf/how-to-load-paged-results-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="ab62f-140">For more information, see [How to: Load Paged Results](../../../../docs/framework/data/wcf/how-to-load-paged-results-wcf-data-services.md).</span></span>  
  
## <a name="binary-data-streams"></a><span data-ttu-id="ab62f-141">İkili veri akışları</span><span class="sxs-lookup"><span data-stu-id="ab62f-141">Binary Data Streams</span></span>  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="ab62f-142">bir veri akışı olarak ikili büyük nesne (BLOB) veri erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="ab62f-142"> enables you to access binary large object (BLOB) data as a data stream.</span></span> <span data-ttu-id="ab62f-143">Akış ikili veri yüklenmesi gerekli değildir ve istemci bu verileri daha verimli bir şekilde işleyebilir kadar erteler.</span><span class="sxs-lookup"><span data-stu-id="ab62f-143">Streaming defers the loading of binary data until it is needed, and the client can more efficiently process this data.</span></span> <span data-ttu-id="ab62f-144">Bu işlevsellikten yararlanmak için veri hizmeti uygulanması gereken <xref:System.Data.Services.Providers.IDataServiceStreamProvider> sağlayıcısı.</span><span class="sxs-lookup"><span data-stu-id="ab62f-144">In order to take advantage of this functionality, the data service must implement the <xref:System.Data.Services.Providers.IDataServiceStreamProvider> provider.</span></span> <span data-ttu-id="ab62f-145">Daha fazla bilgi için bkz: [Akış sağlayıcısı](../../../../docs/framework/data/wcf/streaming-provider-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="ab62f-145">For more information, see [Streaming Provider](../../../../docs/framework/data/wcf/streaming-provider-wcf-data-services.md).</span></span> <span data-ttu-id="ab62f-146">Akış etkinleştirildiğinde, varlık türleri ilgili ikili veriler döndürülür.</span><span class="sxs-lookup"><span data-stu-id="ab62f-146">When streaming is enabled, entity types are returned without the related binary data.</span></span> <span data-ttu-id="ab62f-147">Bu durumda, kullanmalısınız <xref:System.Data.Services.Client.DataServiceContext.GetReadStream%2A> yöntemi <xref:System.Data.Services.Client.DataServiceContext> ikili veriler için veri akışı hizmetinden erişmek için sınıf.</span><span class="sxs-lookup"><span data-stu-id="ab62f-147">In this case, you must use the <xref:System.Data.Services.Client.DataServiceContext.GetReadStream%2A> method of the <xref:System.Data.Services.Client.DataServiceContext> class to access the data stream for the binary data from the service.</span></span> <span data-ttu-id="ab62f-148">Benzer şekilde, kullanın <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> ekleyin veya ikili veri akışı olarak bir varlık için değiştirmek için bir yöntem.</span><span class="sxs-lookup"><span data-stu-id="ab62f-148">Similarly, use the <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> method to add or change binary data for an entity as a stream.</span></span> <span data-ttu-id="ab62f-149">Daha fazla bilgi için bkz: [ikili verileri ile çalışma](../../../../docs/framework/data/wcf/working-with-binary-data-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="ab62f-149">For more information, see [Working with Binary Data](../../../../docs/framework/data/wcf/working-with-binary-data-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ab62f-150">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="ab62f-150">See Also</span></span>  
 [<span data-ttu-id="ab62f-151">WCF Veri Hizmetleri İstemci Kitaplığı</span><span class="sxs-lookup"><span data-stu-id="ab62f-151">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)  
 [<span data-ttu-id="ab62f-152">Veri Hizmetini Sorgulama</span><span class="sxs-lookup"><span data-stu-id="ab62f-152">Querying the Data Service</span></span>](../../../../docs/framework/data/wcf/querying-the-data-service-wcf-data-services.md)
