---
title: "Yüksek kullanılabilirlik, olağanüstü durum kurtarma SqlClient desteği"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 61e0b396-09d7-4e13-9711-7dcbcbd103a0
caps.latest.revision: "13"
author: douglaslMS
ms.author: douglasl
manager: craigg
ms.workload: dotnet
ms.openlocfilehash: 4f6ede253f52682cfe5a698cf4fb02841dc4c1e0
ms.sourcegitcommit: c0dd436f6f8f44dc80dc43b07f6841a00b74b23f
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/19/2018
---
# <a name="sqlclient-support-for-high-availability-disaster-recovery"></a><span data-ttu-id="ef7e3-102">Yüksek kullanılabilirlik, olağanüstü durum kurtarma SqlClient desteği</span><span class="sxs-lookup"><span data-stu-id="ef7e3-102">SqlClient Support for High Availability, Disaster Recovery</span></span>
<span data-ttu-id="ef7e3-103">Bu konuda ele alınmıştır SqlClient desteği (eklenen [!INCLUDE[net_v45](../../../../../includes/net-v45-md.md)]) yüksek kullanılabilirlik, olağanüstü durum kurtarma--AlwaysOn Kullanılabilirlik grupları.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-103">This topic discusses SqlClient support (added in [!INCLUDE[net_v45](../../../../../includes/net-v45-md.md)]) for high-availability, disaster recovery -- AlwaysOn Availability Groups.</span></span>  <span data-ttu-id="ef7e3-104">AlwaysOn Kullanılabilirlik grupları özelliği eklenmiş [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-104">AlwaysOn Availability Groups feature was added to [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012.</span></span> <span data-ttu-id="ef7e3-105">AlwaysOn Kullanılabilirlik grupları hakkında daha fazla bilgi için bkz: [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] Books Online.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-105">For more information about AlwaysOn Availability Groups, see [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] Books Online.</span></span>  
  
 <span data-ttu-id="ef7e3-106">Kullanılabilirlik grubu dinleyicisi, artık belirtebilirsiniz bir (yüksek kullanılabilirlik, olağanüstü durum kurtarma) kullanılabilirlik grubu (ağ) veya [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 yük devretme kümesi örneği bağlantı özelliği.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-106">You can now specify the availability group listener of a (high-availability, disaster-recovery) availability group (AG) or [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 Failover Cluster Instance in the connection property.</span></span> <span data-ttu-id="ef7e3-107">SqlClient uygulama yöneltilir bir AlwaysOn veritabanına bağlıysa, özgün bağlantı bozuluyor ve uygulama yük devretme sonrasında çalışmaya devam etmek için yeni bir bağlantı açmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-107">If a SqlClient application is connected to an AlwaysOn database that fails over, the original connection is broken and the application must open a new connection to continue work after the failover.</span></span>  
  
 <span data-ttu-id="ef7e3-108">Bir kullanılabilirlik grubu dinleyicisi bağlanıyorsanız değil veya [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 yük devretme kümesi örneği ve bir ana bilgisayar adı ile ilişkili birden çok IP adresi varsa, DNS girişi ile ilişkili tüm IP adreslerini SqlClient sırayla yinelemek.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-108">If you are not connecting to an availability group listener or [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 Failover Cluster Instance, and if multiple IP addresses are associated with a hostname, SqlClient will iterate sequentially through all IP addresses associated with DNS entry.</span></span> <span data-ttu-id="ef7e3-109">Bu, tüm ağ arabirim kartı (NIC) DNS sunucusu tarafından döndürülen ilk IP adresine bağlı değilse zun olabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-109">This can be time consuming if the first IP address returned by DNS server is not bound to any network interface card (NIC).</span></span> <span data-ttu-id="ef7e3-110">Bir kullanılabilirlik grubu dinleyicisi bağlanırken veya [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 yük devretme kümesi örneği, SqlClient paralel olarak tüm IP adresleri bağlantı dener ve bağlantı denemesi başarılı olursa, sürücü bağlantı beklemedeki atar çalışır.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-110">When connecting to an availability group listener or [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 Failover Cluster Instance, SqlClient attempts to establish connections to all IP addresses in parallel and if a connection attempt succeeds, the driver will discard any pending connection attempts.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ef7e3-111">Bağlantı zaman aşımı süresini artırmak ve bağlantı yeniden deneme mantığı uygulamak bir uygulama bir kullanılabilirlik grubuna bağlanır olasılığı artar.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-111">Increasing connection timeout and implementing connection retry logic will increase the probability that an application will connect to an availability group.</span></span> <span data-ttu-id="ef7e3-112">Ayrıca, bir bağlantı nedeniyle yük devretme başarısız olabileceğinden onu yeniden bağlandığında kadar başarısız bağlantı yeniden deneniyor bağlantı yeniden deneme mantığı, uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-112">Also, because a connection can fail because of a failover, you should implement connection retry logic, retrying a failed connection until it reconnects.</span></span>  
  
 <span data-ttu-id="ef7e3-113">Aşağıdaki bağlantı özelliklerini SqlClient eklenme [!INCLUDE[net_v45](../../../../../includes/net-v45-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="ef7e3-113">The following connection properties were added to SqlClient in [!INCLUDE[net_v45](../../../../../includes/net-v45-md.md)]:</span></span>  
  
-   `ApplicationIntent`  
  
-   `MultiSubnetFailover`  
  
 <span data-ttu-id="ef7e3-114">Bu bağlantı dizesi anahtar sözcükleriyle program aracılığıyla değiştirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="ef7e3-114">You can programmatically modify these connection string keywords with:</span></span>  
  
1.  <xref:System.Data.SqlClient.SqlConnectionStringBuilder.ApplicationIntent%2A>  
  
2.  <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A>  

> [!NOTE]
>  <span data-ttu-id="ef7e3-115">Ayarı `MultiSubnetFailover` için `true` ile gerekli değildir [!INCLUDE[net_v461](../../../../../includes/net-v461-md.md)]) veya sonraki sürümler.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-115">Setting `MultiSubnetFailover` to `true` isn't required with [!INCLUDE[net_v461](../../../../../includes/net-v461-md.md)]) or later versions.</span></span>
  
## <a name="connecting-with-multisubnetfailover"></a><span data-ttu-id="ef7e3-116">MultiSubnetFailover ile bağlanma</span><span class="sxs-lookup"><span data-stu-id="ef7e3-116">Connecting With MultiSubnetFailover</span></span>  
 <span data-ttu-id="ef7e3-117">Her zaman belirtmeniz `MultiSubnetFailover=True` bağlanırken bir [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 kullanılabilirlik grubu dinleyicisi veya [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 yük devretme kümesi örneği.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-117">Always specify `MultiSubnetFailover=True` when connecting to a [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 availability group listener or [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 Failover Cluster Instance.</span></span> <span data-ttu-id="ef7e3-118">`MultiSubnetFailover`Yük devretme kümesi örneği ve tüm kullanılabilirlik grupları için daha hızlı yük devretmeyi etkinleştirir [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 ve tek ve birden çok alt ağ AlwaysOn Topolojileri için yük devretme süresi önemli ölçüde azaltır.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-118">`MultiSubnetFailover` enables faster failover for all Availability Groups and or Failover Cluster Instance in [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 and will significantly reduce failover time for single and multi-subnet AlwaysOn topologies.</span></span> <span data-ttu-id="ef7e3-119">Birden çok alt ağ yük devretme sırasında istemci bağlantıları paralel çalışacak.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-119">During a multi-subnet failover, the client will attempt connections in parallel.</span></span> <span data-ttu-id="ef7e3-120">Bir alt ağ yük devretme sırasında titizlikle TCP bağlantısı yeniden deneyecek.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-120">During a subnet failover, will aggressively retry the TCP connection.</span></span>  
  
 <span data-ttu-id="ef7e3-121">`MultiSubnetFailover` Bağlantı özelliği gösteren bir kullanılabilirlik grubunda uygulamanın dağıtıldığı veya [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 yük devretme kümesi örneği ve SqlClient birincil veritabanına bağlanmak deneyecek [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] tarafından örneği tüm IP adreslerine bağlanmaya çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-121">The `MultiSubnetFailover` connection property indicates that the application is being deployed in an availability group or [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 Failover Cluster Instance and that SqlClient will try to connect to the database on the primary [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] instance by trying to connect to all the IP addresses.</span></span> <span data-ttu-id="ef7e3-122">Zaman `MultiSubnetFailover=True` belirtilen bir bağlantı için istemci TCP bağlantı denemeleri işletim sisteminin varsayılan TCP yeniden aktarım aralıklar daha hızlı yeniden dener.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-122">When `MultiSubnetFailover=True` is specified for a connection, the client retries TCP connection attempts faster than the operating system’s default TCP retransmit intervals.</span></span> <span data-ttu-id="ef7e3-123">Bu bir AlwaysOn Kullanılabilirlik grubu veya bir AlwaysOn yük devretme kümesi örneği yük devretme işleminden sonra daha hızlı yeniden bağlanmayı sağlar ve hem tek ve birden çok subnet kullanılabilirlik grupları ve yük devretme kümesi örnekleri için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-123">This enables faster reconnection after failover of either an AlwaysOn Availability Group or an AlwaysOn Failover Cluster Instance, and is applicable to both single- and multi-subnet Availability Groups and Failover Cluster Instances.</span></span>  
  
 <span data-ttu-id="ef7e3-124">SqlClient bağlantı dizesi anahtar sözcükler hakkında daha fazla bilgi için bkz: <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A>.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-124">For more information about connection string keywords in SqlClient, see <xref:System.Data.SqlClient.SqlConnection.ConnectionString%2A>.</span></span>  
  
 <span data-ttu-id="ef7e3-125">Belirtme `MultiSubnetFailover=True` bir kullanılabilirlik grubu dinleyicisi dışında bir şey bağlanırken veya [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 yük devretme kümesi örneği olumsuz bir etkisi neden olabilir ve desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-125">Specifying `MultiSubnetFailover=True` when connecting to something other than a availability group listener or [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 Failover Cluster Instance may result in a negative performance impact, and is not supported.</span></span>  
  
 <span data-ttu-id="ef7e3-126">Bir kullanılabilirlik grubundaki bir sunucuya bağlanmak için aşağıdaki kılavuzları kullanın veya [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 yük devretme kümesi örneği:</span><span class="sxs-lookup"><span data-stu-id="ef7e3-126">Use the following guidelines to connect to a server in an availability group or [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] 2012 Failover Cluster Instance:</span></span>  
  
-   <span data-ttu-id="ef7e3-127">Kullanım `MultiSubnetFailover` bağlantı özelliği için bir tek alt ağ veya birden çok alt ağ; bağlanırken her ikisi için de performansı iyileştirir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-127">Use the `MultiSubnetFailover` connection property when connecting to a single subnet or multi-subnet; it will improve performance for both.</span></span>  
  
-   <span data-ttu-id="ef7e3-128">Bir kullanılabilirlik grubuna bağlanmak için kullanılabilirlik grubunun kullanılabilirlik grubu dinleyicisinin bağlantı dizenizi sunucusu olarak belirtin.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-128">To connect to an availability group, specify the availability group listener of the availability group as the server in your connection string.</span></span>  
  
-   <span data-ttu-id="ef7e3-129">Bağlanan bir [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] örneği 64 taneden fazla IP adresleriyle yapılandırılmış bir bağlantı hatası neden olur.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-129">Connecting to a [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] instance configured with more than 64 IP addresses will cause a connection failure.</span></span>  
  
-   <span data-ttu-id="ef7e3-130">Kullanan bir uygulama davranışını `MultiSubnetFailover` bağlantı özelliği kimlik doğrulama türüne göre etkilenmez: [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] kimlik doğrulaması, Kerberos kimlik doğrulaması veya Windows kimlik doğrulaması.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-130">Behavior of an application that uses the `MultiSubnetFailover` connection property is not affected based on the type of authentication: [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] Authentication, Kerberos Authentication, or Windows Authentication.</span></span>  
  
-   <span data-ttu-id="ef7e3-131">Değerini artırın `Connect Timeout` uyum sağlamak için yük devretme süresi ve uygulama bağlantı denemeleri azaltmak için.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-131">Increase the value of `Connect Timeout` to accommodate for failover time and reduce application connection retry attempts.</span></span>  
  
-   <span data-ttu-id="ef7e3-132">Dağıtılmış işlemler desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-132">Distributed transactions are not supported.</span></span>  
  
 <span data-ttu-id="ef7e3-133">Bir ikincil çoğaltma konumuna bağlanma, salt okunur yönlendirme etkin değilse, aşağıdaki durumlarda başarısız olur:</span><span class="sxs-lookup"><span data-stu-id="ef7e3-133">If read-only routing is not in effect, connecting to a secondary replica location will fail in the following situations:</span></span>  
  
1.  <span data-ttu-id="ef7e3-134">İkincil çoğaltma konumun bağlantılarını kabul edecek şekilde yapılandırılmazsa.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-134">If the secondary replica location is not configured to accept connections.</span></span>  
  
2.  <span data-ttu-id="ef7e3-135">Bir uygulama kullanıyorsa, `ApplicationIntent=ReadWrite` (aşağıda açıklanmıştır) ve ikincil çoğaltma konumu salt okunur erişim için yapılandırıldı.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-135">If an application uses `ApplicationIntent=ReadWrite` (discussed below) and the secondary replica location is configured for read-only access.</span></span>  
  
 <span data-ttu-id="ef7e3-136"><xref:System.Data.SqlClient.SqlDependency>salt okunur ikincil çoğaltmaların üzerine desteklenmiyor.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-136"><xref:System.Data.SqlClient.SqlDependency> is not supported on read-only secondary replicas.</span></span>  
  
 <span data-ttu-id="ef7e3-137">Bir bağlantı birincil kopya salt okunur iş yükleri reddedecek şekilde yapılandırılmış ve bağlantı dizesini içeriyorsa başarısız olur `ApplicationIntent=ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-137">A connection will fail if a primary replica is configured to reject read-only workloads and the connection string contains `ApplicationIntent=ReadOnly`.</span></span>  
  
## <a name="upgrading-to-use-multi-subnet-clusters-from-database-mirroring"></a><span data-ttu-id="ef7e3-138">Birden çok alt ağ kullanmak üzere yükseltmenin kümeleri veritabanı yansıtma</span><span class="sxs-lookup"><span data-stu-id="ef7e3-138">Upgrading to Use Multi-Subnet Clusters from Database Mirroring</span></span>  
 <span data-ttu-id="ef7e3-139">Bağlantı hatası (<xref:System.ArgumentException>) varsa ortaya çıkar `MultiSubnetFailover` ve `Failover Partner` bağlantı sözcükler bağlantı dizesinde mevcut veya `MultiSubnetFailover=True` ve TCP dışında bir protokolü kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-139">A connection error (<xref:System.ArgumentException>) will occur if the `MultiSubnetFailover` and `Failover Partner` connection keywords are present in the connection string, or if `MultiSubnetFailover=True` and a protocol other than TCP is used.</span></span> <span data-ttu-id="ef7e3-140">Hata (<xref:System.Data.SqlClient.SqlException>) de oluşacaktır `MultiSubnetFailover` kullanılır ve [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] çifti yansıtma veritabanının bir parçası olduğunu gösteren bir yük devretme ortağı yanıtı döndürür.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-140">An error (<xref:System.Data.SqlClient.SqlException>) will also occur if `MultiSubnetFailover` is used and the [!INCLUDE[ssNoVersion](../../../../../includes/ssnoversion-md.md)] returns a failover partner response indicating it is part of a database mirroring pair.</span></span>  
  
 <span data-ttu-id="ef7e3-141">Yükseltirseniz, birden çok alt senaryo için veritabanı yansıtma SqlClient uygulama şu anda kullanır, kaldırmanız gerekir `Failover Partner` bağlantı özelliği ve bunların yerine `MultiSubnetFailover` kümesine `True` ve sunucu adını değiştirin bir kullanılabilirlik grubu dinleyicisi ile bağlantı dizesi.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-141">If you upgrade a SqlClient application that currently uses database mirroring to a multi-subnet scenario, you should remove the `Failover Partner` connection property and replace it with `MultiSubnetFailover` set to `True` and replace the server name in the connection string with an availability group listener.</span></span> <span data-ttu-id="ef7e3-142">Bir bağlantı dizesi kullanıyorsa `Failover Partner` ve `MultiSubnetFailover=True`, sürücü bir hata oluşturur.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-142">If a connection string uses `Failover Partner` and `MultiSubnetFailover=True`, the driver will generate an error.</span></span> <span data-ttu-id="ef7e3-143">Ancak, bir bağlantı dizesi kullanıyorsa `Failover Partner` ve `MultiSubnetFailover=False` (veya `ApplicationIntent=ReadWrite`), uygulama, veritabanı yansıtma kullanacak.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-143">However, if a connection string uses `Failover Partner` and `MultiSubnetFailover=False` (or `ApplicationIntent=ReadWrite`), the application will use database mirroring.</span></span>  
  
 <span data-ttu-id="ef7e3-144">Sürücü veritabanı yansıtma AG birincil veritabanında kullanılırsa ve bir hata döndürecektir `MultiSubnetFailover=True` yerine birincil veritabanı bir kullanılabilirlik grubu dinleyicisi için bağlandığı bağlantı dizesinde kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-144">The driver will return an error if database mirroring is used on the primary database in the AG, and if `MultiSubnetFailover=True` is used in the connection string that connects to a primary database instead of to an availability group listener.</span></span>  
  
## <a name="specifying-application-intent"></a><span data-ttu-id="ef7e3-145">Uygulama hedefi belirtme</span><span class="sxs-lookup"><span data-stu-id="ef7e3-145">Specifying Application Intent</span></span>  
 <span data-ttu-id="ef7e3-146">Zaman `ApplicationIntent=ReadOnly`, istemci bir AlwaysOn etkin veritabanına bağlanırken okuma iş yükünü ister.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-146">When `ApplicationIntent=ReadOnly`, the client requests a read workload when connecting to an AlwaysOn enabled database.</span></span> <span data-ttu-id="ef7e3-147">Sunucu bağlantısı zaman ve USE veritabanı deyimi sırasında ancak yalnızca bir Always On etkin veritabanı hedefi zorlar.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-147">The server will enforce the intent at connection time and during a USE database statement but only to an Always On enabled database.</span></span>  
  
 <span data-ttu-id="ef7e3-148">`ApplicationIntent` Anahtar sözcüğü eski, salt okunur veritabanları ile çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-148">The `ApplicationIntent` keyword does not work with legacy, read-only databases.</span></span>  
  
 <span data-ttu-id="ef7e3-149">Bir veritabanı verin veya hedeflenen AlwaysOn veritabanı üzerinde okuma iş yükleri vermeyin.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-149">A database can allow or disallow read workloads on the targeted AlwaysOn database.</span></span> <span data-ttu-id="ef7e3-150">(Bu gerçekleştirilir `ALLOW_CONNECTIONS` yan tümcesi `PRIMARY_ROLE` ve `SECONDARY_ROLE` [!INCLUDE[tsql](../../../../../includes/tsql-md.md)] deyimleri.)</span><span class="sxs-lookup"><span data-stu-id="ef7e3-150">(This is done with the `ALLOW_CONNECTIONS` clause of the `PRIMARY_ROLE` and `SECONDARY_ROLE`[!INCLUDE[tsql](../../../../../includes/tsql-md.md)] statements.)</span></span>  
  
 <span data-ttu-id="ef7e3-151">`ApplicationIntent` Anahtar sözcüğü salt okunur yönlendirmeyi etkinleştirmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-151">The `ApplicationIntent` keyword is used to enable read-only routing.</span></span>  
  
## <a name="read-only-routing"></a><span data-ttu-id="ef7e3-152">Salt okunur yönlendirme</span><span class="sxs-lookup"><span data-stu-id="ef7e3-152">Read-Only Routing</span></span>  
 <span data-ttu-id="ef7e3-153">Yönlendirme salt okunur bir veritabanının okuma yalnızca çoğaltmasını kullanılabilirliğinden emin olabilirsiniz bir özelliktir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-153">Read-only routing is a feature that can ensure the availability of a read only replica of a database.</span></span> <span data-ttu-id="ef7e3-154">Salt okunur yönlendirmeyi etkinleştirmek için:</span><span class="sxs-lookup"><span data-stu-id="ef7e3-154">To enable read-only routing:</span></span>  
  
1.  <span data-ttu-id="ef7e3-155">Bir her zaman kullanılabilirlik grubu üzerinde kullanılabilirlik grubu dinleyicisi bağlanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-155">You must connect to an Always On Availability Group availability group listener.</span></span>  
  
2.  <span data-ttu-id="ef7e3-156">`ApplicationIntent` Bağlantı dizesi anahtar sözcüğü ayarlanmalıdır `ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-156">The `ApplicationIntent` connection string keyword must be set to `ReadOnly`.</span></span>  
  
3.  <span data-ttu-id="ef7e3-157">Kullanılabilirlik grubu salt okunur yönlendirmeyi etkinleştirmek için veritabanı yöneticisi tarafından yapılandırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-157">The Availability Group must be configured by the database administrator to enable read-only routing.</span></span>  
  
 <span data-ttu-id="ef7e3-158">Salt okunur yönlendirme kullanarak birden çok bağlantı tümü aynı salt okunur kopyaya bağlanın mümkündür.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-158">It is possible that multiple connections using read-only routing will not all connect to the same read-only replica.</span></span> <span data-ttu-id="ef7e3-159">Farklı salt okunur çoğaltmaları istemci bağlantıları veritabanı eşitleme değişiklikleri veya sunucunun yönlendirme yapılandırmasındaki değişiklikler neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-159">Changes in database synchronization or changes in the server's routing configuration can result in client connections to different read-only replicas.</span></span> <span data-ttu-id="ef7e3-160">Tüm salt okunur istekleri aynı salt okunur kopyaya bağlandığından emin olmak için bir kullanılabilirlik grubu dinleyicisi geçmeyin `Data Source` bağlantı dizesi anahtar sözcüğü.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-160">To ensure that all read-only requests connect to the same read-only replica, do not pass an availability group listener to the `Data Source` connection string keyword.</span></span> <span data-ttu-id="ef7e3-161">Bunun yerine, salt okunur örneğinin adını belirtin.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-161">Instead, specify the name of the read-only instance.</span></span>  
  
 <span data-ttu-id="ef7e3-162">Salt okunur yönlendirme için birincil yalnızca Yönlendirme okuma ilk birincil bağlanır ve en iyi kullanılabilir okunabilir ikincil için görünür olduğundan bağlanmaktan daha uzun sürebilir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-162">Read-only routing may take longer than connecting to the primary because read only routing first connects to the primary and then looks for the best available readable secondary.</span></span> <span data-ttu-id="ef7e3-163">Bu nedenle, oturum açma zaman aşımı artırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-163">Because of this, you should increase your login timeout.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ef7e3-164">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="ef7e3-164">See Also</span></span>  
 [<span data-ttu-id="ef7e3-165">SQL Server Özellikleri ve ADO.NET</span><span class="sxs-lookup"><span data-stu-id="ef7e3-165">SQL Server Features and ADO.NET</span></span>](../../../../../docs/framework/data/adonet/sql/sql-server-features-and-adonet.md)  
 [<span data-ttu-id="ef7e3-166">ADO.NET yönetilen sağlayıcıları ve veri kümesi Geliştirici Merkezi</span><span class="sxs-lookup"><span data-stu-id="ef7e3-166">ADO.NET Managed Providers and DataSet Developer Center</span></span>](http://go.microsoft.com/fwlink/?LinkId=217917)
