---
title: CancellationScope kullanma
ms.date: 03/30/2017
ms.assetid: 39c5c338-b316-43d6-b7fe-a543281dd1ec
ms.openlocfilehash: 82d44fff869f207c09dc7685fc3470630e001a59
ms.sourcegitcommit: efff8f331fd9467f093f8ab8d23a203d6ecb5b60
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/01/2018
ms.locfileid: "43401788"
---
# <a name="using-cancellationscope"></a><span data-ttu-id="24a9b-102">CancellationScope kullanma</span><span class="sxs-lookup"><span data-stu-id="24a9b-102">Using CancellationScope</span></span>
<span data-ttu-id="24a9b-103">Bu örnek nasıl kullanılacağını gösterir <xref:System.Activities.Statements.CancellationScope> uygulamada işi iptal etmek için etkinlik.</span><span class="sxs-lookup"><span data-stu-id="24a9b-103">This sample demonstrates how to use the <xref:System.Activities.Statements.CancellationScope> activity to cancel work in an application.</span></span>  
  
 <span data-ttu-id="24a9b-104">İşlem iptal için bunları işlemek için iyi bilinen programlama yapısı birçok orta katman bileşen ve hizmetlere bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="24a9b-104">Many middle tier components and services rely on the well-known programming construct of transactions to handle cancellation for them.</span></span>  <span data-ttu-id="24a9b-105">Ancak, bir işlemde yapılan iş iptal edilmesi gerekir birçok durum vardır.</span><span class="sxs-lookup"><span data-stu-id="24a9b-105">However, there are many situations in which work that cannot be done in a transaction must be canceled.</span></span>  <span data-ttu-id="24a9b-106">İptal edilebilir iş ilk izlenmesi için İptal'i kullanarak işlemleri kullanmaktan daha zordur.</span><span class="sxs-lookup"><span data-stu-id="24a9b-106">Using cancellation is more difficult than using transactions, because work that must be canceled must first be tracked.</span></span> [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)]<span data-ttu-id="24a9b-107"> Bu sağlayarak yardımcı olan bir <xref:System.Activities.Statements.CancellationScope> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="24a9b-107"> helps you with this by providing a <xref:System.Activities.Statements.CancellationScope> activity.</span></span>  
  
 <span data-ttu-id="24a9b-108">İptal olabilir'nden ya da bir etkinlik içinde ya da etkinliğin üst tetiklendi.</span><span class="sxs-lookup"><span data-stu-id="24a9b-108">Cancellation can be triggered either from within an activity or from the activity's parent.</span></span>  <span data-ttu-id="24a9b-109">Alt kendi üst etkinliği tarafından zamanlanır (gibi bir <xref:System.Activities.Statements.Sequence>, <xref:System.Activities.Statements.Parallel>, <xref:System.Activities.Statements.Flowchart>, ya da özel bir bileşik etkinliği).</span><span class="sxs-lookup"><span data-stu-id="24a9b-109">Child activities are scheduled by their parent activity (such as a <xref:System.Activities.Statements.Sequence>, <xref:System.Activities.Statements.Parallel>, <xref:System.Activities.Statements.Flowchart>, or a custom composite activity).</span></span>  <span data-ttu-id="24a9b-110">Üst etkinliği, çocuk etkinliklerinin herhangi bir nedenle iptal edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24a9b-110">The parent activity can cancel child activities for any reason.</span></span>  <span data-ttu-id="24a9b-111">Örneğin, bir <xref:System.Activities.Statements.Parallel> etkinlik üç alt dala sahip her bir dal tamamlanan kalan alt dalları iptal eder ve <xref:System.Activities.Statements.Parallel.CompletionCondition%2A> ifadeyi hesaplar için `true`.</span><span class="sxs-lookup"><span data-stu-id="24a9b-111">For example, a <xref:System.Activities.Statements.Parallel> activity with three child branches will cancel the remaining child branches whenever it completes a branch and the <xref:System.Activities.Statements.Parallel.CompletionCondition%2A> expression evaluates to `true`.</span></span> <span data-ttu-id="24a9b-112">İş akışı dışarıdan konak uygulama tarafından çağırarak iptal edilebilir <xref:System.Activities.WorkflowApplication.Cancel%2A>.</span><span class="sxs-lookup"><span data-stu-id="24a9b-112">The workflow can also be canceled externally by the host application by calling <xref:System.Activities.WorkflowApplication.Cancel%2A>.</span></span>  
  
 <span data-ttu-id="24a9b-113">Kullanılacak <xref:System.Activities.Statements.CancellationScope> etkinliği içine iptal edilmesi gereken iş put <xref:System.Activities.Statements.CancellationScope.Body%2A> özelliği ve put iptali gerçekleştirilen iş <xref:System.Activities.Statements.CancellationScope.CancellationHandler%2A> özelliği.</span><span class="sxs-lookup"><span data-stu-id="24a9b-113">To use the <xref:System.Activities.Statements.CancellationScope> activity, put the work that needs to be canceled into the <xref:System.Activities.Statements.CancellationScope.Body%2A> property, and put the work that is performed after cancellation into the <xref:System.Activities.Statements.CancellationScope.CancellationHandler%2A> property.</span></span>  
  
 <span data-ttu-id="24a9b-114">Bu örnek etkinlik içinde etkinliği iptal ediliyor gösterir.</span><span class="sxs-lookup"><span data-stu-id="24a9b-114">This sample demonstrates cancelling an activity from within the activity itself.</span></span>  
  
 <span data-ttu-id="24a9b-115">Göstermek için örnek kullanır senaryo <xref:System.Activities.Statements.CancellationScope> olabildiğince çabuk Miami bilet satın almak isteyen bir istemci bir etkinliktir.</span><span class="sxs-lookup"><span data-stu-id="24a9b-115">The scenario that the sample uses to demonstrate the <xref:System.Activities.Statements.CancellationScope> activity is a client wanting to buy a ticket to Miami as soon as possible.</span></span> <span data-ttu-id="24a9b-116">İş istediğiniz iki seyahat kurumları vardır.</span><span class="sxs-lookup"><span data-stu-id="24a9b-116">There are two travel agencies that want the business.</span></span> <span data-ttu-id="24a9b-117">İki örnek kullanır <xref:System.Activities.Statements.CancellationScope> içinde bir <xref:System.Activities.Statements.Parallel> bu iş mantığı modellemek için etkinlik.</span><span class="sxs-lookup"><span data-stu-id="24a9b-117">The sample uses two <xref:System.Activities.Statements.CancellationScope> within a <xref:System.Activities.Statements.Parallel> activity to model this business logic.</span></span> <span data-ttu-id="24a9b-118"><xref:System.Activities.Statements.Parallel.CompletionCondition%2A> , <xref:System.Activities.Statements.Parallel> Etkinlik ayarlandığında `true`; <xref:System.Activities.Statements.Parallel.CompletionCondition%2A> olan herhangi bir dal tamamlandıktan sonra iade, bu ilk dal tamamlandıktan sonra iptal edilecek kalan dal neden olur.</span><span class="sxs-lookup"><span data-stu-id="24a9b-118">The <xref:System.Activities.Statements.Parallel.CompletionCondition%2A> of the <xref:System.Activities.Statements.Parallel> activity is set to `true`; since the <xref:System.Activities.Statements.Parallel.CompletionCondition%2A> is checked after any branch completes, this will cause the remaining branch to be canceled after the first branch completes.</span></span> <span data-ttu-id="24a9b-119">İstemci uygulaması hem kurumları bilet satın almak için ister ve ilk bilet satın doğruladığında, uygulamanın diğer Ajans sırada iptal eder.</span><span class="sxs-lookup"><span data-stu-id="24a9b-119">The client application asks both agencies to buy the ticket, and when the first one confirms that the ticket has been bought, the application cancels the order at the other agency.</span></span>  
  
## <a name="to-use-this-sample"></a><span data-ttu-id="24a9b-120">Bu örneği kullanmak için</span><span class="sxs-lookup"><span data-stu-id="24a9b-120">To use this sample</span></span>  
  
1.  <span data-ttu-id="24a9b-121">Kullanarak [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], CancelationScopeXAML.sln çözüm dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="24a9b-121">Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the CancelationScopeXAML.sln solution file.</span></span>  
  
2.  <span data-ttu-id="24a9b-122">Çözümü derlemek için CTRL + SHIFT + B tuşlarına basın.</span><span class="sxs-lookup"><span data-stu-id="24a9b-122">To build the solution, press CTRL+SHIFT+B.</span></span>  
  
3.  <span data-ttu-id="24a9b-123">Çözümü çalıştırmak için CTRL + F5 tuşlarına basın.</span><span class="sxs-lookup"><span data-stu-id="24a9b-123">To run the solution, press CTRL+F5.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="24a9b-124">Örnekler, makinenizde zaten yüklü.</span><span class="sxs-lookup"><span data-stu-id="24a9b-124">The samples may already be installed on your machine.</span></span> <span data-ttu-id="24a9b-125">Devam etmeden önce şu (varsayılan) dizin denetleyin.</span><span class="sxs-lookup"><span data-stu-id="24a9b-125">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="24a9b-126">Bu dizin mevcut değilse Git [Windows Communication Foundation (WCF) ve .NET Framework 4 için Windows Workflow Foundation (WF) örnekleri](https://go.microsoft.com/fwlink/?LinkId=150780) tüm Windows Communication Foundation (WCF) indirmek için ve [!INCLUDE[wf1](../../../../includes/wf1-md.md)] örnekleri.</span><span class="sxs-lookup"><span data-stu-id="24a9b-126">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="24a9b-127">Bu örnek, şu dizinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="24a9b-127">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Built-InActivities\CancellationScope`