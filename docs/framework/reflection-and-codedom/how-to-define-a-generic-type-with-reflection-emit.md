---
title: "Nasıl yapılır: Yansıma Yayma ile Genel Tür Tanımlama"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- generics [.NET Framework], reflection emit
- generics [.NET Framework], dynamic types
- reflection emit, generic types
ms.assetid: 07d5f01a-7b5b-40ea-9b15-f21561098fe4
caps.latest.revision: "14"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: d6096a54c6a530035bd32c24d427ba047f905476
ms.sourcegitcommit: c0dd436f6f8f44dc80dc43b07f6841a00b74b23f
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 01/19/2018
---
# <a name="how-to-define-a-generic-type-with-reflection-emit"></a><span data-ttu-id="947a1-102">Nasıl yapılır: Yansıma Yayma ile Genel Tür Tanımlama</span><span class="sxs-lookup"><span data-stu-id="947a1-102">How to: Define a Generic Type with Reflection Emit</span></span>
<span data-ttu-id="947a1-103">Bu konuda iki tür parametreleri ile basit bir genel tür oluşturma, tür parametreleri sınıf kısıtlamaları, arabirim kısıtlamaları ve özel kısıtlamalar uygulamak nasıl ve parametre türleri olarak sınıfın türü parametreleri kullanma üyeleri oluşturmak üzere nasıl gösterir ve dönüş türleri.</span><span class="sxs-lookup"><span data-stu-id="947a1-103">This topic shows how to create a simple generic type with two type parameters, how to apply class constraints, interface constraints, and special constraints to the type parameters, and how to create members that use the type parameters of the class as parameter types and return types.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="947a1-104">Yalnızca genel bir tür ait ve bu tür tür parametreleri kullanan bir yöntem genel olmadığından.</span><span class="sxs-lookup"><span data-stu-id="947a1-104">A method is not generic just because it belongs to a generic type and uses the type parameters of that type.</span></span> <span data-ttu-id="947a1-105">Yalnızca kendi türü parametre listesine varsa genel yöntemidir.</span><span class="sxs-lookup"><span data-stu-id="947a1-105">A method is generic only if it has its own type parameter list.</span></span> <span data-ttu-id="947a1-106">Genel türler çoğu yöntemlere genel bu örnekteki değildir.</span><span class="sxs-lookup"><span data-stu-id="947a1-106">Most methods on generic types are not generic, as in this example.</span></span> <span data-ttu-id="947a1-107">Genel yöntem yayma ilişkin bir örnek için bkz: [nasıl yapılır: yansıma yayma ile genel yöntem tanımlama](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-method-with-reflection-emit.md).</span><span class="sxs-lookup"><span data-stu-id="947a1-107">For an example of emitting a generic method, see [How to: Define a Generic Method with Reflection Emit](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-method-with-reflection-emit.md).</span></span>  
  
### <a name="to-define-a-generic-type"></a><span data-ttu-id="947a1-108">Genel bir tür tanımlamak için</span><span class="sxs-lookup"><span data-stu-id="947a1-108">To define a generic type</span></span>  
  
1.  <span data-ttu-id="947a1-109">Adlı bir dinamik derleme tanımlamak `GenericEmitExample1`.</span><span class="sxs-lookup"><span data-stu-id="947a1-109">Define a dynamic assembly named `GenericEmitExample1`.</span></span> <span data-ttu-id="947a1-110">Bu örnekte, derleme yürütülen ve diske, bunu kaydedilmiş <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> belirtilir.</span><span class="sxs-lookup"><span data-stu-id="947a1-110">In this example, the assembly is executed and saved to disk, so <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> is specified.</span></span>  
  
     [!code-cpp[EmitGenericType#2](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#2)]
     [!code-csharp[EmitGenericType#2](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#2)]
     [!code-vb[EmitGenericType#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#2)]  
  
2.  <span data-ttu-id="947a1-111">Dinamik bir modül tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="947a1-111">Define a dynamic module.</span></span> <span data-ttu-id="947a1-112">Bir derlemeyi yürütülebilir modüllerini yapılır.</span><span class="sxs-lookup"><span data-stu-id="947a1-112">An assembly is made up of executable modules.</span></span> <span data-ttu-id="947a1-113">Bir tek modül derlemesi için modül adı derleme adı ile aynıdır ve modül adına artı bir uzantısı dosya adıdır.</span><span class="sxs-lookup"><span data-stu-id="947a1-113">For a single-module assembly, the module name is the same as the assembly name, and the file name is the module name plus an extension.</span></span>  
  
     [!code-cpp[EmitGenericType#3](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#3)]
     [!code-csharp[EmitGenericType#3](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#3)]
     [!code-vb[EmitGenericType#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#3)]  
  
3.  <span data-ttu-id="947a1-114">Bir sınıf tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="947a1-114">Define a class.</span></span> <span data-ttu-id="947a1-115">Bu örnekte adlı sınıfı `Sample`.</span><span class="sxs-lookup"><span data-stu-id="947a1-115">In this example, the class is named `Sample`.</span></span>  
  
     [!code-cpp[EmitGenericType#4](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#4)]
     [!code-csharp[EmitGenericType#4](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#4)]
     [!code-vb[EmitGenericType#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#4)]  
  
4.  <span data-ttu-id="947a1-116">Genel tür parametreleri tanımla `Sample` parametrelerinin adlarını içeren bir dizeler dizisi geçirerek <xref:System.Reflection.Emit.TypeBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="947a1-116">Define the generic type parameters of `Sample` by passing an array of strings containing the names of the parameters to the <xref:System.Reflection.Emit.TypeBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="947a1-117">Bu genel bir tür sınıfı sağlar.</span><span class="sxs-lookup"><span data-stu-id="947a1-117">This makes the class a generic type.</span></span> <span data-ttu-id="947a1-118">Dönüş değeri dizisidir <xref:System.Reflection.Emit.GenericTypeParameterBuilder> verilmiş kodunuzda kullanılabilir tür parametreleri temsil eden nesne.</span><span class="sxs-lookup"><span data-stu-id="947a1-118">The return value is an array of <xref:System.Reflection.Emit.GenericTypeParameterBuilder> objects representing the type parameters, which can be used in your emitted code.</span></span>  
  
     <span data-ttu-id="947a1-119">Aşağıdaki kodda, `Sample` tür parametreleri ile genel tür hale `TFirst` ve `TSecond`.</span><span class="sxs-lookup"><span data-stu-id="947a1-119">In the following code, `Sample` becomes a generic type with type parameters `TFirst` and `TSecond`.</span></span> <span data-ttu-id="947a1-120">Kod okumak her kolaylaştırmak için <xref:System.Reflection.Emit.GenericTypeParameterBuilder> tür parametresi aynı ada sahip bir değişken yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="947a1-120">To make the code easier to read, each <xref:System.Reflection.Emit.GenericTypeParameterBuilder> is placed in a variable with the same name as the type parameter.</span></span>  
  
     [!code-cpp[EmitGenericType#5](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#5)]
     [!code-csharp[EmitGenericType#5](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#5)]
     [!code-vb[EmitGenericType#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#5)]  
  
5.  <span data-ttu-id="947a1-121">Özel kısıtlamalar tür parametreleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="947a1-121">Add special constraints to the type parameters.</span></span> <span data-ttu-id="947a1-122">Bu örnekte, tür parametresi `TFirst` parametresiz oluşturucular türleri ve başvuru türleri için sınırlı değildir.</span><span class="sxs-lookup"><span data-stu-id="947a1-122">In this example, type parameter `TFirst` is constrained to types that have parameterless constructors, and to reference types.</span></span>  
  
     [!code-cpp[EmitGenericType#6](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#6)]
     [!code-csharp[EmitGenericType#6](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#6)]
     [!code-vb[EmitGenericType#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#6)]  
  
6.  <span data-ttu-id="947a1-123">İsteğe bağlı olarak sınıfı ve arabirim kısıtlamaları tür parametreleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="947a1-123">Optionally add class and interface constraints to the type parameters.</span></span> <span data-ttu-id="947a1-124">Bu örnekte, tür parametresi `TFirst` tarafından temsil edilen temel sınıfından türetilen türler için kısıtlı <xref:System.Type> değişkende nesnelere `baseType`, ve değişkenleri olan türleri bulunur arabirimleri uygulama `interfaceA` ve `interfaceB`.</span><span class="sxs-lookup"><span data-stu-id="947a1-124">In this example, type parameter `TFirst` is constrained to types that derive from the base class represented by the <xref:System.Type> object contained in the variable `baseType`, and that implement the interfaces whose types are contained in the variables `interfaceA` and `interfaceB`.</span></span> <span data-ttu-id="947a1-125">Bu değişkenlerin ataması ve bildirimi kod örneğine bakın.</span><span class="sxs-lookup"><span data-stu-id="947a1-125">See the code example for the declaration and assignment of these variables.</span></span>  
  
     [!code-cpp[EmitGenericType#7](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#7)]
     [!code-csharp[EmitGenericType#7](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#7)]
     [!code-vb[EmitGenericType#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#7)]  
  
7.  <span data-ttu-id="947a1-126">Bir alan tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="947a1-126">Define a field.</span></span> <span data-ttu-id="947a1-127">Bu örnekte, alan türü tür parametresi tarafından belirtilen `TFirst`.</span><span class="sxs-lookup"><span data-stu-id="947a1-127">In this example, the type of the field is specified by type parameter `TFirst`.</span></span> <span data-ttu-id="947a1-128"><xref:System.Reflection.Emit.GenericTypeParameterBuilder>türetilen <xref:System.Type>, genel tür parametreleri bir türü kullanılabilir herhangi bir yerde kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="947a1-128"><xref:System.Reflection.Emit.GenericTypeParameterBuilder> derives from <xref:System.Type>, so you can use generic type parameters anywhere a type can be used.</span></span>  
  
     [!code-cpp[EmitGenericType#21](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#21)]
     [!code-csharp[EmitGenericType#21](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#21)]
     [!code-vb[EmitGenericType#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#21)]  
  
8.  <span data-ttu-id="947a1-129">Genel tür türü parametreleri kullanan bir yöntem tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="947a1-129">Define a method that uses the type parameters of the generic type.</span></span> <span data-ttu-id="947a1-130">Kendi türü parametre listeleri sahip oldukları sürece bu tür yöntemleri genel olmadığına dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="947a1-130">Note that such methods are not generic unless they have their own type parameter lists.</span></span> <span data-ttu-id="947a1-131">Aşağıdaki kodu tanımlayan bir `static` yöntemi (`Shared` Visual Basic'te) bir dizi alan `TFirst` ve döndürür bir `List<TFirst>` (`List(Of TFirst)` Visual Basic'te) dizinin tüm öğeleri içeren.</span><span class="sxs-lookup"><span data-stu-id="947a1-131">The following code defines a `static` method (`Shared` in Visual Basic) that takes an array of `TFirst` and returns a `List<TFirst>` (`List(Of TFirst)` in Visual Basic) containing all the elements of the array.</span></span> <span data-ttu-id="947a1-132">Bu yöntem tanımlamak için bu türü oluşturmak gerekli olan `List<TFirst>` çağırarak <xref:System.Type.MakeGenericType%2A> genel tür tanımında `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="947a1-132">To define this method, it is necessary to create the type `List<TFirst>` by calling <xref:System.Type.MakeGenericType%2A> on the generic type definition, `List<T>`.</span></span> <span data-ttu-id="947a1-133">( `T` Kullandığınızda atlanmış `typeof` işleci (`GetType` Visual Basic'te) genel tür tanımı alınamıyor.) Parametre türü kullanılarak oluşturulan <xref:System.Type.MakeArrayType%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="947a1-133">(The `T` is omitted when you use the `typeof` operator (`GetType` in Visual Basic) to get the generic type definition.) The parameter type is created by using the <xref:System.Type.MakeArrayType%2A> method.</span></span>  
  
     [!code-cpp[EmitGenericType#22](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#22)]
     [!code-csharp[EmitGenericType#22](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#22)]
     [!code-vb[EmitGenericType#22](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#22)]  
  
9. <span data-ttu-id="947a1-134">Yöntem gövdesi yayma.</span><span class="sxs-lookup"><span data-stu-id="947a1-134">Emit the method body.</span></span> <span data-ttu-id="947a1-135">Giriş dizisi yığına yük üç işlem kodları yöntem gövdesi oluşur, çağrı `List<TFirst>` alan oluşturucu `IEnumerable<TFirst>` (hangi yaptığı tüm iş girişi öğelerinin listeye yerleştirme) ve döndürme (yeni bırakarak <xref:System.Collections.Generic.List%601> nesnesi Yığında).</span><span class="sxs-lookup"><span data-stu-id="947a1-135">The method body consists of three opcodes that load the input array onto the stack, call the `List<TFirst>` constructor that takes `IEnumerable<TFirst>` (which does all the work of putting the input elements into the list), and return (leaving the new <xref:System.Collections.Generic.List%601> object on the stack).</span></span> <span data-ttu-id="947a1-136">Bu kod yayma zor bir kısmını Oluşturucusu almaktır.</span><span class="sxs-lookup"><span data-stu-id="947a1-136">The difficult part of emitting this code is getting the constructor.</span></span>  
  
     <span data-ttu-id="947a1-137"><xref:System.Type.GetConstructor%2A> Yöntemi desteklenmiyor bir <xref:System.Reflection.Emit.GenericTypeParameterBuilder>, oluşturucusunun almak mümkün değildir `List<TFirst>` doğrudan.</span><span class="sxs-lookup"><span data-stu-id="947a1-137">The <xref:System.Type.GetConstructor%2A> method is not supported on a <xref:System.Reflection.Emit.GenericTypeParameterBuilder>, so it is not possible to get the constructor of `List<TFirst>` directly.</span></span> <span data-ttu-id="947a1-138">İlk olarak, genel tür tanımında Oluşturucusu almak gerekli olan `List<T>` ve ardından karşılık gelen oluşturucusuna dönüştüren bir yöntemi çağırmak için `List<TFirst>`.</span><span class="sxs-lookup"><span data-stu-id="947a1-138">First, it is necessary to get the constructor of the generic type definition `List<T>` and then to call a method that converts it to the corresponding constructor of `List<TFirst>`.</span></span>  
  
     <span data-ttu-id="947a1-139">Bu kod örneği için kullanılan Oluşturucu geçen bir `IEnumerable<T>`.</span><span class="sxs-lookup"><span data-stu-id="947a1-139">The constructor used for this code example takes an `IEnumerable<T>`.</span></span> <span data-ttu-id="947a1-140">Ancak, bu genel tür tanımı olmadığını unutmayın <xref:System.Collections.Generic.IEnumerable%601> genel arabirim; bunun yerine, tür parametresi `T` gelen `List<T>` tür parametresi için yerine `T` , `IEnumerable<T>`.</span><span class="sxs-lookup"><span data-stu-id="947a1-140">Note, however, that this is not the generic type definition of the <xref:System.Collections.Generic.IEnumerable%601> generic interface; instead, the type parameter `T` from `List<T>` must be substituted for the type parameter `T` of `IEnumerable<T>`.</span></span> <span data-ttu-id="947a1-141">(Yalnızca her iki tür adlı türü parametrelerine sahip olduğundan, bu kafa karıştırıcı görünüyor `T`.</span><span class="sxs-lookup"><span data-stu-id="947a1-141">(This seems confusing only because both types have type parameters named `T`.</span></span> <span data-ttu-id="947a1-142">Bu kod örneği adları kullanır neden that is `TFirst` ve `TSecond`.) Oluşturucu bağımsız değişkeni tür almak için genel tür tanımıyla Başlat `IEnumerable<T>` ve arama <xref:System.Type.MakeGenericType%2A> ilk genel tür parametresi ile `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="947a1-142">That is why this code example uses the names `TFirst` and `TSecond`.) To get the type of the constructor argument, start with the generic type definition `IEnumerable<T>` and call <xref:System.Type.MakeGenericType%2A> with the first generic type parameter of `List<T>`.</span></span> <span data-ttu-id="947a1-143">Oluşturucu bağımsız değişken listesi tek bağımsız değişkenli bir dizi olarak bu durumda geçirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="947a1-143">The constructor argument list must be passed as an array, with just one argument in this case.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="947a1-144">Genel tür tanımı olarak ifade edilen `IEnumerable<>` kullandığınızda `typeof` C# ' ta, işleci veya `IEnumerable(Of )` kullandığınızda `GetType` Visual Basic'te işleci.</span><span class="sxs-lookup"><span data-stu-id="947a1-144">The generic type definition is expressed as `IEnumerable<>` when you use the `typeof` operator in C#, or `IEnumerable(Of )` when you use the `GetType` operator in Visual Basic.</span></span>  
  
     <span data-ttu-id="947a1-145">Oluşturucusunun almak mümkün şimdi `List<T>` çağırarak <xref:System.Type.GetConstructor%2A> genel tür tanımında.</span><span class="sxs-lookup"><span data-stu-id="947a1-145">Now it is possible to get the constructor of `List<T>` by calling <xref:System.Type.GetConstructor%2A> on the generic type definition.</span></span> <span data-ttu-id="947a1-146">Bu oluşturucu karşılık gelen oluşturucuya dönüştürmek için `List<TFirst>`, geçirmek `List<TFirst>` ve oluşturucudan `List<T>` statik <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="947a1-146">To convert this constructor to the corresponding constructor of `List<TFirst>`, pass `List<TFirst>` and the constructor from `List<T>` to the static <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29?displayProperty=nameWithType> method.</span></span>  
  
     [!code-cpp[EmitGenericType#23](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#23)]
     [!code-csharp[EmitGenericType#23](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#23)]
     [!code-vb[EmitGenericType#23](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#23)]  
  
10. <span data-ttu-id="947a1-147">Türü oluşturun ve dosyayı kaydedin.</span><span class="sxs-lookup"><span data-stu-id="947a1-147">Create the type and save the file.</span></span>  
  
     [!code-cpp[EmitGenericType#8](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#8)]
     [!code-csharp[EmitGenericType#8](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#8)]
     [!code-vb[EmitGenericType#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#8)]  
  
11. <span data-ttu-id="947a1-148">Invoke yöntemi.</span><span class="sxs-lookup"><span data-stu-id="947a1-148">Invoke the method.</span></span> <span data-ttu-id="947a1-149">`ExampleMethod`Genel, değil ancak ait olduğu için tür böylece alabilmek için genel bir <xref:System.Reflection.MethodInfo> , çağrılabilir yapılandırılmış bir tür için tür tanımı oluşturmak gerekli olan `Sample`.</span><span class="sxs-lookup"><span data-stu-id="947a1-149">`ExampleMethod` is not generic, but the type it belongs to is generic, so in order to get a <xref:System.Reflection.MethodInfo> that can be invoked it is necessary to create a constructed type from the type definition for `Sample`.</span></span> <span data-ttu-id="947a1-150">Yapılandırılmış bir tür kullanıyor `Example` üzerindeki kısıtlamaları karşılayan sınıfı `TFirst` bir başvuru türü olduğundan ve varsayılan parametresiz oluşturucusu olan ve `ExampleDerived` üzerindeki kısıtlamaları karşılayan sınıfı `TSecond`.</span><span class="sxs-lookup"><span data-stu-id="947a1-150">The constructed type uses the `Example` class, which satisfies the constraints on `TFirst` because it is a reference type and has a default parameterless constructor, and the `ExampleDerived` class which satisfies the constraints on `TSecond`.</span></span> <span data-ttu-id="947a1-151">(Kodunu `ExampleDerived` örnek kod bölümünde bulunabilir.) Bu iki tür geçirilecek <xref:System.Type.MakeGenericType%2A> oluşturulan türü oluşturun.</span><span class="sxs-lookup"><span data-stu-id="947a1-151">(The code for `ExampleDerived` can be found in the example code section.) These two types are passed to <xref:System.Type.MakeGenericType%2A> to create the constructed type.</span></span> <span data-ttu-id="947a1-152"><xref:System.Reflection.MethodInfo> Kullanılarak elde edilir <xref:System.Type.GetMethod%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="947a1-152">The <xref:System.Reflection.MethodInfo> is then obtained using the <xref:System.Type.GetMethod%2A> method.</span></span>  
  
     [!code-cpp[EmitGenericType#9](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#9)]
     [!code-csharp[EmitGenericType#9](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#9)]
     [!code-vb[EmitGenericType#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#9)]  
  
12. <span data-ttu-id="947a1-153">Aşağıdaki kod bir dizi oluşturur `Example` nesneleri, bu dizi türünde bir dizi yerleştirir <xref:System.Object> çağrılacak, yöntemin bağımsız değişkenleri temsil eden ve bunlara geçirir <xref:System.Reflection.MethodBase.Invoke%28System.Object%2CSystem.Object%5B%5D%29> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="947a1-153">The following code creates an array of `Example` objects, places that array in an array of type <xref:System.Object> representing the arguments of the method to be invoked, and passes them to the <xref:System.Reflection.MethodBase.Invoke%28System.Object%2CSystem.Object%5B%5D%29> method.</span></span> <span data-ttu-id="947a1-154">İlk bağımsız değişkeni <xref:System.Reflection.MethodBase.Invoke%2A> yöntemi bir null başvuru yöntemi açık olduğundan `static`.</span><span class="sxs-lookup"><span data-stu-id="947a1-154">The first argument of the <xref:System.Reflection.MethodBase.Invoke%2A> method is a null reference because the method is `static`.</span></span>  
  
     [!code-cpp[EmitGenericType#10](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#10)]
     [!code-csharp[EmitGenericType#10](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#10)]
     [!code-vb[EmitGenericType#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#10)]  
  
## <a name="example"></a><span data-ttu-id="947a1-155">Örnek</span><span class="sxs-lookup"><span data-stu-id="947a1-155">Example</span></span>  
 <span data-ttu-id="947a1-156">Aşağıdaki kod örneğinde adlı bir sınıf tanımlar `Sample`, bir taban sınıf ve iki arabirim yanı sıra.</span><span class="sxs-lookup"><span data-stu-id="947a1-156">The following code example defines a class named `Sample`, along with a base class and two interfaces.</span></span> <span data-ttu-id="947a1-157">Program için iki genel tür parametreleri tanımlar `Sample`, genel bir tür kapatma.</span><span class="sxs-lookup"><span data-stu-id="947a1-157">The program defines two generic type parameters for `Sample`, turning it into a generic type.</span></span> <span data-ttu-id="947a1-158">Türü, bir tür genel yapar tek şey parametreleridir.</span><span class="sxs-lookup"><span data-stu-id="947a1-158">Type parameters are the only thing that makes a type generic.</span></span> <span data-ttu-id="947a1-159">Program bu önce ve sonra tür parametreleri tanımını sınama iletisi görüntüleyerek gösterir.</span><span class="sxs-lookup"><span data-stu-id="947a1-159">The program shows this by displaying a test message before and after the definition of the type parameters.</span></span>  
  
 <span data-ttu-id="947a1-160">Tür parametresi `TSecond` temel sınıf ve arabirimler ve tür parametresi kullanılarak, sınıf ve arabirim kısıtlamaları göstermek için kullanılan `TFirst` özel kısıtlamalar göstermek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="947a1-160">The type parameter `TSecond` is used to demonstrate class and interface constraints, using the base class and interfaces, and the type parameter `TFirst` is used to demonstrate special constraints.</span></span>  
  
 <span data-ttu-id="947a1-161">Kod örneği, bir alan ve alan türü ve parametresi için sınıfının tür parametreleri kullanarak yöntemi tanımlar ve yöntem türü döndürür.</span><span class="sxs-lookup"><span data-stu-id="947a1-161">The code example defines a field and a method using the class's type parameters for the field type and for the parameter and return type of the method.</span></span>  
  
 <span data-ttu-id="947a1-162">Sonra `Sample` sınıfı oluşturulamadı, yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="947a1-162">After the `Sample` class has been created, the method is invoked.</span></span>  
  
 <span data-ttu-id="947a1-163">Program, genel bir tür hakkında bilgileri listeleyen bir yöntem ve bir tür parametresi özel kısıtlamalar listeleyen yöntemi içerir.</span><span class="sxs-lookup"><span data-stu-id="947a1-163">The program includes a method that lists information about a generic type, and a method that lists the special constraints on a type parameter.</span></span> <span data-ttu-id="947a1-164">Bu yöntemler tamamlanmış hakkındaki bilgileri görüntülemek için kullanılan `Sample` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="947a1-164">These methods are used to display information about the finished `Sample` class.</span></span>  
  
 <span data-ttu-id="947a1-165">Program tamamlanmış modülü diske kaydeder `GenericEmitExample1.dll`, kendisiyle açabilmesi için [Ildasm.exe (IL ayrıştırıcı)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) ve incelemek için MSIL `Sample` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="947a1-165">The program saves the finished module to disk as `GenericEmitExample1.dll`, so you can open it with the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) and examine the MSIL for the `Sample` class.</span></span>  
  
 [!code-cpp[EmitGenericType#1](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#1)]
 [!code-csharp[EmitGenericType#1](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#1)]
 [!code-vb[EmitGenericType#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#1)]  
  
## <a name="compiling-the-code"></a><span data-ttu-id="947a1-166">Kod Derleniyor</span><span class="sxs-lookup"><span data-stu-id="947a1-166">Compiling the Code</span></span>  
  
-   <span data-ttu-id="947a1-167">C# kodunu `using` deyimleri (`Imports` Visual Basic'te) derleme için gerekli.</span><span class="sxs-lookup"><span data-stu-id="947a1-167">The code contains the C# `using` statements (`Imports` in Visual Basic) necessary for compilation.</span></span>  
  
-   <span data-ttu-id="947a1-168">Hiçbir ek derleme başvurularını gereklidir.</span><span class="sxs-lookup"><span data-stu-id="947a1-168">No additional assembly references are required.</span></span>  
  
-   <span data-ttu-id="947a1-169">Csc.exe, vbc.exe veya cl.exe kullanarak komut satırında kodu derleyin.</span><span class="sxs-lookup"><span data-stu-id="947a1-169">Compile the code at the command line using csc.exe, vbc.exe, or cl.exe.</span></span> <span data-ttu-id="947a1-170">Visual Studio'da Kodu derlemek için bir konsol uygulama projesi şablonunda yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="947a1-170">To compile the code in Visual Studio, place it in a console application project template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="947a1-171">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="947a1-171">See Also</span></span>  
 <xref:System.Reflection.Emit.GenericTypeParameterBuilder>  
 [<span data-ttu-id="947a1-172">Yansıma kullanarak yayma</span><span class="sxs-lookup"><span data-stu-id="947a1-172">Using Reflection Emit</span></span>](http://msdn.microsoft.com/library/ccc6540d-0e2c-4d89-b456-eb7353f9e9ac)  
 [<span data-ttu-id="947a1-173">Yansıma yayma dinamik derleme senaryoları</span><span class="sxs-lookup"><span data-stu-id="947a1-173">Reflection Emit Dynamic Assembly Scenarios</span></span>](http://msdn.microsoft.com/library/e1cc6750-e20f-473b-bb4e-f43bc66aecce)
