---
title: "Sarmalayıcı Kodunun Güvenliğini Sağlama"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- security [.NET Framework], wrapper code
- wrapper code, securing
- secure coding, wrapper code
- code security, wrapper code
ms.assetid: 1df6c516-5bba-48bd-b450-1070e04b7389
caps.latest.revision: "11"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 5e29a2bdd0bfa338d0266c0841e11aa2ac366529
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/22/2017
---
# <a name="securing-wrapper-code"></a><span data-ttu-id="355d3-102">Sarmalayıcı Kodunun Güvenliğini Sağlama</span><span class="sxs-lookup"><span data-stu-id="355d3-102">Securing Wrapper Code</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="355d3-103">Sarmalayıcı kodu, özellikle sarmalayıcı, kullanan kodu daha yüksek güven olduğu güvenlik zayıf benzersiz birtakım açabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="355d3-103">Wrapper code, especially where the wrapper has higher trust than code that uses it, can open a unique set of security weaknesses.</span></span> <span data-ttu-id="355d3-104">Burada arayanın sınırlı izinlere uygun güvenlik denetiminde dahil edilmeyen, çağıran adına yapılan herhangi bir şey yararlanılabilir için olası bir zayıflık olur.</span><span class="sxs-lookup"><span data-stu-id="355d3-104">Anything done on behalf of a caller, where the caller's limited permissions are not included in the appropriate security check, is a potential weakness to be exploited.</span></span>  
  
 <span data-ttu-id="355d3-105">Hiçbir şey çağıran kendisini yapamadı sarmalayıcı aracılığıyla etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="355d3-105">Never enable something through the wrapper that the caller could not do itself.</span></span> <span data-ttu-id="355d3-106">Bir şey, bunu sınırlı güvenlik denetimi, bir tam yığın ilerlemesi talep aksine içerir, bu özel tehlike olur.</span><span class="sxs-lookup"><span data-stu-id="355d3-106">This is a special danger when doing something that involves a limited security check, as opposed to a full stack walk demand.</span></span> <span data-ttu-id="355d3-107">Tek düzeyli denetimleri söz konusu olduğunda, gerçek çağıran ve söz konusu API öğesi arasında sarmalayıcı kodu interposing, değil, böylece zayıflatmanın zaman güvenlik başarılı olması güvenlik denetimi kolayca neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-107">When single-level checks are involved, interposing the wrapper code between the real caller and the API element in question can easily cause the security check to succeed when it should not, thereby weakening security.</span></span>  
  
## <a name="delegates"></a><span data-ttu-id="355d3-108">Temsilciler</span><span class="sxs-lookup"><span data-stu-id="355d3-108">Delegates</span></span>  
 <span data-ttu-id="355d3-109">Temsilci güvenlik .NET Framework sürümleri arasında farklılık gösterir.</span><span class="sxs-lookup"><span data-stu-id="355d3-109">Delegate security differs between versions of the .NET Framework.</span></span>  <span data-ttu-id="355d3-110">Bu bölümde farklı temsilci davranışları açıklar ve güvenlik konuları ilişkili.</span><span class="sxs-lookup"><span data-stu-id="355d3-110">This section describes the different delegate behaviors and associated security considerations.</span></span>  
  
### <a name="in-version-10-and-11-of-the-net-framework"></a><span data-ttu-id="355d3-111">Sürüm 1.0 ve .NET Framework 1.1</span><span class="sxs-lookup"><span data-stu-id="355d3-111">In version 1.0 and 1.1 of the .NET Framework</span></span>  
 <span data-ttu-id="355d3-112">Sürüm 1.0 ve 1.1 .NET Framework'ün bir temsilci oluşturucusu ve temsilci çağıran karşı aşağıdaki güvenlik eylemleri gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="355d3-112">Version 1.0 and 1.1 of the .NET Framework perform the following security actions against a delegate creator and a delegate caller.</span></span>  
  
-   <span data-ttu-id="355d3-113">Bir temsilci oluşturulduğunda, güvenlik bağlantı talepleri temsilci hedef metot temsilci oluşturan verme kümesi karşı gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-113">When a delegate is created, security link demands on the delegate target method are performed against the grant set of the delegate creator.</span></span>  <span data-ttu-id="355d3-114">Güvenlik eylemi karşılamak için hata sonuçlanıyor bir <xref:System.Security.SecurityException>.</span><span class="sxs-lookup"><span data-stu-id="355d3-114">Failure to satisfy the security action results in a <xref:System.Security.SecurityException>.</span></span>  
  
-   <span data-ttu-id="355d3-115">Temsilci çağrıldığında, var olan tüm güvenlik taleplerini temsilci çağıran üzerinde gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-115">When the delegate is invoked, any existing security demands on the delegate caller are performed.</span></span>  
  
 <span data-ttu-id="355d3-116">Kodunuzun her alan bir <xref:System.Delegate> deniyor olabilir ve daha az güvenilen koddan, izinlerini ilerletmek daha az güvenilir kod etkinleştirme değil emin olun.</span><span class="sxs-lookup"><span data-stu-id="355d3-116">Whenever your code takes a <xref:System.Delegate> from less-trusted code that might call it, make sure that you are not enabling the less-trusted code to escalate its permissions.</span></span> <span data-ttu-id="355d3-117">Bir temsilci gerçekleştirin ve daha sonra kullanırsanız, temsilci oluşturulan kod çağrı yığınındaki değil ve kod ya da temsilci altında korumalı işlemi çalışırsa izinlerini test değil.</span><span class="sxs-lookup"><span data-stu-id="355d3-117">If you take a delegate and use it later, the code that created the delegate is not on the call stack and its permissions will not be tested if code in or under the delegate attempts a protected operation.</span></span> <span data-ttu-id="355d3-118">Kodunuz ve çağıran kodu oluşturan daha yüksek ayrıcalıkları varsa, Oluşturucusu çağrı yığını parçası olmadan arama yolu düzenleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="355d3-118">If your code and the caller code have higher privileges than the creator, the creator can orchestrate the call path without being part of the call stack.</span></span>  
  
### <a name="in-version-20-and-later-versions-of-the-net-framework"></a><span data-ttu-id="355d3-119">Sürüm 2.0 ve .NET Framework'ün sonraki sürümler</span><span class="sxs-lookup"><span data-stu-id="355d3-119">In version 2.0 and later versions of the .NET Framework</span></span>  
 <span data-ttu-id="355d3-120">Önceki sürümlerden farklı olarak sürüm 2.0 ve .NET Framework'ün sonraki sürümlerinde gerçekleştirir temsilci Oluşturucu karşı güvenlik eylemi temsilci oluşturduğunuzda ve çağrılır.</span><span class="sxs-lookup"><span data-stu-id="355d3-120">Unlike previous versions, version 2.0 and later versions of the .NET Framework performs security action against the delegate creator when the delegate is created and called.</span></span>  
  
-   <span data-ttu-id="355d3-121">Bir temsilci oluşturulduğunda, güvenlik bağlantı talepleri temsilci hedef metot temsilci oluşturan verme kümesi karşı gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-121">When a delegate is created, security link demands on the delegate target method are performed against the grant set of the delegate creator.</span></span>  <span data-ttu-id="355d3-122">Güvenlik eylemi karşılamak için hata sonuçlanıyor bir <xref:System.Security.SecurityException>.</span><span class="sxs-lookup"><span data-stu-id="355d3-122">Failure to satisfy the security action results in a <xref:System.Security.SecurityException>.</span></span>  
  
-   <span data-ttu-id="355d3-123">Temsilci oluşturucunun verme kümesi de temsilci oluşturma sırasında yakalanan ve temsilci ile depolanır.</span><span class="sxs-lookup"><span data-stu-id="355d3-123">The delegate creator's grant set is also captured during delegate creation and stored with the delegate.</span></span>  
  
-   <span data-ttu-id="355d3-124">Temsilci çağrıldığında, temsilci oluşturucu ve çağıran için farklı derlemeler aitse Temsilci oluşturucunun yakalanan verme kümesi geçerli bağlamda hiçbir taleplerini karşı önce değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-124">When the delegate is invoked, the delegate creator's captured grant set is first evaluated against any demands in the current context if the delegate creator and caller belong to different assemblies.</span></span>  <span data-ttu-id="355d3-125">Ardından, var olan tüm güvenlik taleplerini temsilci çağıran üzerinde gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-125">Next, any existing security demands on the delegate caller are performed.</span></span>  
  
## <a name="link-demands-and-wrappers"></a><span data-ttu-id="355d3-126">Bağlantı talepleri ve sarmalayıcıları</span><span class="sxs-lookup"><span data-stu-id="355d3-126">Link demands and wrappers</span></span>  
 <span data-ttu-id="355d3-127">Bağlantı talepleri özel koruma durumuyla güvenlik altyapısında güçlendirilmiş ancak hala kodunuzda olası zayıflık kaynağı değil.</span><span class="sxs-lookup"><span data-stu-id="355d3-127">A special protection case with link demands has been strengthened in the security infrastructure, but it is still a source of possible weakness in your code.</span></span>  
  
 <span data-ttu-id="355d3-128">Tam olarak güvenilen kod özelliği, olay veya tarafından korunan yöntemini çağırırsa bir [LinkDemand](../../../docs/framework/misc/link-demands.md), varsa çağrı başarılı **LinkDemand** çağıran için izni denetimi karşılandığında.</span><span class="sxs-lookup"><span data-stu-id="355d3-128">If fully trusted code calls a property, event, or method protected by a [LinkDemand](../../../docs/framework/misc/link-demands.md), the call succeeds if the **LinkDemand** permission check for the caller is satisfied.</span></span> <span data-ttu-id="355d3-129">Ayrıca, tam olarak güvenilen kod bir sınıfı gösterir, bir özelliğin adını ve çağrıları alan kendi **almak** erişimcisi için çağıran yansıma kullanarak **almak** erişimci başarılı kullanıcı kodu mu olsa bile Bu özelliğe erişmek için izniniz yok.</span><span class="sxs-lookup"><span data-stu-id="355d3-129">Additionally, if the fully trusted code exposes a class that takes the name of a property and calls its **get** accessor using reflection, that call to the **get** accessor succeeds even though the user code does not have the right to access this property.</span></span> <span data-ttu-id="355d3-130">Bunun nedeni, **LinkDemand** tam olarak güvenilen kod olan yalnızca anında arayanlar, denetler.</span><span class="sxs-lookup"><span data-stu-id="355d3-130">This is because the **LinkDemand** checks only the immediate caller, which is the fully trusted code.</span></span> <span data-ttu-id="355d3-131">Esas olarak, tam olarak güvenilen kod, kullanıcı kodu bu çağrı yapma hakkı sahip olduğundan emin yapmadan kullanıcı kodu adına ayrıcalıklı bir çağrı yapılmasıdır.</span><span class="sxs-lookup"><span data-stu-id="355d3-131">In essence, the fully trusted code is making a privileged call on behalf of user code without making sure that the user code has the right to make that call.</span></span>  
  
 <span data-ttu-id="355d3-132">Ortak dil çalışma zamanı gibi güvenlik açıklarını önlemeye yardımcı olmak için tam yığını taramasını isteğe bağlı olarak onay yöntemi, oluşturucusu, özelliği veya olayı tarafından korunan tüm dolaylı çağrısında genişleten bir **LinkDemand**.</span><span class="sxs-lookup"><span data-stu-id="355d3-132">To help prevent such security holes, the common language runtime extends the check into a full stack-walking demand on any indirect call to a method, constructor, property, or event protected by a **LinkDemand**.</span></span> <span data-ttu-id="355d3-133">Bu koruma, bazı performans maliyetler doğurur ve güvenlik denetimi semantiğini değiştirir; tam yığın ilerlemesi isteğe bağlı olduğu daha hızlı ve tek düzeyli onay geçtiğinde başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-133">This protection incurs some performance costs and changes the semantics of the security check; the full stack-walk demand might fail where the faster, one-level check would have passed.</span></span>  
  
## <a name="assembly-loading-wrappers"></a><span data-ttu-id="355d3-134">Derleme yükleme sarmalayıcıları</span><span class="sxs-lookup"><span data-stu-id="355d3-134">Assembly loading wrappers</span></span>  
 <span data-ttu-id="355d3-135">Yönetilen kod yüklemek için kullanılan çeşitli yöntemler de dahil olmak üzere <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>, çağıran kanıtı derlemeleri yükleme.</span><span class="sxs-lookup"><span data-stu-id="355d3-135">Several methods used to load managed code, including <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>, load assemblies with the evidence of the caller.</span></span> <span data-ttu-id="355d3-136">Bu yöntemlerin herhangi biriyle sarmalama, güvenlik sistemi, kodun izin verme, sarmalayıcı çağırana izinleri yerine derlemelerini yüklemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="355d3-136">If you wrap any of these methods, the security system could use your code's permission grant, instead of the permissions of the caller to your wrapper, to load the assemblies.</span></span> <span data-ttu-id="355d3-137">Daha az güvenilir kod, sarmalayıcı çağırana olandan daha yüksek izinleri verilir kod yüklemeye izin vermemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="355d3-137">You should not allow less-trusted code to load code that is granted higher permissions than those of the caller to your wrapper.</span></span>  
  
 <span data-ttu-id="355d3-138">Tam güven ya da (bir Internet izin düzeyini çağıran dahil) olası çağıran daha önemli ölçüde daha yüksek güven sahip herhangi bir kodu bu şekilde güvenlik zayıflatabilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-138">Any code that has full trust or significantly higher trust than a potential caller (including an Internet-permissions-level caller) could weaken security in this way.</span></span> <span data-ttu-id="355d3-139">Kodunuzu bir bayt dizisi alır ve buna ileten bir ortak yöntemi varsa **Assembly.Load**, böylece derlemenin arayanın adınıza oluşturma, bu güvenlik kesintiye uğrayabilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-139">If your code has a public method that takes a byte array and passes it to **Assembly.Load**, thereby creating an assembly on the caller's behalf, it might break security.</span></span>  
  
 <span data-ttu-id="355d3-140">Bu sorun aşağıdaki API öğeleri için geçerlidir:</span><span class="sxs-lookup"><span data-stu-id="355d3-140">This issue applies to the following API elements:</span></span>  
  
-   <xref:System.AppDomain.DefineDynamicAssembly%2A?displayProperty=nameWithType>  
  
-   <xref:System.AppDomain.Load%2A?displayProperty=nameWithType>  
  
-   <xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType>  
  
-   <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>  
  
## <a name="demand-vs-linkdemand"></a><span data-ttu-id="355d3-141">İsteğe bağlı vs. LinkDemand</span><span class="sxs-lookup"><span data-stu-id="355d3-141">Demand vs. LinkDemand</span></span>  
 <span data-ttu-id="355d3-142">Bildirim temelli güvenlik benzer, ancak çok farklı denetimlerini gerçekleştiren güvenlik denetimleri iki tür sunar.</span><span class="sxs-lookup"><span data-stu-id="355d3-142">Declarative security offers two kinds of security checks that are similar but perform very different checks.</span></span> <span data-ttu-id="355d3-143">Yanlış bir seçim zayıf güvenlik veya performans kaybına neden olabilir çünkü her iki forms anlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="355d3-143">You should understand both forms because the wrong choice can result in weak security or performance loss.</span></span>  
  
 <span data-ttu-id="355d3-144">Bildirimsel güvenliği aşağıdaki güvenlik denetimlerini sunar:</span><span class="sxs-lookup"><span data-stu-id="355d3-144">Declarative security offers the following security checks:</span></span>  
  
-   <span data-ttu-id="355d3-145"><xref:System.Security.Permissions.SecurityAction.Demand>kod erişim güvenliği yığın ilerlemesi belirtir.</span><span class="sxs-lookup"><span data-stu-id="355d3-145"><xref:System.Security.Permissions.SecurityAction.Demand> specifies the code access security stack walk.</span></span> <span data-ttu-id="355d3-146">Yığında tüm arayanlar belirtilen izni veya kimlik geçirmek için olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="355d3-146">All callers on the stack must have the specified permission or identity to pass.</span></span> <span data-ttu-id="355d3-147">**İsteğe bağlı** yığın farklı arayanlar içerebileceğinden her çağrıda oluşur.</span><span class="sxs-lookup"><span data-stu-id="355d3-147">**Demand** occurs on every call because the stack might contain different callers.</span></span> <span data-ttu-id="355d3-148">Sürekli bir yöntemini çağırırsanız, bu güvenlik denetimi her zaman oluşur.</span><span class="sxs-lookup"><span data-stu-id="355d3-148">If you call a method repeatedly, this security check occurs each time.</span></span> <span data-ttu-id="355d3-149">**İsteğe bağlı** saldırıları; luring karşı iyi korumadır üzerinden alınmaya çalışılırken yetkisiz kod algılandı.</span><span class="sxs-lookup"><span data-stu-id="355d3-149">**Demand** is good protection against luring attacks; unauthorized code trying to get through it will be detected.</span></span>  
  
-   <span data-ttu-id="355d3-150">[LinkDemand](../../../docs/framework/misc/link-demands.md) tam zamanında (JIT) derleme zamanında olur ve yalnızca ilk çağıran denetler.</span><span class="sxs-lookup"><span data-stu-id="355d3-150">[LinkDemand](../../../docs/framework/misc/link-demands.md) happens at just-in-time (JIT) compilation time and checks only the immediate caller.</span></span> <span data-ttu-id="355d3-151">Bu güvenlik denetimini arayanın çağıran denetlemez.</span><span class="sxs-lookup"><span data-stu-id="355d3-151">This security check does not check the caller's caller.</span></span> <span data-ttu-id="355d3-152">Bu onay geçirmeden sonra ek güvenlik yükü çağıran çağırabilirsiniz kaç kez olsun yoktur.</span><span class="sxs-lookup"><span data-stu-id="355d3-152">Once this check passes, there is no additional security overhead no matter how many times the caller might call.</span></span> <span data-ttu-id="355d3-153">Ancak, aynı zamanda saldırıları luring gelen koruması yoktur.</span><span class="sxs-lookup"><span data-stu-id="355d3-153">However, there is also no protection from luring attacks.</span></span> <span data-ttu-id="355d3-154">İle **LinkDemand**, test geçirir ve kodunuzu başvurabilir herhangi bir kod olası güvenlik yetkili kod kullanarak çağırmak kötü amaçlı kod vererek bölünebilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-154">With **LinkDemand**, any code that passes the test and can reference your code can potentially break security by allowing malicious code to call using the authorized code.</span></span> <span data-ttu-id="355d3-155">Bu nedenle, kullanmayın **LinkDemand** sürece tüm olası zayıf baştan sona önlenebilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-155">Therefore, do not use **LinkDemand** unless all the possible weaknesses can be thoroughly avoided.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="355d3-156">İçinde [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], bağlantı talepleri değiştirilir tarafından <xref:System.Security.SecurityCriticalAttribute> özniteliğini <xref:System.Security.SecurityRuleSet.Level2> derlemeler.</span><span class="sxs-lookup"><span data-stu-id="355d3-156">In the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], link demands have been replaced by the <xref:System.Security.SecurityCriticalAttribute> attribute in <xref:System.Security.SecurityRuleSet.Level2> assemblies.</span></span> <span data-ttu-id="355d3-157"><xref:System.Security.SecurityCriticalAttribute> Tam güven için; bir bağlantı isteği eşdeğerdir ancak devralma kuralları de etkiler.</span><span class="sxs-lookup"><span data-stu-id="355d3-157">The <xref:System.Security.SecurityCriticalAttribute> is equivalent to a link demand for full trust; however, it also affects inheritance rules.</span></span> <span data-ttu-id="355d3-158">Bu değişiklik hakkında daha fazla bilgi için bkz: [güvenliği saydam kod, Düzey 2](../../../docs/framework/misc/security-transparent-code-level-2.md).</span><span class="sxs-lookup"><span data-stu-id="355d3-158">For more information about this change, see [Security-Transparent Code, Level 2](../../../docs/framework/misc/security-transparent-code-level-2.md).</span></span>  
  
 <span data-ttu-id="355d3-159">Kullanırken gerekli ek güvenlik önlemleri **LinkDemand** ayrı ayrı programlanmış gerekir; zorlamasıyla Yardım güvenlik sistemi olabilir.</span><span class="sxs-lookup"><span data-stu-id="355d3-159">The extra precautions required when using **LinkDemand** must be programmed individually; the security system can help with enforcement.</span></span> <span data-ttu-id="355d3-160">Tüm hata güvenlik zayıflık açar.</span><span class="sxs-lookup"><span data-stu-id="355d3-160">Any mistake opens a security weakness.</span></span> <span data-ttu-id="355d3-161">Tüm yetkili kod kullandığından kodunuzu aşağıdakileri yaparak ek güvenlik uygulamak için sorumlu olması gerekir:</span><span class="sxs-lookup"><span data-stu-id="355d3-161">All authorized code that uses your code must be responsible for implementing additional security by doing the following:</span></span>  
  
-   <span data-ttu-id="355d3-162">Sınıf veya derleme arama kodun erişimi kısıtlama.</span><span class="sxs-lookup"><span data-stu-id="355d3-162">Restricting the calling code's access to the class or assembly.</span></span>  
  
-   <span data-ttu-id="355d3-163">Aynı güvenlik yerleştirme çağrılan kod görünür çağıran kodu ve bunu yapmak için kendi arayanlar obligating denetler.</span><span class="sxs-lookup"><span data-stu-id="355d3-163">Placing the same security checks on the calling code that appear on the code being called and obligating its callers to do so.</span></span> <span data-ttu-id="355d3-164">Bir yöntemi çağırır kod yazma, örneğin, ile korunduğunu bir **LinkDemand** için <xref:System.Security.Permissions.SecurityPermission> ile <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> bayrağı belirtilmiş, yönteminizi de olmalısınız bir **LinkDemand** (veya **İsteğe bağlı**, daha güçlü olan) bu izni.</span><span class="sxs-lookup"><span data-stu-id="355d3-164">For example, if you write code that calls a method that is protected with a **LinkDemand** for the <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> flag specified, your method should also make a **LinkDemand** (or **Demand**, which is stronger) for this permission.</span></span> <span data-ttu-id="355d3-165">Kodunuzu kullanıp kullanmadığını istisnadır **LinkDemand**-korumalı karar sınırlı bir şekilde yöntemdir güvenli, kodunuzda (örneğin, taleplerin) başka bir güvenlik koruma mekanizması verilen.</span><span class="sxs-lookup"><span data-stu-id="355d3-165">The exception is if your code uses the **LinkDemand**-protected method in a limited way that you decide is safe, given other security protection mechanisms (such as demands) in your code.</span></span> <span data-ttu-id="355d3-166">Bu olağanüstü durumda arayan güvenlik Koruması arka plandaki kod zayıflatmanın içinde sorumluluk alır.</span><span class="sxs-lookup"><span data-stu-id="355d3-166">In this exceptional case, the caller takes responsibility in weakening the security protection on the underlying code.</span></span>  
  
-   <span data-ttu-id="355d3-167">Korumalı kod onların adına çağırma içine kodunuzu kodunuzu 's arayanlar kandırarak olduğunu olamaz sağlama.</span><span class="sxs-lookup"><span data-stu-id="355d3-167">Ensuring that your code's callers cannot trick your code into calling the protected code on their behalf.</span></span> <span data-ttu-id="355d3-168">Diğer bir deyişle, arayanlar belirli parametreleri korumalı kod geçirmek için veya sonuçlar buradan geri almak için yetkili kodu zorlayamaz.</span><span class="sxs-lookup"><span data-stu-id="355d3-168">In other words, callers cannot force the authorized code to pass specific parameters to the protected code, or to get results back from it.</span></span>  
  
### <a name="interfaces-and-link-demands"></a><span data-ttu-id="355d3-169">Arabirimleri ve bağlantı talepleri</span><span class="sxs-lookup"><span data-stu-id="355d3-169">Interfaces and Link Demands</span></span>  
 <span data-ttu-id="355d3-170">Sanal yöntemi, özelliği veya olay ile **LinkDemand** bir temel sınıf yöntemini geçersiz kılar temel sınıf yöntemi de aynı olmalıdır **LinkDemand** etkili olması için geçersiz kılınan yöntemi.</span><span class="sxs-lookup"><span data-stu-id="355d3-170">If a virtual method, property, or event with **LinkDemand** overrides a base class method, the base class method must also have the same **LinkDemand** for the overridden method in order to be effective.</span></span> <span data-ttu-id="355d3-171">Kötü amaçlı kod geri temel türe ve temel sınıf yöntemi çağırmak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="355d3-171">It is possible for malicious code to cast back to the base type and call the base class method.</span></span> <span data-ttu-id="355d3-172">Ayrıca taleplerini bağlantı Not örtük olarak olmayan derlemeler eklenebilir <xref:System.Security.AllowPartiallyTrustedCallersAttribute> derleme düzeyinde bir öznitelik.</span><span class="sxs-lookup"><span data-stu-id="355d3-172">Also note that link demands can be added implicitly to assemblies that do not have the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> assembly-level attribute.</span></span>  
  
 <span data-ttu-id="355d3-173">Arabirim yöntemleri ayrıca bağlantı talepleri olduğunda yöntemi uygulamaları bağlantı talepleri ile korumak için iyi bir uygulamadır.</span><span class="sxs-lookup"><span data-stu-id="355d3-173">It is a good practice to protect method implementations with link demands when interface methods also have link demands.</span></span> <span data-ttu-id="355d3-174">Bağlantı talepleri olan arabirimler kullanma hakkında aşağıdakileri unutmayın:</span><span class="sxs-lookup"><span data-stu-id="355d3-174">Note the following about using link demands with interfaces:</span></span>  
  
-   <span data-ttu-id="355d3-175">Yerleştirdiğiniz varsa bir **LinkDemand** genel yöntemini bir arabirim yöntemini kullanan bir sınıfın **LinkDemand** sonra cast arabirimine ve yöntemi çağırma uygulanmaz.</span><span class="sxs-lookup"><span data-stu-id="355d3-175">If you place a **LinkDemand** on a public method of a class that implements an interface method, the **LinkDemand** will not be enforced if you then cast to the interface and call the method.</span></span> <span data-ttu-id="355d3-176">Bu durumda, arabirim karşı yalnızca bağlantılı olduğundan **LinkDemand** üzerinde ayardaki arabirimidir.</span><span class="sxs-lookup"><span data-stu-id="355d3-176">In this case, because you linked against the interface, only the **LinkDemand** on the interface is honored.</span></span>  
  
 <span data-ttu-id="355d3-177">Güvenlik sorunları için aşağıdaki öğeleri inceleyin:</span><span class="sxs-lookup"><span data-stu-id="355d3-177">Review the following items for security issues:</span></span>  
  
-   <span data-ttu-id="355d3-178">Açık bağlantı talepleri arabirim yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="355d3-178">Explicit link demands on interface methods.</span></span> <span data-ttu-id="355d3-179">Bu bağlantı talepleri beklenen koruması sunar emin olun.</span><span class="sxs-lookup"><span data-stu-id="355d3-179">Make sure these link demands offer the expected protection.</span></span> <span data-ttu-id="355d3-180">Kötü amaçlı kod daha önce açıklandığı şekilde bağlantı talepleri almak için bir cast kullanıp kullanmadığını belirleyin.</span><span class="sxs-lookup"><span data-stu-id="355d3-180">Determine whether malicious code can use a cast to get around the link demands as described previously.</span></span>  
  
-   <span data-ttu-id="355d3-181">Bağlantı talepleri uygulanmış olan sanal yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="355d3-181">Virtual methods with link demands applied.</span></span>  
  
-   <span data-ttu-id="355d3-182">Türleri ve uyguladıkları arabirimler.</span><span class="sxs-lookup"><span data-stu-id="355d3-182">Types and the interfaces they implement.</span></span> <span data-ttu-id="355d3-183">Bu bağlantı talepleri tutarlı bir şekilde kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="355d3-183">These should use link demands consistently.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="355d3-184">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="355d3-184">See Also</span></span>  
 [<span data-ttu-id="355d3-185">Güvenli Kodlama Yönergeleri</span><span class="sxs-lookup"><span data-stu-id="355d3-185">Secure Coding Guidelines</span></span>](../../../docs/standard/security/secure-coding-guidelines.md)
