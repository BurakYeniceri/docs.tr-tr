---
title: ADO.NET veri izleme
ms.date: 03/30/2017
ms.assetid: a6a752a5-d2a9-4335-a382-b58690ccb79f
ms.openlocfilehash: 6dd385cd58d1c8400c45139492d84e6ca4fe1bd7
ms.sourcegitcommit: 11f11ca6cefe555972b3a5c99729d1a7523d8f50
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/03/2018
---
# <a name="data-tracing-in-adonet"></a><span data-ttu-id="24e85-102">ADO.NET veri izleme</span><span class="sxs-lookup"><span data-stu-id="24e85-102">Data Tracing in ADO.NET</span></span>
<span data-ttu-id="24e85-103">ADO.NET özellikleri SQL Server, Oracle, OLE DB ve ODBC yanı için ADO.NET .NET veri sağlayıcıları tarafından desteklenen yerleşik veri izleme işlevselliği <xref:System.Data.DataSet>ve SQL Server ağ protokolleri.</span><span class="sxs-lookup"><span data-stu-id="24e85-103">ADO.NET features built-in data tracing functionality that is supported by the .NET data providers for SQL Server, Oracle, OLE DB and ODBC, as well as the ADO.NET <xref:System.Data.DataSet>, and the SQL Server network protocols.</span></span>  
  
 <span data-ttu-id="24e85-104">Veri izleme erişim API çağrıları aşağıdaki sorunları tanılamanıza yardımcı olabilir:</span><span class="sxs-lookup"><span data-stu-id="24e85-104">Tracing data access API calls can help diagnose the following problems:</span></span>  
  
-   <span data-ttu-id="24e85-105">İstemci programını ve veritabanı arasındaki şeması uyuşmazlığı.</span><span class="sxs-lookup"><span data-stu-id="24e85-105">Schema mismatch between client program and the database.</span></span>  
  
-   <span data-ttu-id="24e85-106">Veritabanı olmadığından ya da ağ kitaplığı sorunları.</span><span class="sxs-lookup"><span data-stu-id="24e85-106">Database unavailability or network library problems.</span></span>  
  
-   <span data-ttu-id="24e85-107">Yanlış SQL sabit kodlanmış ya da bir uygulama tarafından üretilen.</span><span class="sxs-lookup"><span data-stu-id="24e85-107">Incorrect SQL whether hard coded or generated by an application.</span></span>  
  
-   <span data-ttu-id="24e85-108">Yanlış programlama mantığı.</span><span class="sxs-lookup"><span data-stu-id="24e85-108">Incorrect programming logic.</span></span>  
  
-   <span data-ttu-id="24e85-109">ADO.NET ve kendi bileşenleri arasındaki etkileşim veya birden çok ADO.NET bileşenleri arasında kaynaklanan sorunlar.</span><span class="sxs-lookup"><span data-stu-id="24e85-109">Issues resulting from the interaction between multiple ADO.NET components or between ADO.NET and your own components.</span></span>  
  
 <span data-ttu-id="24e85-110">Bir geliştirici uygulama yığınının herhangi bir düzeyde bir sorun izleyebilirsiniz farklı izleme teknolojilerini desteklemek için izleme genişletilebilir, olduğundan.</span><span class="sxs-lookup"><span data-stu-id="24e85-110">To support different trace technologies, tracing is extensible, so a developer can trace a problem at any level of the application stack.</span></span> <span data-ttu-id="24e85-111">İzleme yalnızca ADO.NET özelliği olmasa da, Microsoft sağlayıcıları genelleştirilmiş izleme ve araçları API'leri yararlanın.</span><span class="sxs-lookup"><span data-stu-id="24e85-111">Although tracing is not an ADO.NET-only feature, Microsoft providers take advantage of generalized tracing and instrumentation APIs.</span></span>  
  
 <span data-ttu-id="24e85-112">Ayarlama ve ADO.NET yönetilen izlemeyi yapılandırma hakkında daha fazla bilgi için bkz: [izleme veri erişimi](http://msdn.microsoft.com/library/hh880086.aspx).</span><span class="sxs-lookup"><span data-stu-id="24e85-112">For more information about setting and configuring managed tracing in ADO.NET, see [Tracing Data Access](http://msdn.microsoft.com/library/hh880086.aspx).</span></span>  
  
## <a name="accessing-diagnostic-information-in-the-extended-events-log"></a><span data-ttu-id="24e85-113">Genişletilmiş olay günlüğünde tanılama bilgilerine erişme</span><span class="sxs-lookup"><span data-stu-id="24e85-113">Accessing Diagnostic Information in the Extended Events Log</span></span>  
 <span data-ttu-id="24e85-114">İçinde [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] için SQL Server veri sağlayıcısı, veri erişim izleme ([veri erişim izleme](http://msdn.microsoft.com/library/hh880086.aspx)) daha kolay gelen bağlantı hataları gibi tanılama bilgileriyle istemci olayları ilişkilendirmenize olanak kolaylaştırmak için güncelleştirildi sunucunun bağlantı halka arabelleği ve uygulama performans genişletilmiş olaylar günlüğünde bilgi.</span><span class="sxs-lookup"><span data-stu-id="24e85-114">In the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] Data Provider for SQL Server, data access tracing ([Data Access Tracing](http://msdn.microsoft.com/library/hh880086.aspx)) has been updated to make it easier to easier to correlate client events with diagnostic information, such as connection failures, from the server's connectivity ring buffer and application performance information in the extended events log.</span></span> <span data-ttu-id="24e85-115">Genişletilmiş olay günlüğünü okuma hakkında daha fazla bilgi için bkz: [görünüm olay oturum verilerini](http://msdn.microsoft.com/library/hh710068\(SQL.110\).aspx).</span><span class="sxs-lookup"><span data-stu-id="24e85-115">For information about reading the extended events log, see [View Event Session Data](http://msdn.microsoft.com/library/hh710068\(SQL.110\).aspx).</span></span>  
  
 <span data-ttu-id="24e85-116">Bağlantı işlemleri için bir istemci ADO.NET göndereceğiniz bağlantı kimliği.</span><span class="sxs-lookup"><span data-stu-id="24e85-116">For connection operations, ADO.NET will send a client connection ID.</span></span> <span data-ttu-id="24e85-117">Bağlantı başarısız olursa, bağlantı halka arabelleği erişebilirsiniz ([bağlantı halka arabelleği ile SQL Server 2008'de bağlantı sorunlarını giderme](http://go.microsoft.com/fwlink/?LinkId=207752)) ve Bul `ClientConnectionID` alan ve tanı bilgilerini almak bağlantı hatası.</span><span class="sxs-lookup"><span data-stu-id="24e85-117">If the connection fails, you can access the connectivity ring buffer ([Connectivity troubleshooting in SQL Server 2008 with the Connectivity Ring Buffer](http://go.microsoft.com/fwlink/?LinkId=207752)) and find the `ClientConnectionID` field and get diagnostic information about the connection failure.</span></span> <span data-ttu-id="24e85-118">Yalnızca bir hata oluşursa, istemci bağlantı kimlikleri halka arabelleği günlüğe kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="24e85-118">Client connection IDs are logged in the ring buffer only if an error occurs.</span></span> <span data-ttu-id="24e85-119">(Oturum açma öncesi paket göndermeden önce bir bağlantı başarısız olursa, istemci bağlantı kimliği üretilmez.) İstemci bağlantı kimliği 16 bayt GUID değeridir.</span><span class="sxs-lookup"><span data-stu-id="24e85-119">(If a connection fails before sending the prelogin packet, a client connection ID will not be generated.) The client connection ID is a 16-byte GUID.</span></span> <span data-ttu-id="24e85-120">İstemci bağlantısı da bulabilirsiniz genişletilmiş olaylar hedef çıkış kimliği `client_connection_id` eylemi bir genişletilmiş olaylar oturumu olayları eklenir.</span><span class="sxs-lookup"><span data-stu-id="24e85-120">You can also find the client connection ID in the extended events target output, if the `client_connection_id` action is added to events in an extended events session.</span></span> <span data-ttu-id="24e85-121">Veri erişim izlemeyi etkinleştirebilir ve bağlantı komutu yeniden çalıştırın ve gözlemlemek `ClientConnectionID` daha fazla istemci sürücüsü tanılama yardıma gereksinim duyarsanız veri erişim izleme alan.</span><span class="sxs-lookup"><span data-stu-id="24e85-121">You can enable data access tracing and rerun the connection command and observe the `ClientConnectionID` field in the data access trace, if you need further client driver diagnostic assistance.</span></span>  
  
 <span data-ttu-id="24e85-122">İstemci alabilir kullanarak program aracılığıyla bağlantı kimliği `SqlConnection.ClientConnectionID` özelliği.</span><span class="sxs-lookup"><span data-stu-id="24e85-122">You can get the client connection ID programmatically by using the `SqlConnection.ClientConnectionID` property.</span></span>  
  
 <span data-ttu-id="24e85-123">`ClientConnectionID` İçin kullanılabilir bir <xref:System.Data.SqlClient.SqlConnection> başarıyla bir bağlantı kurar nesnesi.</span><span class="sxs-lookup"><span data-stu-id="24e85-123">The `ClientConnectionID` is available for a <xref:System.Data.SqlClient.SqlConnection> object that successfully establishes  a connection.</span></span> <span data-ttu-id="24e85-124">Bir bağlantı girişimi başarısız olursa, `ClientConnectionID` aracılığıyla kullanılabilir olan `SqlException.ToString`.</span><span class="sxs-lookup"><span data-stu-id="24e85-124">If a connection attempt fails, `ClientConnectionID` may be available via `SqlException.ToString`.</span></span>  
  
 <span data-ttu-id="24e85-125">ADO.NET ayrıca iş parçacığına özgü etkinlik kimliğini gönderir</span><span class="sxs-lookup"><span data-stu-id="24e85-125">ADO.NET also sends a thread-specific activity ID.</span></span> <span data-ttu-id="24e85-126">TRACK_CAUSAILITY seçeneği etkin oturumları başlattıysanız, etkinlik kimliği genişletilmiş olaylar oturumlarında yakalanır.</span><span class="sxs-lookup"><span data-stu-id="24e85-126">The activity ID is captured in the extended events sessions if the sessions are started with the TRACK_CAUSAILITY option enabled.</span></span> <span data-ttu-id="24e85-127">Performans sorunları için etkin bir bağlantı, istemcinin veri erişim izlemesinden etkinlik kimliği alabilirsiniz (`ActivityID` alan) ve etkinlik kimliği genişletilmiş olaylar çıktısında bulun.</span><span class="sxs-lookup"><span data-stu-id="24e85-127">For performance issues with an active connection, you can get the activity ID from the client's data access trace (`ActivityID` field) and then locate the activity ID in the extended events output.</span></span> <span data-ttu-id="24e85-128">Genişletilmiş olaylar, etkinlik kimliği bir dört bayt sıralı numara ekli 16 bayt (aynı istemci bağlantı kimliği için GUID) GUID'dir.</span><span class="sxs-lookup"><span data-stu-id="24e85-128">The activity ID in extended events is a 16-byte GUID (not the same as the GUID for the client connection ID) appended with a four-byte sequence number.</span></span> <span data-ttu-id="24e85-129">Sıra numarası, bir isteğin bir iş parçacığından sırayı temsil eder ve toplu ve RPC ifadeleri iş parçacığının göreli sıralamasını gösterir.</span><span class="sxs-lookup"><span data-stu-id="24e85-129">The sequence number represents the order of a request within a thread and indicates the relative ordering of batch and RPC statements for the thread.</span></span> <span data-ttu-id="24e85-130">`ActivityID` SQL toplu deyimleri ve RPC istekleri için veri erişim izleme, üzerinde etkindir ve yapılandırma word izleme veri erişim 18 bit açık olduğunda şu anda isteğe bağlı olarak gönderilir.</span><span class="sxs-lookup"><span data-stu-id="24e85-130">The `ActivityID` is currently optionally sent for SQL batch statements and RPC requests when data access tracing is enabled on and the 18th bit in the data access tracing configuration word is turned ON.</span></span>  
  
 <span data-ttu-id="24e85-131">Kullanan bir örnek verilmiştir [!INCLUDE[tsql](../../../../includes/tsql-md.md)] bir halka arabelleği saklanan ve etkinlik kimliği kaydedilecek bir genişletilmiş olaylar oturumu başlatmak için gönderilen RPC ve toplu işlemler üzerinde bir istemciden.</span><span class="sxs-lookup"><span data-stu-id="24e85-131">The following is a sample that uses [!INCLUDE[tsql](../../../../includes/tsql-md.md)] to start an extended events session that will be stored in a ring buffer and will record the activity ID sent from a client on RPC and batch operations.</span></span>  
  
```  
create event session MySession on server   
add event connectivity_ring_buffer_recorded,   
add event sql_statement_starting (action (client_connection_id)),   
add event sql_statement_completed (action (client_connection_id)),   
add event rpc_starting (action (client_connection_id)),   
add event rpc_completed (action (client_connection_id))  
add target ring_buffer with (track_causality=on)  
```  
  
## <a name="see-also"></a><span data-ttu-id="24e85-132">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="24e85-132">See Also</span></span>  
 [<span data-ttu-id="24e85-133">.NET Framework'te Ağ İzleme</span><span class="sxs-lookup"><span data-stu-id="24e85-133">Network Tracing in the .NET Framework</span></span>](../../../../docs/framework/network-programming/network-tracing.md)  
 [<span data-ttu-id="24e85-134">İzleme ve İşaretleme Uygulamaları</span><span class="sxs-lookup"><span data-stu-id="24e85-134">Tracing and Instrumenting Applications</span></span>](../../../../docs/framework/debug-trace-profile/tracing-and-instrumenting-applications.md)  
 [<span data-ttu-id="24e85-135">ADO.NET yönetilen sağlayıcıları ve veri kümesi Geliştirici Merkezi</span><span class="sxs-lookup"><span data-stu-id="24e85-135">ADO.NET Managed Providers and DataSet Developer Center</span></span>](http://go.microsoft.com/fwlink/?LinkId=217917)
