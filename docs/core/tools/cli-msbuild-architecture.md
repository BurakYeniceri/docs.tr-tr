---
title: .NET core komut satırı araçları mimarisi
description: Katman ve son sürümlerde nelerin değiştiğini tooling .NET Core hakkında bilgi edinin.
author: blackdwarf
ms.date: 03/06/2017
ms.topic: conceptual
ms.prod: dotnet-core
ms.technology: dotnet-cli
ms.devlang: dotnet
ms.workload:
- dotnetcore
ms.openlocfilehash: 909e3ba088a3eabededf008fa07a51ac7d677fa2
ms.sourcegitcommit: 03ee570f6f528a7d23a4221dcb26a9498edbdf8c
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/28/2018
---
# <a name="high-level-overview-of-changes-in-the-net-core-tools"></a><span data-ttu-id="b489e-103">.NET Core araçları değişiklikleri üst düzey genel bakış</span><span class="sxs-lookup"><span data-stu-id="b489e-103">High-level overview of changes in the .NET Core tools</span></span>

<span data-ttu-id="b489e-104">Bu belgede taşıma ile ilişkili değişiklikler açıklanmaktadır *project.json* MSBuild ve *csproj* proje .NET Core araç katmanlarını değişiklikler hakkında bilgi içeren sistem ve CLI komutları uygulamasıdır.</span><span class="sxs-lookup"><span data-stu-id="b489e-104">This document describes the changes associated with moving from *project.json* to MSBuild and the *csproj* project system with information on the changes to the layering of the .NET Core tooling and the implementation of the CLI commands.</span></span> <span data-ttu-id="b489e-105">Bu değişiklikler 7 Mart 2017 üzerinde .NET Core SDK 1.0 ve Visual Studio 2017 sürümünden (bkz [duyuru](https://blogs.msdn.microsoft.com/dotnet/2017/03/07/announcing-net-core-tools-1-0/)) .NET Core SDK Preview 3 sürümü başlangıçta uygulanan ancak.</span><span class="sxs-lookup"><span data-stu-id="b489e-105">These changes occurred with the release of .NET Core SDK 1.0 and Visual Studio 2017 on March 7, 2017 (see the [announcement](https://blogs.msdn.microsoft.com/dotnet/2017/03/07/announcing-net-core-tools-1-0/)) but were initially implemented with the release of the .NET Core SDK Preview 3.</span></span>

## <a name="moving-away-from-projectjson"></a><span data-ttu-id="b489e-106">Project.JSON çıktığınızda taşıma</span><span class="sxs-lookup"><span data-stu-id="b489e-106">Moving away from project.json</span></span>
<span data-ttu-id="b489e-107">.NET Core araç en büyük değişiklik kesinlikle olan [project.json çıktığınızda csproj için taşıma](https://blogs.msdn.microsoft.com/dotnet/2016/05/23/changes-to-project-json/) proje sistemi olarak.</span><span class="sxs-lookup"><span data-stu-id="b489e-107">The biggest change in the tooling for .NET Core is certainly the [move away from project.json to csproj](https://blogs.msdn.microsoft.com/dotnet/2016/05/23/changes-to-project-json/) as the project system.</span></span> <span data-ttu-id="b489e-108">Komut satırı araçlarını en son sürümlerini desteklemeyen *project.json* dosyaları.</span><span class="sxs-lookup"><span data-stu-id="b489e-108">The latest versions of the command-line tools don't support *project.json* files.</span></span> <span data-ttu-id="b489e-109">Bu yapı, çalıştırmak veya project.json tabanlı uygulamalar ve kitaplıklar yayımlamak için kullanılamaz anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="b489e-109">That means that it cannot be used to build, run or publish project.json based applications and libraries.</span></span> <span data-ttu-id="b489e-110">Bu araçların sürümü kullanmak için varolan projelerinizi geçirmek veya yenilerini başlatmak gerekir.</span><span class="sxs-lookup"><span data-stu-id="b489e-110">In order to use this version of the tools, you will need to migrate your existing projects or start new ones.</span></span> 

<span data-ttu-id="b489e-111">Bu taşıma işleminin bir parçası olarak, project.json projeleri oluşturmak üzere geliştirilmiştir özel yapı altyapısı adlı bir yetişkin ve tam özellikli yapı altyapısı ile değiştirilen [MSBuild](https://github.com/Microsoft/msbuild).</span><span class="sxs-lookup"><span data-stu-id="b489e-111">As part of this move, the custom build engine that was developed to build project.json projects was replaced with a mature and fully capable build engine called [MSBuild](https://github.com/Microsoft/msbuild).</span></span> <span data-ttu-id="b489e-112">Platformun ilk sürümünden bu yana bir anahtar teknolojisi edildiğinden MSBuild .NET topluluğundaki iyi bilinen bir altyapıdır.</span><span class="sxs-lookup"><span data-stu-id="b489e-112">MSBuild is a well-known engine in the .NET community, since it has been a key technology since the platform's first release.</span></span> <span data-ttu-id="b489e-113">Elbette, .NET Core uygulamaları geliştirmek gerektiğinden MSBuild .NET Core bağlantı noktalı ve .NET Core üzerinde çalışan herhangi bir platformda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b489e-113">Of course, because it needs to build .NET Core applications, MSBuild has been ported to .NET Core and can be used on any platform that .NET Core runs on.</span></span> <span data-ttu-id="b489e-114">.NET Core, ana öneriler, platformlar arası geliştirme yığınının biridir ve biz Bu taşıma o promise bozmadığından emin yaptınız.</span><span class="sxs-lookup"><span data-stu-id="b489e-114">One of the main promises of .NET Core is that of a cross-platform development stack, and we have made sure that this move does not break that promise.</span></span>

> [!NOTE]
> <span data-ttu-id="b489e-115">MSBuild için yenidir ve hakkında daha fazla bilgi edinmek istiyorsanız okuyarak başlatabilirsiniz [MSBuild kavramları](/visualstudio/msbuild/msbuild-concepts) makalesi.</span><span class="sxs-lookup"><span data-stu-id="b489e-115">If you are new to MSBuild and would like to learn more about it, you can start by reading the [MSBuild Concepts](/visualstudio/msbuild/msbuild-concepts) article.</span></span> 

## <a name="the-tooling-layers"></a><span data-ttu-id="b489e-116">Araç katmanları</span><span class="sxs-lookup"><span data-stu-id="b489e-116">The tooling layers</span></span>
<span data-ttu-id="b489e-117">Var olan proje sistemi uzakta olan yanı sıra altyapısı anahtarları oluşturma ile bu değişiklikleri genel "katmanlarını" tüm .NET Core araç ekosistemi değiştirme doğal olarak izleyen soru mi?</span><span class="sxs-lookup"><span data-stu-id="b489e-117">With the move away from the existing project system as well as with building engine switches, the question that naturally follows is do any of these changes change the overall "layering" of the whole .NET Core tooling ecosystem?</span></span> <span data-ttu-id="b489e-118">Yeni BITS ve bileşenleri bulunur?</span><span class="sxs-lookup"><span data-stu-id="b489e-118">Are there new bits and components?</span></span>

<span data-ttu-id="b489e-119">Önizleme 2 katmanlama hızlı bir Yenileyici ile aşağıdaki resimde gösterildiği gibi başlayalım:</span><span class="sxs-lookup"><span data-stu-id="b489e-119">Let's start with a quick refresher on Preview 2 layering as shown in the following picture:</span></span>

![Önizleme 2 araçları üst düzey mimarisi](media/cli-msbuild-architecture/p2-arch.png)

<span data-ttu-id="b489e-121">Araçlar katmanlama oldukça basittir.</span><span class="sxs-lookup"><span data-stu-id="b489e-121">The layering of the tools is quite simple.</span></span> <span data-ttu-id="b489e-122">Sayfanın alt tarafında bir temel .NET Core komut satırı araçlarını sahibiz.</span><span class="sxs-lookup"><span data-stu-id="b489e-122">At the bottom we have the .NET Core Command Line tools as a foundation.</span></span> <span data-ttu-id="b489e-123">Visual Studio veya Visual Studio Code bağlıdır ve projeler, derlemek için CLI kullanır gibi tüm diğer, üst düzey araçları bağımlılıkları vb. geri yükleyin.</span><span class="sxs-lookup"><span data-stu-id="b489e-123">All other, higher-level tools such as Visual Studio or Visual Studio Code, depend and rely on the CLI to build projects, restore dependencies and so on.</span></span> <span data-ttu-id="b489e-124">Bu geri yükleme işlemi gerçekleştirmek Visual Studio istediyseniz, örneğin, bunu içine çağırırdı, geliyordu `dotnet restore` ([bkz. Not](#dotnet-restore-note)) CLI komutu.</span><span class="sxs-lookup"><span data-stu-id="b489e-124">This meant that, for example, if Visual Studio wanted to perform a restore operation, it would call into `dotnet restore` ([see note](#dotnet-restore-note)) command in the CLI.</span></span> 

<span data-ttu-id="b489e-125">Yeni Proje sistemine taşıma ile önceki diyagramda değiştirir:</span><span class="sxs-lookup"><span data-stu-id="b489e-125">With the move to the new project system, the previous diagram changes:</span></span> 

![.NET core SDK 1.0.0 üst düzey mimari](media/cli-msbuild-architecture/p3-arch.png)

<span data-ttu-id="b489e-127">İkisi arasındaki temel fark CLI temel katmanı artık olmamasıdır; Bu rol artık "paylaşılan SDK component" girilir.</span><span class="sxs-lookup"><span data-stu-id="b489e-127">The main difference is that the CLI is not the foundational layer anymore; this role is now filled by the "shared SDK component".</span></span> <span data-ttu-id="b489e-128">Bu paylaşılan SDK bileşeni hedefler ve kodunuzu derlerken yayımlamadan, NuGet paketleri vb. sevk için sorumlu olan ilişkili görevler kümesidir. SDK açık kaynaklıdır ve Github'da üzerinde kullanılabilir [SDK depodaki](https://github.com/dotnet/sdk).</span><span class="sxs-lookup"><span data-stu-id="b489e-128">This shared SDK component is a set of targets and associated tasks that are responsible for compiling your code, publishing it, packing NuGet packages etc. The SDK itself is open-source and is available on GitHub on the [SDK repo](https://github.com/dotnet/sdk).</span></span> 

> [!NOTE]
> <span data-ttu-id="b489e-129">"Hedef" MSBuild çağırabileceği adlandırılmış bir işlemi belirten MSBuild bir terimdir.</span><span class="sxs-lookup"><span data-stu-id="b489e-129">A "target" is a MSBuild term that indicates a named operation that MSBuild can invoke.</span></span> <span data-ttu-id="b489e-130">Bu, genellikle hedef yapmak için gereken bazı mantığı yürütmek bir veya daha fazla görevleri ile birleştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="b489e-130">It is usually coupled with one or more tasks that execute some logic that the target is supposed to do.</span></span> <span data-ttu-id="b489e-131">MSBuild destekleyen birçok hazır hedefleri gibi `Copy` veya `Execute`; Ayrıca kullanıcıların yönetilen kodu kullanarak kendi Görevler yazmak ve bu görevleri çalıştırmak için hedeflerini tanımlamak imkan tanır.</span><span class="sxs-lookup"><span data-stu-id="b489e-131">MSBuild supports many ready-made targets such as `Copy` or `Execute`; it also allows users to write their own tasks using managed code and define targets to execute those tasks.</span></span> <span data-ttu-id="b489e-132">Daha fazla bilgi için bkz: [MSBuild görevleri](/visualstudio/msbuild/msbuild-tasks).</span><span class="sxs-lookup"><span data-stu-id="b489e-132">For more information, see [MSBuild tasks](/visualstudio/msbuild/msbuild-tasks).</span></span> 

<span data-ttu-id="b489e-133">Tüm toolsets şimdi paylaşılan SDK bileşeni ve dahil CLI hedeflerine kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="b489e-133">All the toolsets now consume the shared SDK component and its targets, CLI included.</span></span> <span data-ttu-id="b489e-134">Örneğin, Visual Studio'nun bir sonraki sürümünün içine çağırmayacaktır `dotnet restore` ([bkz. Not](#dotnet-restore-note)) .NET Core projeleri için bağımlılıkları geri yüklemek için komut, "Geri yükleme" hedef doğrudan kullanır.</span><span class="sxs-lookup"><span data-stu-id="b489e-134">For example, the next version of Visual Studio will not call into `dotnet restore` ([see note](#dotnet-restore-note)) command to restore dependencies for .NET Core projects, it will use the "Restore" target directly.</span></span> <span data-ttu-id="b489e-135">MSBuild hedefleri bunlar olduğundan, ayrıca ham MSBuild bunları yürütmek için kullanabileceğiniz kullanarak [dotnet msbuild](dotnet-msbuild.md) komutu.</span><span class="sxs-lookup"><span data-stu-id="b489e-135">Since these are MSBuild targets, you can also use raw MSBuild to execute them using the [dotnet msbuild](dotnet-msbuild.md) command.</span></span> 

### <a name="cli-commands"></a><span data-ttu-id="b489e-136">CLI komutları</span><span class="sxs-lookup"><span data-stu-id="b489e-136">CLI commands</span></span>
<span data-ttu-id="b489e-137">Paylaşılan SDK bileşen mevcut CLI komutları çoğunluğu olduğunu yeniden uygulanan MSBuild görevleri ve hedefleri anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="b489e-137">The shared SDK component means that the majority of existing CLI commands have been re-implemented as MSBuild tasks and targets.</span></span> <span data-ttu-id="b489e-138">Bu ne CLI komutları ve araç takımı kullanımınızı için anlama geliyor?</span><span class="sxs-lookup"><span data-stu-id="b489e-138">What does this mean for the CLI commands and your usage of the toolset?</span></span> 

<span data-ttu-id="b489e-139">Kullanım açısından bakıldığında, CLI kullanımınızı değiştirmez.</span><span class="sxs-lookup"><span data-stu-id="b489e-139">From an usage perspective, it doesn't change the way you use the CLI.</span></span> <span data-ttu-id="b489e-140">CLI hala Preview 2 sürümünde mevcut çekirdek komutlar vardır:</span><span class="sxs-lookup"><span data-stu-id="b489e-140">The CLI still has the core commands that exist in Preview 2 release:</span></span>

* `new`
* `restore`
* `run` 
* `build`
* `publish`
* `test`
* `pack` 

<span data-ttu-id="b489e-141">Bu komutlar hala kendisine (yeni bir projeyi, derleme, bu yayımlama, vb. paketi) beklediğiniz yapın.</span><span class="sxs-lookup"><span data-stu-id="b489e-141">These commands still do what you expect them to do (new up a project, build it, publish it, pack it and so on).</span></span> <span data-ttu-id="b489e-142">Seçenekleri çoğunluğu değiştirilmez ve hala vardır ve her iki komutları Yardım ekranları başvurabilirsiniz (kullanarak `dotnet <command> --help`) veya herhangi bir değişiklikle hakkında bilgi edinmek için bu sitesindeki belgeleri.</span><span class="sxs-lookup"><span data-stu-id="b489e-142">Majority of the options are not changed, and are still there, and you can consult either the commands' help screens (using `dotnet <command> --help`) or documentation on this site to get familiar with any changes.</span></span> 

<span data-ttu-id="b489e-143">Yürütme açısından bakıldığında, CLI komutları parametrelerini alın ve gerekli özellikleri ayarlayın ve istenen hedef Çalıştır "ham" MSBuild çağrısına oluşturun.</span><span class="sxs-lookup"><span data-stu-id="b489e-143">From an execution perspective, the CLI commands will take their parameters and construct a call to "raw" MSBuild that will set the needed properties and run the desired target.</span></span> <span data-ttu-id="b489e-144">Bu daha iyi anlamak için aşağıdaki komutu göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="b489e-144">To better illustrate this, consider the following command:</span></span> 

   `dotnet publish -o pub -c Release`
    
<span data-ttu-id="b489e-145">Bu komut, bir uygulamayı yayımlama bir `pub` "Yayın" Yapılandırması'nı kullanarak klasör.</span><span class="sxs-lookup"><span data-stu-id="b489e-145">This command is publishing an application into a `pub` folder using the "Release" configuration.</span></span> <span data-ttu-id="b489e-146">Dahili olarak, bu komutu aşağıdaki MSBuild çağırma çevrilen:</span><span class="sxs-lookup"><span data-stu-id="b489e-146">Internally, this command gets translated into the following MSBuild invocation:</span></span> 

   `dotnet msbuild /t:Publish /p:OutputPath=pub /p:Configuration=Release`

<span data-ttu-id="b489e-147">Bu kural için önemli özel durumdur `new` ve `run` bunlar MSBuild hedefleri olarak henüz geliştirilmemiştir gibi komutları.</span><span class="sxs-lookup"><span data-stu-id="b489e-147">The notable exception to this rule are `new` and `run` commands, as they have not been implemented as MSBuild targets.</span></span>

<a name="dotnet-restore-note"></a> <span data-ttu-id="b489e-148">[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]</span><span class="sxs-lookup"><span data-stu-id="b489e-148">[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]</span></span>