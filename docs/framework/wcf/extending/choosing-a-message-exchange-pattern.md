---
title: "Bir İleti Değişim Deseni seçin"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 0f502ca1-6a8e-4607-ba15-59198c0e6146
caps.latest.revision: "11"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 961f5e84fb46a791127a9d80c0f03d2b87fdea77
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/22/2017
---
# <a name="choosing-a-message-exchange-pattern"></a><span data-ttu-id="e8075-102">Bir İleti Değişim Deseni seçin</span><span class="sxs-lookup"><span data-stu-id="e8075-102">Choosing a Message Exchange Pattern</span></span>
<span data-ttu-id="e8075-103">Özel bir taşıma yazma ilk adımı, karar vermektir *ileti exchange desenleri* (veya MEPs) geliştirme kanalı gereklidir.</span><span class="sxs-lookup"><span data-stu-id="e8075-103">The first step in writing a custom transport is to decide which *message exchange patterns* (or MEPs) are required for the channel you are developing.</span></span> <span data-ttu-id="e8075-104">Bu konuda seçenekleri açıklar ve çeşitli gereksinimleri açıklanır.</span><span class="sxs-lookup"><span data-stu-id="e8075-104">This topic describes the options available and discusses the various requirements.</span></span> <span data-ttu-id="e8075-105">Bu ilk bölümünde açıklanan kanal geliştirme görev listesindeki bir görevdir [geliştirme kanalları](../../../../docs/framework/wcf/extending/developing-channels.md).</span><span class="sxs-lookup"><span data-stu-id="e8075-105">This is the first task in the channel development task list described in [Developing Channels](../../../../docs/framework/wcf/extending/developing-channels.md).</span></span>  
  
## <a name="six-message-exchange-patterns"></a><span data-ttu-id="e8075-106">Altı ileti Exchange desenleri</span><span class="sxs-lookup"><span data-stu-id="e8075-106">Six Message Exchange Patterns</span></span>  
 <span data-ttu-id="e8075-107">Aralarından seçim yapabileceğiniz üç MEPs vardır:</span><span class="sxs-lookup"><span data-stu-id="e8075-107">There are three MEPs to choose from:</span></span>  
  
-   <span data-ttu-id="e8075-108">Veri birimi (<xref:System.ServiceModel.Channels.IInputChannel> ve <xref:System.ServiceModel.Channels.IOutputChannel>)</span><span class="sxs-lookup"><span data-stu-id="e8075-108">Datagram (<xref:System.ServiceModel.Channels.IInputChannel> and <xref:System.ServiceModel.Channels.IOutputChannel>)</span></span>  
  
     <span data-ttu-id="e8075-109">Veri birimi MEP kullanırken, bir istemci kullanarak bir ileti gönderir bir *yangın ve unut* exchange.</span><span class="sxs-lookup"><span data-stu-id="e8075-109">When using a datagram MEP, a client sends a message using a *fire and forget* exchange.</span></span> <span data-ttu-id="e8075-110">A yangın ve exchange başarılı teslimat bant dışı onay gerektiren bir tane olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="e8075-110">A fire and forget exchange is one that requires out-of-band confirmation of successful delivery.</span></span> <span data-ttu-id="e8075-111">İleti, geçiş sırasında kaybolur ve hiçbir zaman hizmete erişmek.</span><span class="sxs-lookup"><span data-stu-id="e8075-111">The message might be lost in transit and never reach the service.</span></span> <span data-ttu-id="e8075-112">Gönderme işlemi istemci sonunda başarıyla tamamlarsa, uzak uç noktada bir ileti aldı garanti etmez.</span><span class="sxs-lookup"><span data-stu-id="e8075-112">If the send operation completes successfully at the client end, it does not guarantee that the remote endpoint has received the message.</span></span> <span data-ttu-id="e8075-113">Veri birimi üzerine kurallarınızı oluşturabilirsiniz Mesajlaşma için temel yapı bloğu aynıdır — güvenilir protokolleri ve güvenli iletişim kuralları da dahil olmak üzere.</span><span class="sxs-lookup"><span data-stu-id="e8075-113">The datagram is a fundamental building block for messaging, as you can build your own protocols on top of it—including reliable protocols and secure protocols.</span></span> <span data-ttu-id="e8075-114">İstemci veri birimi kanalları uygulamak <xref:System.ServiceModel.Channels.IOutputChannel> arabirimi ve hizmet veri birimi kanallar uygulamak <xref:System.ServiceModel.Channels.IInputChannel> arabirimi.</span><span class="sxs-lookup"><span data-stu-id="e8075-114">Client datagram channels implement the <xref:System.ServiceModel.Channels.IOutputChannel> interface and service datagram channels implement the <xref:System.ServiceModel.Channels.IInputChannel> interface.</span></span>  
  
-   <span data-ttu-id="e8075-115">İstek-yanıt (<xref:System.ServiceModel.Channels.IRequestChannel> ve <xref:System.ServiceModel.Channels.IReplyChannel>)</span><span class="sxs-lookup"><span data-stu-id="e8075-115">Request-Response (<xref:System.ServiceModel.Channels.IRequestChannel> and <xref:System.ServiceModel.Channels.IReplyChannel>)</span></span>  
  
     <span data-ttu-id="e8075-116">Bu MEP bir ileti gönderilir ve bir yanıt aldı.</span><span class="sxs-lookup"><span data-stu-id="e8075-116">In this MEP, a message is sent, and a reply is received.</span></span> <span data-ttu-id="e8075-117">Desen istek-yanıt çiftlerinden oluşur.</span><span class="sxs-lookup"><span data-stu-id="e8075-117">The pattern consists of request-response pairs.</span></span> <span data-ttu-id="e8075-118">İstek-yanıt çağrıları örnekler uzaktan yordam çağrısı (RPC) ve tarayıcı GET istekleri.</span><span class="sxs-lookup"><span data-stu-id="e8075-118">Examples of request-response calls are remote procedure calls (RPC) and browser GET requests.</span></span> <span data-ttu-id="e8075-119">Bu desen yarı çift yönlü da bilinir.</span><span class="sxs-lookup"><span data-stu-id="e8075-119">This pattern is also known as half-duplex.</span></span> <span data-ttu-id="e8075-120">Bu MEP, istemci kanalları uygulamak <xref:System.ServiceModel.Channels.IRequestChannel> ve hizmet kanalları uygulamak <xref:System.ServiceModel.Channels.IReplyChannel>.</span><span class="sxs-lookup"><span data-stu-id="e8075-120">In this MEP, client channels implement <xref:System.ServiceModel.Channels.IRequestChannel> and service channels implement <xref:System.ServiceModel.Channels.IReplyChannel>.</span></span>  
  
-   <span data-ttu-id="e8075-121">Çift yönlü (<xref:System.ServiceModel.Channels.IDuplexChannel>)</span><span class="sxs-lookup"><span data-stu-id="e8075-121">Duplex (<xref:System.ServiceModel.Channels.IDuplexChannel>)</span></span>  
  
     <span data-ttu-id="e8075-122">Çift yönlü MEP bir rastgele bir istemci tarafından gönderilen ve herhangi bir sırada alınan ileti sayısı için sağlar.</span><span class="sxs-lookup"><span data-stu-id="e8075-122">The duplex MEP allows an arbitrary number of messages to be sent by a client and received in any order.</span></span> <span data-ttu-id="e8075-123">Çift yönlü MEP bir telefon konuşması gibi konuşulan her sözcüğün bir ileti olduğu.</span><span class="sxs-lookup"><span data-stu-id="e8075-123">The duplex MEP is like a phone conversation, where each word being spoken is a message.</span></span> <span data-ttu-id="e8075-124">Her iki tarafında da gönderebilir ve bu MEP alabilir, istemci ve hizmet kanalları tarafından uygulanan arabirimi çünkü <xref:System.ServiceModel.Channels.IDuplexChannel>.</span><span class="sxs-lookup"><span data-stu-id="e8075-124">Because both sides can send and receive in this MEP, the interface implemented by the client and service channels is <xref:System.ServiceModel.Channels.IDuplexChannel>.</span></span>  
  
 <span data-ttu-id="e8075-125">![Bir ileti değişim deseni seçin](../../../../docs/framework/wcf/extending/media/wcfc-basicthreemepsc.gif "wcfc_BasicThreeMEPsc")</span><span class="sxs-lookup"><span data-stu-id="e8075-125">![Choosing a message exchange pattern](../../../../docs/framework/wcf/extending/media/wcfc-basicthreemepsc.gif "wcfc_BasicThreeMEPsc")</span></span>  
<span data-ttu-id="e8075-126">Üç temel ileti exchange desenleri.</span><span class="sxs-lookup"><span data-stu-id="e8075-126">The three basic message exchange patterns.</span></span> <span data-ttu-id="e8075-127">Yukarıdan aşağıya doğru: veri birimi, istek-yanıt ve çift yönlü.</span><span class="sxs-lookup"><span data-stu-id="e8075-127">Top to bottom: datagram, request-response, and duplex.</span></span>  
  
 <span data-ttu-id="e8075-128">Her bu MEPs da destekleyebilir *oturumları*.</span><span class="sxs-lookup"><span data-stu-id="e8075-128">Each of these MEPs can also support *sessions*.</span></span> <span data-ttu-id="e8075-129">Bir oturum (ve uyarlamasını <xref:System.ServiceModel.Channels.ISessionChannel%601?displayProperty=nameWithType> türü <xref:System.ServiceModel.Channels.ISession?displayProperty=nameWithType>) karşılık gelen bir kanalda alınıp gönderilen tüm iletiler.</span><span class="sxs-lookup"><span data-stu-id="e8075-129">A session (and implementation of <xref:System.ServiceModel.Channels.ISessionChannel%601?displayProperty=nameWithType> of type <xref:System.ServiceModel.Channels.ISession?displayProperty=nameWithType>) correlates all messages sent and received on a channel.</span></span> <span data-ttu-id="e8075-130">İstek-yanıt düzeni istek ve yanıt bağıntısı tek başına iki ileti oturum aynıdır.</span><span class="sxs-lookup"><span data-stu-id="e8075-130">The request-response pattern is a stand-alone two-message session, as the request and reply are correlated.</span></span> <span data-ttu-id="e8075-131">Buna karşılık, oturumlar destekleyen istek-yanıt düzeni bu kanalda tüm istek/yanıt çiftleri birbiriyle ilişkili anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="e8075-131">In contrast, the request-response pattern that supports sessions implies that all request/response pairs on that channel are correlated with each other.</span></span> <span data-ttu-id="e8075-132">Bu, içinden seçim yapabileceğiniz altı MEPs toplam sunar:</span><span class="sxs-lookup"><span data-stu-id="e8075-132">This gives you a total of six MEPs to choose from:</span></span>  
  
-   <span data-ttu-id="e8075-133">Veri birimi</span><span class="sxs-lookup"><span data-stu-id="e8075-133">Datagram</span></span>  
  
-   <span data-ttu-id="e8075-134">İstek-yanıt</span><span class="sxs-lookup"><span data-stu-id="e8075-134">Request-response</span></span>  
  
-   <span data-ttu-id="e8075-135">Çift Yönlü</span><span class="sxs-lookup"><span data-stu-id="e8075-135">Duplex</span></span>  
  
-   <span data-ttu-id="e8075-136">Veri birimi oturumu</span><span class="sxs-lookup"><span data-stu-id="e8075-136">Datagram with sessions</span></span>  
  
-   <span data-ttu-id="e8075-137">İstek-yanıt oturumu</span><span class="sxs-lookup"><span data-stu-id="e8075-137">Request-response with sessions</span></span>  
  
-   <span data-ttu-id="e8075-138">Oturumları ile çift yönlü</span><span class="sxs-lookup"><span data-stu-id="e8075-138">Duplex with sessions</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e8075-139">UDP kendiliğinden yangın olduğundan ve protokolü unuttunuz UDP taşıma için desteklenen tek MEP veri birimi, ' dir.</span><span class="sxs-lookup"><span data-stu-id="e8075-139">For the UDP transport, the only MEP that is supported is datagram, because UDP is inherently a fire and forget protocol.</span></span>  
  
## <a name="sessions-and-sessionful-channels"></a><span data-ttu-id="e8075-140">Oturumlar ve Sessionful kanalları</span><span class="sxs-lookup"><span data-stu-id="e8075-140">Sessions and Sessionful Channels</span></span>  
 <span data-ttu-id="e8075-141">Ağ dünyada bağlantı yönelimli protokolleri (örneğin, TCP) ve bağlantı daha az protokolleri (örneğin, UDP) vardır.</span><span class="sxs-lookup"><span data-stu-id="e8075-141">In the networking world, there are connection-oriented protocols (for example, TCP) and connection-less protocols (for example, UDP).</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="e8075-142">bir bağlantı gibi mantıksal soyutlama anlamına gelir terim oturumu kullanır.</span><span class="sxs-lookup"><span data-stu-id="e8075-142"> uses the term session to mean a connection-like logical abstraction.</span></span> <span data-ttu-id="e8075-143">Süre sonuyla WCF protokolleri bağlantı odaklı ağ protokolleri benzer ve oturumsuz WCF protokolleri bağlantı daha az ağ protokolleri benzer.</span><span class="sxs-lookup"><span data-stu-id="e8075-143">Sessionful WCF protocols are similar to connection-oriented network protocols and sessionless WCF protocols are similar to connection-less network protocols.</span></span>  
  
 <span data-ttu-id="e8075-144">Kanal nesne modelinde, her mantıksal oturum süre sonuyla kanal örneği bildirimleri.</span><span class="sxs-lookup"><span data-stu-id="e8075-144">In the channel object model, each logical session manifests as an instance of a sessionful channel.</span></span> <span data-ttu-id="e8075-145">Bu nedenle istemci tarafından oluşturulan ve hizmette kabul her yeni oturumun her tarafında yeni bir süre sonuyla kanal karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="e8075-145">Therefore every new session created by the client, and accepted on the service, corresponds to a new sessionful channel on each side.</span></span> <span data-ttu-id="e8075-146">Aşağıdaki diyagramda gösterildiği, oturumsuz kanalları yapısını üst ve alt, süre sonuyla kanalları yapısı.</span><span class="sxs-lookup"><span data-stu-id="e8075-146">The following diagram shows, on the top, the structure of sessionless channels, and on the bottom, the structure of sessionful channels.</span></span>  
  
 <span data-ttu-id="e8075-147">![Bir ileti değişim deseni seçin](../../../../docs/framework/wcf/extending/media/wcfc-sessionandsessionlesschannelsc.gif "wcfc_SessionAndSessionlessChannelsc")</span><span class="sxs-lookup"><span data-stu-id="e8075-147">![Choosing a message exchange pattern](../../../../docs/framework/wcf/extending/media/wcfc-sessionandsessionlesschannelsc.gif "wcfc_SessionAndSessionlessChannelsc")</span></span>  
  
 <span data-ttu-id="e8075-148">Bir istemci yeni bir süre sonuyla kanalı oluşturur ve bir ileti gönderir.</span><span class="sxs-lookup"><span data-stu-id="e8075-148">A client creates a new sessionful channel and sends a message.</span></span> <span data-ttu-id="e8075-149">Hizmet tarafı kanal dinleyicisi şu iletiyi alıyor ve böylece yeni bir süre sonuyla kanalı oluşturur ve uygulamaya (AcceptChannel kanal dinleyicisi çağırma uygulama yanıt) aktarır yeni bir oturuma ait olduğunu algılar.</span><span class="sxs-lookup"><span data-stu-id="e8075-149">On the service side, the channel listener receives this message and detects that it belongs to a new session so it creates a new sessionful channel and hands it to the application (in response to the application calling AcceptChannel on the channel listener).</span></span> <span data-ttu-id="e8075-150">Uygulama daha sonra bu iletiyi ve aynı süre sonuyla kanal üzerinden aynı oturumda gönderilen tüm sonraki iletiler alır.</span><span class="sxs-lookup"><span data-stu-id="e8075-150">The application then receives this message and all subsequent messages sent in the same session through the same sessionful channel.</span></span>  
  
 <span data-ttu-id="e8075-151">Başka bir istemci (veya aynı istemci) yeni bir sessionful oluşturur ve bir ileti gönderir.</span><span class="sxs-lookup"><span data-stu-id="e8075-151">Another client (or the same client) creates a new sessionful and sends a message.</span></span> <span data-ttu-id="e8075-152">Kanal dinleyicisi, bu iletiyi yeni bir oturumda ve yeni bir süre sonuyla kanalı oluşturur ve işlem yinelenir algılar.</span><span class="sxs-lookup"><span data-stu-id="e8075-152">The channel listener detects this message is in a new session and creates a new sessionful channel and the process repeats.</span></span>  
  
 <span data-ttu-id="e8075-153">Oturumlar, hiçbir bağıntı kanalları ve oturumlar arasında yoktur.</span><span class="sxs-lookup"><span data-stu-id="e8075-153">Without sessions, there is no correlation between channels and sessions.</span></span> <span data-ttu-id="e8075-154">Bu nedenle kanal dinleyicisi alınan iletilerin tümünü uygulamaya teslim edilir yalnızca bir kanalı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="e8075-154">Therefore a channel listener creates only one channel through which all received messages are delivered to the application.</span></span> <span data-ttu-id="e8075-155">İleti sırası korumak için hiçbir oturumunda olduğundan sıralama hiçbir ileti yoktur.</span><span class="sxs-lookup"><span data-stu-id="e8075-155">There is also no message ordering because there is no session within which to maintain message order.</span></span> <span data-ttu-id="e8075-156">Yukarıdaki grafikte üst kısmını oturumsuz ileti değişimi gösterir.</span><span class="sxs-lookup"><span data-stu-id="e8075-156">The top portion of the preceding graphic illustrates a sessionless message exchange.</span></span>  
  
## <a name="starting-and-terminating-sessions"></a><span data-ttu-id="e8075-157">Başlangıç ve oturumları sonlandırma</span><span class="sxs-lookup"><span data-stu-id="e8075-157">Starting and Terminating Sessions</span></span>  
 <span data-ttu-id="e8075-158">Oturumları, istemci üzerinde yeni bir süre sonuyla kanal oluşturarak başlatılır.</span><span class="sxs-lookup"><span data-stu-id="e8075-158">Sessions are started on the client by simply creating a new sessionful channel.</span></span> <span data-ttu-id="e8075-159">Hizmet yeni bir oturumda gönderilen bir ileti alındığında bunlar hizmeti başlatılır.</span><span class="sxs-lookup"><span data-stu-id="e8075-159">They are started on the service when the service receives a message that was sent in a new session.</span></span> <span data-ttu-id="e8075-160">Benzer şekilde, oturum kapatma veya bir süre sonuyla kanal durduruluyor sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="e8075-160">Likewise, sessions are terminated by closing or aborting a sessionful channel.</span></span>  
  
 <span data-ttu-id="e8075-161">Özel durum <xref:System.ServiceModel.Channels.IDuplexSessionChannel> hem ileti alma ve gönderme bir çift yönlü, süre sonuyla iletişim deseni için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="e8075-161">The exception to this is <xref:System.ServiceModel.Channels.IDuplexSessionChannel> which is used for both sending and receiving messages in a duplex, sessionful communication pattern.</span></span> <span data-ttu-id="e8075-162">Sütunlardan ileti gönderilmesini durdurmak istiyor ancak iletileri bu nedenle kullanırken almaya devam istemeniz mümkündür <xref:System.ServiceModel.Channels.IDuplexSessionChannel> daha fazla ileti göndermez ancak giriş oturum tutmak belirten çıkış Oturumu Kapat olanak sağlayan bir mekanizması iletileri almaya devam etmenize izin vererek açıldı.</span><span class="sxs-lookup"><span data-stu-id="e8075-162">It is possible that one side will want to stop sending messages but continue to receive messages therefore when using <xref:System.ServiceModel.Channels.IDuplexSessionChannel> there is a mechanism that lets you close the output session indicating you will not send any more messages but keep the input session opened allowing you to continue to receive messages.</span></span>  
  
 <span data-ttu-id="e8075-163">Genel olarak, giden tarafında ve gelen tarafında değil oturumları kapatılır.</span><span class="sxs-lookup"><span data-stu-id="e8075-163">In general, sessions are closed on the outgoing side and not on the incoming side.</span></span> <span data-ttu-id="e8075-164">Diğer bir deyişle, böylece düzgün bir şekilde oturum sonlandırma süre sonuyla çıkış kanalları kapatılabilir.</span><span class="sxs-lookup"><span data-stu-id="e8075-164">That is, sessionful output channels can be closed, thereby cleanly terminating the session.</span></span> <span data-ttu-id="e8075-165">Bir süre sonuyla çıktı kanalı kapatma neden olan uygulama arama için null döndürmek karşılık gelen süre sonuyla Giriş kanalı <xref:System.ServiceModel.Channels.IInputChannel.Receive%2A?displayProperty=nameWithType> üzerinde <xref:System.ServiceModel.Channels.IDuplexSessionChannel>.</span><span class="sxs-lookup"><span data-stu-id="e8075-165">Closing a sessionful output channel causes the corresponding sessionful input channel to return null to the application calling <xref:System.ServiceModel.Channels.IInputChannel.Receive%2A?displayProperty=nameWithType> on the <xref:System.ServiceModel.Channels.IDuplexSessionChannel>.</span></span>  
  
 <span data-ttu-id="e8075-166">Ancak süre sonuyla giriş kanalları sürece kapatılmalıdır değil <xref:System.ServiceModel.Channels.IInputChannel.Receive%2A?displayProperty=nameWithType> üzerinde <xref:System.ServiceModel.Channels.IDuplexSessionChannel> oturumu zaten kapatılmış gösteren null döndürür.</span><span class="sxs-lookup"><span data-stu-id="e8075-166">However sessionful input channels should not be closed unless <xref:System.ServiceModel.Channels.IInputChannel.Receive%2A?displayProperty=nameWithType> on the <xref:System.ServiceModel.Channels.IDuplexSessionChannel> returns null, indicating that the session is already closed.</span></span> <span data-ttu-id="e8075-167">Varsa <xref:System.ServiceModel.Channels.IInputChannel.Receive%2A?displayProperty=nameWithType> üzerinde <xref:System.ServiceModel.Channels.IDuplexSessionChannel> sahip kapatılırken beklenmeyen iletileri alabilirsiniz için null döndürdü değil, bir süre sonuyla Giriş kanalı kapatma bir özel durum.</span><span class="sxs-lookup"><span data-stu-id="e8075-167">If <xref:System.ServiceModel.Channels.IInputChannel.Receive%2A?displayProperty=nameWithType> on the <xref:System.ServiceModel.Channels.IDuplexSessionChannel> has not returned null, closing a sessionful input channel may throw an exception because it may receive unexpected messages while closing.</span></span> <span data-ttu-id="e8075-168">Bir alıcı gönderen yapmadan önce bir oturumu sonlandır isterse çağırmalıdır <xref:System.ServiceModel.ICommunicationObject.Abort%2A> giriş kanalında, beklenmedik şekilde sonlandırır oturumu.</span><span class="sxs-lookup"><span data-stu-id="e8075-168">If a receiver wishes to terminate a session before the sender does, it should call <xref:System.ServiceModel.ICommunicationObject.Abort%2A> on the input channel, which abruptly terminates the session.</span></span>  
  
## <a name="writing-sessionful-channels"></a><span data-ttu-id="e8075-169">Yazma Sessionful kanalları</span><span class="sxs-lookup"><span data-stu-id="e8075-169">Writing Sessionful Channels</span></span>  
 <span data-ttu-id="e8075-170">Bir süre sonuyla kanal yazarı, kanal oturumları sağlamak için yapmanız gerekir birkaç nokta vardır.</span><span class="sxs-lookup"><span data-stu-id="e8075-170">As a sessionful channel author, there are a few things your channel must do to provide sessions.</span></span> <span data-ttu-id="e8075-171">Gönderen tarafında kanalınızı gerekir:</span><span class="sxs-lookup"><span data-stu-id="e8075-171">On the send side, your channel needs to:</span></span>  
  
-   <span data-ttu-id="e8075-172">Her yeni kanal için yeni bir oturum oluşturun ve benzersiz bir dize olan bir yeni bir oturum kimliği ile ilişkilendirin.</span><span class="sxs-lookup"><span data-stu-id="e8075-172">For each new channel, create a new session and associate it with a new session id which is a unique string.</span></span> <span data-ttu-id="e8075-173">Veya yeni bir oturum, aşağıda süre sonuyla kanal yığınında almak.</span><span class="sxs-lookup"><span data-stu-id="e8075-173">Or obtain a new session from the sessionful channel below you in the stack.</span></span>  
  
-   <span data-ttu-id="e8075-174">Bu kanalı kullanılarak gönderilen her ileti için kanalınızı (aksine, aşağıdaki katmandan alma), oturum oluşturduysanız ileti oturumla ilişkilendirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="e8075-174">For each message sent using this channel, if your channel created the session (as opposed to obtaining it from the layer below you), you need to associate the message with the session.</span></span> <span data-ttu-id="e8075-175">Protokol kanallar için bu genellikle bir SOAP üstbilgi ekleyerek yapılır.</span><span class="sxs-lookup"><span data-stu-id="e8075-175">For protocol channels, this is typically done by adding a SOAP header.</span></span> <span data-ttu-id="e8075-176">Taşıma kanalları için bu genellikle yeni bir taşıma bağlantısı oluşturma veya oturum bilgilerini çerçeveleme Protokolü ekleyerek yapılır.</span><span class="sxs-lookup"><span data-stu-id="e8075-176">For transport channels, this is typically done by creating a new transport connection or adding session information to the framing protocol.</span></span>  
  
-   <span data-ttu-id="e8075-177">Bu kanalı kullanılarak gönderilen her ileti için yukarıda belirtilen teslimat garantileriyle sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e8075-177">For each message sent using this channel, you need to provide the delivery guarantees mentioned above.</span></span> <span data-ttu-id="e8075-178">Oturum sağlamak için aşağıdaki kanalda FQDN'yi kullanıyorsanız, bu kanala teslimat garantileriyle de sağlanır.</span><span class="sxs-lookup"><span data-stu-id="e8075-178">If you are relying on the channel below you to provide the session, that channel will also provide the delivery guarantees.</span></span> <span data-ttu-id="e8075-179">Oturumu kendiniz sağlıyorsanız, protokolünün bir parçası bu garanti yapması gerekir.</span><span class="sxs-lookup"><span data-stu-id="e8075-179">If you’re providing the session yourself, you need to implement those guarantees as part of your protocol.</span></span> <span data-ttu-id="e8075-180">Genel olarak, iki tarafta da WCF varsayar Protokolü kanalı yazıyorsanız TCP taşıma veya güvenilir Mesajlaşma kanalı gerektirir ve bir oturum sağlamak için herhangi birini kullanan.</span><span class="sxs-lookup"><span data-stu-id="e8075-180">In general, if you are writing a protocol channel that assumes WCF on both sides you may require the TCP transport or the Reliable Messaging channel and rely on either one to provide a session.</span></span>  
  
-   <span data-ttu-id="e8075-181">Zaman <xref:System.ServiceModel.ICommunicationObject.Close%2A?displayProperty=nameWithType> olduğundan, kanalda adlı, belirtilen zaman aşımı veya varsayılan kullanarak oturumu kapatmak için gerekli olan iş gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="e8075-181">When <xref:System.ServiceModel.ICommunicationObject.Close%2A?displayProperty=nameWithType> is called on your channel, perform the necessary work to close the session using either the specified timeout or the default one.</span></span> <span data-ttu-id="e8075-182">Bu çağırmak kadar kolaydır, <xref:System.ServiceModel.ICommunicationObject.Close%2A> (yalnızca oturum ondan aldığınız isteyip) veya özel bir SOAP iletisi gönderme veya bir taşıma bağlantısını kapatma aşağıda kanalda.</span><span class="sxs-lookup"><span data-stu-id="e8075-182">This can be as simple as calling <xref:System.ServiceModel.ICommunicationObject.Close%2A> on the channel below you (if you just obtained the session from it) or sending a special SOAP message or closing a transport connection.</span></span>  
  
-   <span data-ttu-id="e8075-183">Zaman <xref:System.ServiceModel.ICommunicationObject.Abort%2A> olduğundan, kanalda çağrıldı, oturumu aniden g/ç yapmadan sona erdirmek.</span><span class="sxs-lookup"><span data-stu-id="e8075-183">When <xref:System.ServiceModel.ICommunicationObject.Abort%2A> is called on your channel, terminate the session abruptly without performing I/O.</span></span> <span data-ttu-id="e8075-184">Bu, hiçbir şey yapılması olduğu anlamına gelebilir veya bir ağ bağlantısı veya başka bir kaynağa durduruluyor gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="e8075-184">This may mean doing nothing or may involve aborting a network connection or some other resource.</span></span>  
  
 <span data-ttu-id="e8075-185">Alma tarafında kanalınızı gerekir:</span><span class="sxs-lookup"><span data-stu-id="e8075-185">On the receive side, your channel needs to:</span></span>  
  
-   <span data-ttu-id="e8075-186">Gelen her ileti için kanal dinleyicisi ait oturum algılaması gerekir.</span><span class="sxs-lookup"><span data-stu-id="e8075-186">For each incoming message, the channel listener must detect the session it belongs to.</span></span> <span data-ttu-id="e8075-187">Bu oturumda ilk ileti ise, kanal dinleyicisi yeni bir kanal oluşturmalı ve bu çağrısı döndürmek <xref:System.ServiceModel.Channels.IChannelListener%601.AcceptChannel%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="e8075-187">If this is the first message in the session, the channel listener must create a new channel and return it from the call to <xref:System.ServiceModel.Channels.IChannelListener%601.AcceptChannel%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="e8075-188">Aksi takdirde kanal dinleyicisi oturuma karşılık gelen ve bu kanal üzerinden ileti ileten varolan kanal bulmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e8075-188">Otherwise the channel listener must find the existing channel that corresponds to the session and deliver the message through that channel.</span></span>  
  
-   <span data-ttu-id="e8075-189">Sağlıyorsa, kanalınızı (birlikte gerekli teslimat garantileriyle) oturum alış tarafı yeniden sıralamak iletileri gibi bazı eylemleri gerçekleştirmek ya da bildirimleri göndermek için gerekli.</span><span class="sxs-lookup"><span data-stu-id="e8075-189">If your channel is providing the session (along with the required delivery guarantees) the receive side may be required to perform some actions such as re-order messages or send acknowledgements.</span></span>  
  
-   <span data-ttu-id="e8075-190">Zaman <xref:System.ServiceModel.ICommunicationObject.Close%2A> olduğundan, kanalda çağrıldı, oturumu kapatmak için gerekli olan iş belirtilen zaman aşımı veya varsayılan gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="e8075-190">When <xref:System.ServiceModel.ICommunicationObject.Close%2A> is called on your channel, perform the necessary work to close the session either the specified timeout or the default one.</span></span> <span data-ttu-id="e8075-191">Süresi dolacak şekilde Kapat zaman aşımı için beklenirken bir ileti kanalı alırsa, bu özel durumları neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="e8075-191">This could result in exceptions if the channel receives a message while waiting for the close timeout to expire.</span></span> <span data-ttu-id="e8075-192">Throw böylece bir ileti aldığında kanal kapanış durumda olacaktır olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="e8075-192">That’s because the channel will be in the Closing state when it receives a message so it would throw.</span></span>  
  
-   <span data-ttu-id="e8075-193">Zaman <xref:System.ServiceModel.ICommunicationObject.Abort%2A> olduğundan, kanalda çağrıldı, oturumu aniden g/ç yapmadan sona erdirmek.</span><span class="sxs-lookup"><span data-stu-id="e8075-193">When <xref:System.ServiceModel.ICommunicationObject.Abort%2A> is called on your channel, terminate the session abruptly without performing I/O.</span></span> <span data-ttu-id="e8075-194">Yeniden, hiçbir şey yapılması olduğu anlamına gelebilir veya bir ağ bağlantısı veya başka bir kaynağa durduruluyor gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="e8075-194">Again, this may mean doing nothing or may involve aborting a network connection or some other resource.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e8075-195">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="e8075-195">See Also</span></span>  
 [<span data-ttu-id="e8075-196">Kanal Modeline Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="e8075-196">Channel Model Overview</span></span>](../../../../docs/framework/wcf/extending/channel-model-overview.md)
