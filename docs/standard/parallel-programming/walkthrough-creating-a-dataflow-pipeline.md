---
title: "İzlenecek Yol: Veri Akışı Ardışık Düzeni Oluşturma"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- dataflow pipelines, creating with TPL
- Task Parallel Library, dataflows
- TPL dataflow library, creating dataflow pipeline
ms.assetid: 69308f82-aa22-4ac5-833d-e748533b58e8
caps.latest.revision: "11"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: d63fb872382bfc0a3ba3b8637c7357ab65c58fbf
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/18/2017
---
# <a name="walkthrough-creating-a-dataflow-pipeline"></a><span data-ttu-id="14be4-102">İzlenecek Yol: Veri Akışı Ardışık Düzeni Oluşturma</span><span class="sxs-lookup"><span data-stu-id="14be4-102">Walkthrough: Creating a Dataflow Pipeline</span></span>
<span data-ttu-id="14be4-103">Kullanabilirsiniz ancak <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType>, ve <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> ileti almak için yöntemleri kaynak blokları, ileti blokları forma bağlanabilir bir *veri akışı ardışık düzenleri*.</span><span class="sxs-lookup"><span data-stu-id="14be4-103">Although you can use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> methods to receive messages from source blocks, you can also connect message blocks to form a *dataflow pipeline*.</span></span> <span data-ttu-id="14be4-104">Bir veri akışı ardışık düzeni bileşenleri dizisidir veya *veri akışı blokları*, her biri daha büyük bir hedefe katkıda bulunan belirli bir görevi gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="14be4-104">A dataflow pipeline is a series of components, or *dataflow blocks*, each of which performs a specific task that contributes to a larger goal.</span></span> <span data-ttu-id="14be4-105">Başka bir veri akışı bloğundan bir ileti aldığında, her bir veri akışı ardışık düzen veri akışı bloğunda çalışma gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="14be4-105">Every dataflow block in a dataflow pipeline performs work when it receives a message from another dataflow block.</span></span> <span data-ttu-id="14be4-106">Benzetme bu otomobil üretim için bir derleme satırdır.</span><span class="sxs-lookup"><span data-stu-id="14be4-106">An analogy to this is an assembly line for automobile manufacturing.</span></span> <span data-ttu-id="14be4-107">Her araç derleme satırın geçerken bir istasyon çerçeve derler, bir sonraki altyapısı vb. yükler.</span><span class="sxs-lookup"><span data-stu-id="14be4-107">As each vehicle passes through the assembly line, one station assembles the frame, the next one installs the engine, and so on.</span></span> <span data-ttu-id="14be4-108">Bir derleme satırı aynı anda birleştirilen birden çok taşıtlardan sağladığından, aynı anda tam taşıtlardan bir birleştirme daha iyi verimlilik sağlar.</span><span class="sxs-lookup"><span data-stu-id="14be4-108">Because an assembly line enables multiple vehicles to be assembled at the same time, it provides better throughput than assembling complete vehicles one at a time.</span></span>  
  
> [!TIP]
>  <span data-ttu-id="14be4-109">TPL veri akışı kitaplığı (<xref:System.Threading.Tasks.Dataflow?displayProperty=nameWithType> ad alanı) ile dağıtılmaz [!INCLUDE[net_v45](../../../includes/net-v45-md.md)].</span><span class="sxs-lookup"><span data-stu-id="14be4-109">The TPL Dataflow Library (<xref:System.Threading.Tasks.Dataflow?displayProperty=nameWithType> namespace) is not distributed with the [!INCLUDE[net_v45](../../../includes/net-v45-md.md)].</span></span> <span data-ttu-id="14be4-110">Yüklemek için <xref:System.Threading.Tasks.Dataflow> ad alanı, projenizi açın [!INCLUDE[vs_dev11_long](../../../includes/vs-dev11-long-md.md)], seçin **NuGet paketlerini Yönet** proje menüsünden ve çevrimiçi arama `Microsoft.Tpl.Dataflow` paket.</span><span class="sxs-lookup"><span data-stu-id="14be4-110">To install the <xref:System.Threading.Tasks.Dataflow> namespace, open your project in [!INCLUDE[vs_dev11_long](../../../includes/vs-dev11-long-md.md)], choose **Manage NuGet Packages** from the Project menu, and search online for the `Microsoft.Tpl.Dataflow` package.</span></span>  
  
 <span data-ttu-id="14be4-111">Bu belge rehberini yükler veri akışı ardışık gösterir *Homer Iliad* olan ayrı sözcükleri eşleştirmeye metin bir Web sitesi ve aramaları ilk word'ün karakterleri bu ters sözcükleri.</span><span class="sxs-lookup"><span data-stu-id="14be4-111">This document demonstrates a dataflow pipeline that downloads the book *The Iliad of Homer* from a website and searches the text to match individual words with words that reverse the first word's characters.</span></span> <span data-ttu-id="14be4-112">Bu belgedeki veri akışı ardışık oluşturulması aşağıdaki adımlardan oluşur:</span><span class="sxs-lookup"><span data-stu-id="14be4-112">The formation of the dataflow pipeline in this document consists of the following steps:</span></span>  
  
1.  <span data-ttu-id="14be4-113">Katılmak veri akışı blokları ardışık düzeninde oluşturun.</span><span class="sxs-lookup"><span data-stu-id="14be4-113">Create the dataflow blocks that participate in the pipeline.</span></span>  
  
2.  <span data-ttu-id="14be4-114">Her veri akışı bloğu ardışık düzende sonraki bloğu bağlayın.</span><span class="sxs-lookup"><span data-stu-id="14be4-114">Connect each dataflow block to the next block in the pipeline.</span></span> <span data-ttu-id="14be4-115">Her bloğu giriş olarak önceki blok çıktısı ardışık düzeninde alır.</span><span class="sxs-lookup"><span data-stu-id="14be4-115">Each block receives as input the output of the previous block in the pipeline.</span></span>  
  
3.  <span data-ttu-id="14be4-116">Her veri akışı bloğu için önceki blok bittikten sonra sonraki bloğu tamamlandı durumuna ayarlar devamlılık görevi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="14be4-116">For each dataflow block, create a continuation task that sets the next block to the completed state after the previous block finishes.</span></span>  
  
4.  <span data-ttu-id="14be4-117">Ardışık Düzen head veri göndermek.</span><span class="sxs-lookup"><span data-stu-id="14be4-117">Post data to the head of the pipeline.</span></span>  
  
5.  <span data-ttu-id="14be4-118">Ardışık Düzen head tamamlandı olarak işaretle.</span><span class="sxs-lookup"><span data-stu-id="14be4-118">Mark the head of the pipeline as completed.</span></span>  
  
6.  <span data-ttu-id="14be4-119">Tüm iş tamamlamak ardışık düzeni için bekleyin.</span><span class="sxs-lookup"><span data-stu-id="14be4-119">Wait for the pipeline to complete all work.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="14be4-120">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="14be4-120">Prerequisites</span></span>  
 <span data-ttu-id="14be4-121">Okuma [veri akışı](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md) bu kılavuza başlamadan önce.</span><span class="sxs-lookup"><span data-stu-id="14be4-121">Read [Dataflow](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md) before you start this walkthrough.</span></span>  
  
## <a name="creating-a-console-application"></a><span data-ttu-id="14be4-122">Bir konsol uygulaması oluşturma</span><span class="sxs-lookup"><span data-stu-id="14be4-122">Creating a Console Application</span></span>  
 <span data-ttu-id="14be4-123">İçinde [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], oluşturma bir [!INCLUDE[csprcs](../../../includes/csprcs-md.md)] veya [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)] konsol uygulama projesi.</span><span class="sxs-lookup"><span data-stu-id="14be4-123">In [!INCLUDE[vsprvs](../../../includes/vsprvs-md.md)], create a [!INCLUDE[csprcs](../../../includes/csprcs-md.md)] or [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)] Console Application project.</span></span> <span data-ttu-id="14be4-124">System.Threading.Tasks.Dataflow.dll bir başvuru ekleyin.</span><span class="sxs-lookup"><span data-stu-id="14be4-124">Add a reference to System.Threading.Tasks.Dataflow.dll.</span></span>  
  
 <span data-ttu-id="14be4-125">Alternatif olarak, bir dosya oluşturun ve adlandırın `ReverseWords.cs` (`ReverseWords.vb` için [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]), ve ardından Projeyi derlemek için Visual Studio komut istemi penceresinde aşağıdaki komutu çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="14be4-125">Alternatively, create a file and name it `ReverseWords.cs` (`ReverseWords.vb` for [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]), and then run the following command in a Visual Studio Command Prompt window to compile the project.</span></span>  
  
 [!INCLUDE[csprcs](../../../includes/csprcs-md.md)]  
  
 <span data-ttu-id="14be4-126">**csc.exe /r:System.Threading.Tasks.Dataflow.dll ReverseWords.cs**</span><span class="sxs-lookup"><span data-stu-id="14be4-126">**csc.exe /r:System.Threading.Tasks.Dataflow.dll ReverseWords.cs**</span></span>  
  
 [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]  
  
 <span data-ttu-id="14be4-127">**Vbc.exe /r:System.Threading.Tasks.Dataflow.dll ReverseWords.vb**</span><span class="sxs-lookup"><span data-stu-id="14be4-127">**vbc.exe /r:System.Threading.Tasks.Dataflow.dll ReverseWords.vb**</span></span>  
  
 <span data-ttu-id="14be4-128">Aşağıdaki kodu temel uygulaması oluşturmak için projenize ekleyin.</span><span class="sxs-lookup"><span data-stu-id="14be4-128">Add the following code to your project to create the basic application.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#2)]
 [!code-vb[TPLDataflow_Palindromes#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#2)]  
  
## <a name="creating-the-dataflow-blocks"></a><span data-ttu-id="14be4-129">Veri akışı blokları oluşturma</span><span class="sxs-lookup"><span data-stu-id="14be4-129">Creating the Dataflow Blocks</span></span>  
 <span data-ttu-id="14be4-130">Aşağıdaki kodu ekleyin `Main` ardışık düzeninde katılmak veri akışı blokları oluşturma yöntemi.</span><span class="sxs-lookup"><span data-stu-id="14be4-130">Add the following code to the `Main` method to create the dataflow blocks that participate in the pipeline.</span></span> <span data-ttu-id="14be4-131">Aşağıdaki tabloda ardışık her üyesinin rolü özetlenmektedir.</span><span class="sxs-lookup"><span data-stu-id="14be4-131">The table that follows summarizes the role of each member of the pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#3)]
 [!code-vb[TPLDataflow_Palindromes#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#3)]  
  
|<span data-ttu-id="14be4-132">Üye</span><span class="sxs-lookup"><span data-stu-id="14be4-132">Member</span></span>|<span data-ttu-id="14be4-133">Tür</span><span class="sxs-lookup"><span data-stu-id="14be4-133">Type</span></span>|<span data-ttu-id="14be4-134">Açıklama</span><span class="sxs-lookup"><span data-stu-id="14be4-134">Description</span></span>|  
|------------|----------|-----------------|  
|`downloadString`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="14be4-135">Kitap metin Web sunucusundan indirir.</span><span class="sxs-lookup"><span data-stu-id="14be4-135">Downloads the book text from the Web.</span></span>|  
|`createWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="14be4-136">Kitap metin sözcük bir diziye ayırır.</span><span class="sxs-lookup"><span data-stu-id="14be4-136">Separates the book text into an array of words.</span></span>|  
|`filterWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="14be4-137">Kaldırır kısa sözcükler Word'den dizi, siparişler elde edilen sözcükler alfabetik olarak ve yinelenenleri kaldırma.</span><span class="sxs-lookup"><span data-stu-id="14be4-137">Removes short words from the word array, orders the resulting words alphabetically, and remove duplicates.</span></span>|  
|`findReversedWords`|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|<span data-ttu-id="14be4-138">Geriye doğru da word dizisinde oluşur filtrelenmiş word dizi koleksiyondaki tüm sözcükleri bulur.</span><span class="sxs-lookup"><span data-stu-id="14be4-138">Finds all words in the filtered word array collection whose reverse also occurs in the word array.</span></span>|  
|`printReversedWords`|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<span data-ttu-id="14be4-139">Sözcükler ve karşılık gelen ters sözcükler konsola görüntüler.</span><span class="sxs-lookup"><span data-stu-id="14be4-139">Displays words and the corresponding reverse words to the console.</span></span>|  
  
 <span data-ttu-id="14be4-140">Bu örnekte veri akışı ardışık düzende birden çok adımı tek bir adımda içine birleştirebilir rağmen daha büyük bir görevi gerçekleştirmek için birden çok bağımsız veri akışı görev oluşturma kavramı örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="14be4-140">Although you could combine multiple steps in the dataflow pipeline in this example into one step, the example illustrates the concept of composing multiple independent dataflow tasks to perform a larger task.</span></span> <span data-ttu-id="14be4-141">Örnek kullanır <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> kendi giriş verilerini üzerinde bir işlemi gerçekleştirmek ve sonuçları sonraki adım ardışık düzeninde göndermek her üye ardışık etkinleştirmek için.</span><span class="sxs-lookup"><span data-stu-id="14be4-141">The example uses <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> to enable each member of the pipeline to perform an operation on its input data and send the results to the next step in the pipeline.</span></span> <span data-ttu-id="14be4-142">`findReversedWords` Ardışık düzen üyesi olan bir <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> her giriş için birden çok bağımsız çıkış oluşturduğundan nesne.</span><span class="sxs-lookup"><span data-stu-id="14be4-142">The `findReversedWords` member of the pipeline is a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object because it produces multiple independent outputs for each input.</span></span> <span data-ttu-id="14be4-143">Ardışık Düzen kuyruğu `printReversedWords`, olan bir <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> kendi giriş, bir eylem gerçekleştirir ve bir sonuç üretmez çünkü nesne.</span><span class="sxs-lookup"><span data-stu-id="14be4-143">The tail of the pipeline, `printReversedWords`, is a <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object because it performs an action on its input, and does not produce a result.</span></span>  
  
## <a name="forming-the-pipeline"></a><span data-ttu-id="14be4-144">Ardışık Düzen oluşturuluyor</span><span class="sxs-lookup"><span data-stu-id="14be4-144">Forming the Pipeline</span></span>  
 <span data-ttu-id="14be4-145">Ardışık düzende sonraki bloğu blokların bağlanmak için aşağıdaki kodu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="14be4-145">Add the following code to connect each block to the next block in the pipeline.</span></span>  
  
 <span data-ttu-id="14be4-146">Çağırdığınızda <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> yöntemi bir kaynak veri akışı bloğu bir hedef veri akışı blok kaynak veri akışı bloğu bağlanmak için hedef blok veri veri olarak kullanılabilir hale geldiğinde yayar.</span><span class="sxs-lookup"><span data-stu-id="14be4-146">When you call the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method to connect a source dataflow block to a target dataflow block, the source dataflow block propagates data to the target block as data becomes available.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#4)]
 [!code-vb[TPLDataflow_Palindromes#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#4)]  
  
## <a name="creating-the-completion-tasks"></a><span data-ttu-id="14be4-147">Tamamlama görevler oluşturma</span><span class="sxs-lookup"><span data-stu-id="14be4-147">Creating the Completion Tasks</span></span>  
 <span data-ttu-id="14be4-148">Tüm verileri işledikten sonra son bir eylemi gerçekleştirmek her veri akışı bloğu etkinleştirmek için aşağıdaki kodu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="14be4-148">Add the following code to enable each dataflow block to perform a final action after it processes all data.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#5](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#5)]
 [!code-vb[TPLDataflow_Palindromes#5](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#5)]  
  
 <span data-ttu-id="14be4-149">Ardışık düzeninden tamamlama yaymak için her tamamlama görevi sonraki veri akışı bloğu tamamlandı durumuna ayarlar.</span><span class="sxs-lookup"><span data-stu-id="14be4-149">To propagate completion through the pipeline, each completion task sets the next dataflow block to the completed state.</span></span> <span data-ttu-id="14be4-150">Örneğin, ardışık düzen head tamamlandı durumuna ayarladığınızda, kalan arabelleğe alınan iletileri işleyen ve ardından ikinci üye ardışık tamamlandı durumuna ayarlar, tamamlama görevini çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="14be4-150">For example, when the head of the pipeline is set to the completed state, it processes any remaining buffered messages and then runs its completion task, which sets the second member of the pipeline to the completed state.</span></span> <span data-ttu-id="14be4-151">İkinci üye ardışık sırayla kalan arabelleğe alınan iletileri işleyen ve ardışık düzen üçüncü üyesi tamamlandı durumuna ayarlar, tamamlama görevini çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="14be4-151">The second member of the pipeline in turn processes any remaining buffered messages and then runs its completion task, which sets the third member of the pipeline to the completed state.</span></span> <span data-ttu-id="14be4-152">Bu işlem, tüm üyeleri ardışık düzen tamamlanana kadar devam eder.</span><span class="sxs-lookup"><span data-stu-id="14be4-152">This process continues until all members of the pipeline finish.</span></span> <span data-ttu-id="14be4-153">Bu örnekte `delegate` anahtar sözcüğü (`Function` içinde [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]) devamlılık görevlerini tanımlamak için.</span><span class="sxs-lookup"><span data-stu-id="14be4-153">This example uses the `delegate` keyword (`Function` in [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]) to define the continuation tasks.</span></span>  
  
## <a name="posting-data-to-the-pipeline"></a><span data-ttu-id="14be4-154">Veri ardışık düzenine gönderme</span><span class="sxs-lookup"><span data-stu-id="14be4-154">Posting Data to the Pipeline</span></span>  
 <span data-ttu-id="14be4-155">Kitap URL'sini göndermek için aşağıdaki kodu ekleyin *Homer Iliad* veri akışı ardışık head için.</span><span class="sxs-lookup"><span data-stu-id="14be4-155">Add the following code to post the URL of the book *The Iliad of Homer* to the head of the dataflow pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#6)]
 [!code-vb[TPLDataflow_Palindromes#6](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#6)]  
  
 <span data-ttu-id="14be4-156">Bu örnekte <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> ardışık düzen head için eş zamanlı olarak veri göndermek için.</span><span class="sxs-lookup"><span data-stu-id="14be4-156">This example uses <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> to synchronously send data to the head of the pipeline.</span></span> <span data-ttu-id="14be4-157">Kullanım <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> yöntemi zaman uyumsuz olarak bir veri akışı düğüme veri göndermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="14be4-157">Use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> method when you must asynchronously send data to a dataflow node.</span></span>  
  
## <a name="completing-pipeline-activity"></a><span data-ttu-id="14be4-158">Ardışık Düzen etkinlik Tamamlanıyor</span><span class="sxs-lookup"><span data-stu-id="14be4-158">Completing Pipeline Activity</span></span>  
 <span data-ttu-id="14be4-159">Ardışık Düzen head tamamlandı olarak işaretlemek için aşağıdaki kodu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="14be4-159">Add the following code to mark the head of the pipeline as completed.</span></span> <span data-ttu-id="14be4-160">Tüm arabelleğe alınan iletileri işledikten sonra ardışık head devamlılık görevi çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="14be4-160">The head of the pipeline runs its continuation task after it processes all buffered messages.</span></span> <span data-ttu-id="14be4-161">Bu devamlılık görevi tamamlandı durumuna ardışık düzeninden yayar.</span><span class="sxs-lookup"><span data-stu-id="14be4-161">This continuation task propagates the completed state through the pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#7)]
 [!code-vb[TPLDataflow_Palindromes#7](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#7)]  
  
 <span data-ttu-id="14be4-162">Bu örnekte, işlenmek üzere bir URL veri akışı ardışık düzeni aracılığıyla gönderilir.</span><span class="sxs-lookup"><span data-stu-id="14be4-162">This example sends one URL through the dataflow pipeline to be processed.</span></span> <span data-ttu-id="14be4-163">Birden fazla girişi bir ardışık düzen üzerinden gönderirseniz, çağrı <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> tüm giriş gönderdikten sonra yöntemi.</span><span class="sxs-lookup"><span data-stu-id="14be4-163">If you send more than one input through a pipeline, call the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> method after you submit all the input.</span></span> <span data-ttu-id="14be4-164">Uygulamanızın veri artık kullanılabilir olduğu iyi tanımlanmış noktası yok veya uygulama ardışık bitmesini bekleyin yok varsa bu adımı atlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="14be4-164">You can omit this step if your application has no well-defined point at which data is no longer available or the application does not have to wait for the pipeline to finish.</span></span>  
  
## <a name="waiting-for-the-pipeline-to-finish"></a><span data-ttu-id="14be4-165">Ardışık düzeni için bitiş bekleniyor</span><span class="sxs-lookup"><span data-stu-id="14be4-165">Waiting for the Pipeline to Finish</span></span>  
 <span data-ttu-id="14be4-166">Ardışık bitmesini beklemek için aşağıdaki kodu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="14be4-166">Add the following code to wait for the pipeline to finish.</span></span> <span data-ttu-id="14be4-167">Bu örnekte, ardışık düzeninden tamamlama yaymak için devamlılık görevlerini kullandığından, ardışık düzen kuyruğu tamamlandığında ve genel işlemi tamamlandı.</span><span class="sxs-lookup"><span data-stu-id="14be4-167">Because this example uses continuation tasks to propagate completion through the pipeline, the overall operation is finished when the tail of the pipeline finishes.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#8](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#8)]
 [!code-vb[TPLDataflow_Palindromes#8](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#8)]  
  
 <span data-ttu-id="14be4-168">Veri akışı tamamlanma hiçbir iş parçacığı veya birden çok iş parçacığı aynı anda bekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="14be4-168">You can wait for dataflow completion from any thread or from multiple threads at the same time.</span></span>  
  
## <a name="the-complete-example"></a><span data-ttu-id="14be4-169">Tam Örnek</span><span class="sxs-lookup"><span data-stu-id="14be4-169">The Complete Example</span></span>  
 <span data-ttu-id="14be4-170">Aşağıdaki örnek, bu kılavuz tam kod gösterilir.</span><span class="sxs-lookup"><span data-stu-id="14be4-170">The following example shows the complete code for this walkthrough.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#1)]
 [!code-vb[TPLDataflow_Palindromes#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#1)]  
  
## <a name="next-steps"></a><span data-ttu-id="14be4-171">Sonraki Adımlar</span><span class="sxs-lookup"><span data-stu-id="14be4-171">Next Steps</span></span>  
 <span data-ttu-id="14be4-172">Bu örnek veri akışı ardışık düzen üzerinden işlemek için bir URL gönderir.</span><span class="sxs-lookup"><span data-stu-id="14be4-172">This example sends one URL to process through the dataflow pipeline.</span></span> <span data-ttu-id="14be4-173">Birden fazla giriş değeri bir ardışık düzeninden gönderirseniz, uygulamanıza bölümleri bir otomobil Fabrika nasıl hareket benzer bir form paralellik ortaya çıkarabilir.</span><span class="sxs-lookup"><span data-stu-id="14be4-173">If you send more than one input value through a pipeline, you can introduce a form of parallelism into your application that resembles how parts might move through an automobile factory.</span></span> <span data-ttu-id="14be4-174">Ardışık düzenin ilk üye ikinci üye sonucu gönderdiğinde, ikinci üye ilk sonucu işlerken paralel başka bir öğe işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="14be4-174">When the first member of the pipeline sends its result to the second member, it can process another item in parallel as the second member processes the first result.</span></span>  
  
 <span data-ttu-id="14be4-175">Veri akışı ardışık düzenleri kullanılarak elde edilir paralellik olarak bilinen *parçalı paralellik* genellikle daha az sayıda, daha büyük görevlerin oluştuğundan.</span><span class="sxs-lookup"><span data-stu-id="14be4-175">The parallelism that is achieved by using dataflow pipelines is known as *coarse-grained parallelism* because it typically consists of fewer, larger tasks.</span></span> <span data-ttu-id="14be4-176">Daha da kullanabilirsiniz *hassas paralellik* veri akışı ardışık düzeninde daha küçük, kısa süreli görevlerin.</span><span class="sxs-lookup"><span data-stu-id="14be4-176">You can also use a more *fine-grained parallelism* of smaller, short-running tasks in a dataflow pipeline.</span></span> <span data-ttu-id="14be4-177">Bu örnekte, `findReversedWords` ardışık üyeyi kullanan <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> paralel iş listesinde birden çok öğe işlemek için yöntem.</span><span class="sxs-lookup"><span data-stu-id="14be4-177">In this example, the `findReversedWords` member of the pipeline uses the <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> method to process multiple items in the work list in parallel.</span></span> <span data-ttu-id="14be4-178">Parçalı ardışık düzeninde hassas paralellik kullanımını, genel üretilen işi artırabilir.</span><span class="sxs-lookup"><span data-stu-id="14be4-178">The use of fine-grained parallelism in a coarse-grained pipeline can improve overall throughput.</span></span>  
  
 <span data-ttu-id="14be4-179">Kaynak veri akışı bloğu oluşturmak için birden çok hedef bloklarına bağlanabilir bir *veri akışı ağ*.</span><span class="sxs-lookup"><span data-stu-id="14be4-179">You can also connect a source dataflow block to multiple target blocks to create a *dataflow network*.</span></span> <span data-ttu-id="14be4-180">Aşırı yüklü sürümünü <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> metodu bir <xref:System.Predicate%601> hedef blok kendi değere göre her ileti kabul edip etmeyeceğini tanımlayan nesne.</span><span class="sxs-lookup"><span data-stu-id="14be4-180">The overloaded version of the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method takes a <xref:System.Predicate%601> object that defines whether the target block accepts each message based on its value.</span></span> <span data-ttu-id="14be4-181">Kaynakları blokları biri bu iletiyi kabul edene kadar bunlar, bağlanmış sırayla tüm bağlı hedef blokları iletileri sunmak gibi davranacak çoğu veri akışı bloğu türleri.</span><span class="sxs-lookup"><span data-stu-id="14be4-181">Most dataflow block types that act as sources offer messages to all connected target blocks, in the order in which they were connected, until one of the blocks accepts that message.</span></span> <span data-ttu-id="14be4-182">Bu filtreleme mekanizması kullanarak, belirli bir yol verilerine ve diğer verileri başka bir yol üzerinden doğrudan bağlı veri akışı blokları sistemlerinin oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="14be4-182">By using this filtering mechanism, you can create systems of connected dataflow blocks that direct certain data through one path and other data through another path.</span></span> <span data-ttu-id="14be4-183">Bir veri akışı ağ oluşturmak için filtreleme kullanan bir örnek için bkz: [izlenecek yol: veri akışı kullanarak bir Windows Forms uygulamasında](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="14be4-183">For an example that uses filtering to create a dataflow network, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="14be4-184">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="14be4-184">See Also</span></span>  
 [<span data-ttu-id="14be4-185">Veri akışı</span><span class="sxs-lookup"><span data-stu-id="14be4-185">Dataflow</span></span>](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md)
