---
title: 'Nasıl yapılır: Yansıma Yayma ile Genel Yöntem Tanımlama'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- generics [.NET Framework], reflection emit
- reflection emit, generic methods
- generics [.NET Framework], dynamic types
ms.assetid: 93892fa4-90b3-4ec4-b147-4bec9880de2b
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 49531945b073a909ba49b2b0865b96f9658fba50
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33396811"
---
# <a name="how-to-define-a-generic-method-with-reflection-emit"></a><span data-ttu-id="81bee-102">Nasıl yapılır: Yansıma Yayma ile Genel Yöntem Tanımlama</span><span class="sxs-lookup"><span data-stu-id="81bee-102">How to: Define a Generic Method with Reflection Emit</span></span>
<span data-ttu-id="81bee-103">İlk yordam, iki tür parametreleri ile basit bir genel yöntem oluşturma ve tür parametreleri sınıf kısıtlamaları, arabirim kısıtlamaları ve özel kısıtlamalar uygulamak nasıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="81bee-103">The first procedure shows how to create a simple generic method with two type parameters, and how to apply class constraints, interface constraints, and special constraints to the type parameters.</span></span>  
  
 <span data-ttu-id="81bee-104">İkinci yordam yöntem gövdesi yaymak üzere nasıl ve genel yönteminin tür parametreleri genel türler örneklerini oluşturmak için ve bunların yöntemleri çağırmak için nasıl kullanılacağı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="81bee-104">The second procedure shows how to emit the method body, and how to use the type parameters of the generic method to create instances of generic types and to call their methods.</span></span>  
  
 <span data-ttu-id="81bee-105">Üçüncü yordam genel yöntemini çağırmak nasıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="81bee-105">The third procedure shows how to invoke the generic method.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="81bee-106">Yalnızca genel bir tür ait ve bu tür tür parametreleri kullanan bir yöntem genel olmadığından.</span><span class="sxs-lookup"><span data-stu-id="81bee-106">A method is not generic just because it belongs to a generic type and uses the type parameters of that type.</span></span> <span data-ttu-id="81bee-107">Yalnızca kendi türü parametre listesine varsa genel yöntemidir.</span><span class="sxs-lookup"><span data-stu-id="81bee-107">A method is generic only if it has its own type parameter list.</span></span> <span data-ttu-id="81bee-108">Genel yöntem bu örnekte olduğu gibi bir nongeneric türü görünebilir.</span><span class="sxs-lookup"><span data-stu-id="81bee-108">A generic method can appear on a nongeneric type, as in this example.</span></span> <span data-ttu-id="81bee-109">Genel bir tür nongeneric bir yöntem örneği için bkz: [nasıl yapılır: yansıma yayma ile genel tür tanımlama](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md).</span><span class="sxs-lookup"><span data-stu-id="81bee-109">For an example of a nongeneric method on a generic type, see [How to: Define a Generic Type with Reflection Emit](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md).</span></span>  
  
### <a name="to-define-a-generic-method"></a><span data-ttu-id="81bee-110">Genel bir yöntemi tanımlamak için</span><span class="sxs-lookup"><span data-stu-id="81bee-110">To define a generic method</span></span>  
  
1.  <span data-ttu-id="81bee-111">Başlamadan önce üst düzey bir dil kullanarak yazılırken genel yöntem nasıl göründüğü aramak yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="81bee-111">Before beginning, it is useful to look at how the generic method appears when written using a high-level language.</span></span> <span data-ttu-id="81bee-112">Aşağıdaki kod genel yöntemini çağırmak için kodu ile birlikte bu konu için örnek kod yer alır.</span><span class="sxs-lookup"><span data-stu-id="81bee-112">The following code is included in the example code for this topic, along with code to call the generic method.</span></span> <span data-ttu-id="81bee-113">İki tür parametreleri yöntemi sahip `TInput` ve `TOutput`, hangisinin bir başvuru türü olmalıdır ikinci (`class`), bir parametresiz oluşturucuya sahip olmalıdır (`new`) ve uygulamalıdır `ICollection(Of TInput)` (`ICollection<TInput>` C#).</span><span class="sxs-lookup"><span data-stu-id="81bee-113">The method has two type parameters, `TInput` and `TOutput`, the second of which must be a reference type (`class`), must have a parameterless constructor (`new`), and must implement `ICollection(Of TInput)` (`ICollection<TInput>` in C#).</span></span> <span data-ttu-id="81bee-114">Bu arabirim kısıtlaması sağlar <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> yöntemi öğelerine eklemek için kullanılabilir `TOutput` yöntemi oluşturur koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="81bee-114">This interface constraint ensures that the <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> method can be used to add elements to the `TOutput` collection that the method creates.</span></span> <span data-ttu-id="81bee-115">Bir resmi parametresi yöntemi var `input`, bir dizi olduğu `TInput`.</span><span class="sxs-lookup"><span data-stu-id="81bee-115">The method has one formal parameter, `input`, which is an array of `TInput`.</span></span> <span data-ttu-id="81bee-116">Yöntem türü bir koleksiyonunu oluşturur `TOutput` ve öğelerini kopyalar `input` koleksiyonuna.</span><span class="sxs-lookup"><span data-stu-id="81bee-116">The method creates a collection of type `TOutput` and copies the elements of `input` to the collection.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#20](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#20)]
     [!code-vb[GenericMethodHowTo#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#20)]  
  
2.  <span data-ttu-id="81bee-117">Genel yöntem türü içeren bir dinamik modül ait ve bir dinamik derleme tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="81bee-117">Define a dynamic assembly and a dynamic module to contain the type the generic method belongs to.</span></span> <span data-ttu-id="81bee-118">Bu durumda, derleme adlı yalnızca bir modül sahip `DemoMethodBuilder1`, ve modül adına derleme adı artı bir uzantısı aynıdır.</span><span class="sxs-lookup"><span data-stu-id="81bee-118">In this case, the assembly has only one module, named `DemoMethodBuilder1`, and the module name is the same as the assembly name plus an extension.</span></span> <span data-ttu-id="81bee-119">Bu örnekte, derleme diske kaydedilir ve aynı zamanda yürütülen, bunu <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> belirtilir.</span><span class="sxs-lookup"><span data-stu-id="81bee-119">In this example, the assembly is saved to disk and also executed, so <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> is specified.</span></span> <span data-ttu-id="81bee-120">Kullanabileceğiniz [Ildasm.exe (IL ayrıştırıcı)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) DemoMethodBuilder1.dll inceleyin ve 1. adımda gösterilen yöntemi için Microsoft Ara dili (MSIL) karşılaştırın.</span><span class="sxs-lookup"><span data-stu-id="81bee-120">You can use the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) to examine DemoMethodBuilder1.dll and to compare it to the Microsoft intermediate language (MSIL) for the method shown in step 1.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#2](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#2)]
     [!code-vb[GenericMethodHowTo#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#2)]  
  
3.  <span data-ttu-id="81bee-121">Genel yöntem ait türünü tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="81bee-121">Define the type the generic method belongs to.</span></span> <span data-ttu-id="81bee-122">Tür genel olmak zorunda değildir.</span><span class="sxs-lookup"><span data-stu-id="81bee-122">The type does not have to be generic.</span></span> <span data-ttu-id="81bee-123">Genel yöntem ya da bir genel veya nongeneric türüne ait olabilir.</span><span class="sxs-lookup"><span data-stu-id="81bee-123">A generic method can belong to either a generic or nongeneric type.</span></span> <span data-ttu-id="81bee-124">Bu örnekte, türü bir sınıf, genel değil ve adlı `DemoType`.</span><span class="sxs-lookup"><span data-stu-id="81bee-124">In this example, the type is a class, is not generic, and is named `DemoType`.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#3](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#3)]
     [!code-vb[GenericMethodHowTo#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#3)]  
  
4.  <span data-ttu-id="81bee-125">Genel yöntemi tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="81bee-125">Define the generic method.</span></span> <span data-ttu-id="81bee-126">Bir genel yöntemin resmi parametre türlerini genel yöntem genel tür parametresi tarafından belirtilen kullanırsanız <xref:System.Reflection.Emit.TypeBuilder.DefineMethod%28System.String%2CSystem.Reflection.MethodAttributes%29> yöntemi aşırı yöntemi tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="81bee-126">If the types of a generic method's formal parameters are specified by generic type parameters of the generic method, use the <xref:System.Reflection.Emit.TypeBuilder.DefineMethod%28System.String%2CSystem.Reflection.MethodAttributes%29> method overload to define the method.</span></span> <span data-ttu-id="81bee-127">Çağrısında yöntemin resmi parametre türlerini belirtemezsiniz yönteminin genel tür parametreleri henüz, tanımlanmamış <xref:System.Reflection.Emit.TypeBuilder.DefineMethod%2A>.</span><span class="sxs-lookup"><span data-stu-id="81bee-127">The generic type parameters of the method are not yet defined, so you cannot specify the types of the method's formal parameters in the call to <xref:System.Reflection.Emit.TypeBuilder.DefineMethod%2A>.</span></span> <span data-ttu-id="81bee-128">Bu örnekte, yöntem adlı `Factory`.</span><span class="sxs-lookup"><span data-stu-id="81bee-128">In this example, the method is named `Factory`.</span></span> <span data-ttu-id="81bee-129">Ortak bir yöntemdir ve `static` (`Shared` Visual Basic'te).</span><span class="sxs-lookup"><span data-stu-id="81bee-129">The method is public and `static` (`Shared` in Visual Basic).</span></span>  
  
     [!code-csharp[GenericMethodHowTo#4](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#4)]
     [!code-vb[GenericMethodHowTo#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#4)]  
  
5.  <span data-ttu-id="81bee-130">Genel tür parametreleri tanımla `DemoMethod` parametrelerinin adlarını içeren bir dizeler dizisi geçirerek <xref:System.Reflection.Emit.MethodBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-130">Define the generic type parameters of `DemoMethod` by passing an array of strings containing the names of the parameters to the <xref:System.Reflection.Emit.MethodBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="81bee-131">Bu yöntem genel bir yöntem sağlar.</span><span class="sxs-lookup"><span data-stu-id="81bee-131">This makes the method a generic method.</span></span> <span data-ttu-id="81bee-132">Aşağıdaki kod yapar `Factory` tür parametreleri ile genel yöntem `TInput` ve `TOutput`.</span><span class="sxs-lookup"><span data-stu-id="81bee-132">The following code makes `Factory` a generic method with type parameters `TInput` and `TOutput`.</span></span> <span data-ttu-id="81bee-133">Kod okunmasını kolaylaştırmak için bu adları değişkenlerle tutmak için oluşturulan <xref:System.Reflection.Emit.GenericTypeParameterBuilder> iki tür parametreleri temsil eden nesne.</span><span class="sxs-lookup"><span data-stu-id="81bee-133">To make the code easier to read, variables with these names are created to hold the <xref:System.Reflection.Emit.GenericTypeParameterBuilder> objects representing the two type parameters.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#5](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#5)]
     [!code-vb[GenericMethodHowTo#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#5)]  
  
6.  <span data-ttu-id="81bee-134">İsteğe bağlı olarak özel kısıtlamalar tür parametreleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="81bee-134">Optionally add special constraints to the type parameters.</span></span> <span data-ttu-id="81bee-135">Özel kısıtlamalar kullanarak eklenir <xref:System.Reflection.Emit.GenericTypeParameterBuilder.SetGenericParameterAttributes%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-135">Special constraints are added using the <xref:System.Reflection.Emit.GenericTypeParameterBuilder.SetGenericParameterAttributes%2A> method.</span></span> <span data-ttu-id="81bee-136">Bu örnekte, `TOutput` bir başvuru türü olması ve parametresiz bir oluşturucuya sahip olması için sınırlı değildir.</span><span class="sxs-lookup"><span data-stu-id="81bee-136">In this example, `TOutput` is constrained to be a reference type and to have a parameterless constructor.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#6](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#6)]
     [!code-vb[GenericMethodHowTo#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#6)]  
  
7.  <span data-ttu-id="81bee-137">İsteğe bağlı olarak sınıfı ve arabirim kısıtlamaları tür parametreleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="81bee-137">Optionally add class and interface constraints to the type parameters.</span></span> <span data-ttu-id="81bee-138">Bu örnekte, tür parametresi `TOutput` uygulayan türler için kısıtlı `ICollection(Of TInput)` (`ICollection<TInput>` C#) arabirimi.</span><span class="sxs-lookup"><span data-stu-id="81bee-138">In this example, type parameter `TOutput` is constrained to types that implement the `ICollection(Of TInput)` (`ICollection<TInput>` in C#) interface.</span></span> <span data-ttu-id="81bee-139">Bu sağlar <xref:System.Collections.Generic.ICollection%601.Add%2A> yöntemi, öğeler eklemek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="81bee-139">This ensures that the <xref:System.Collections.Generic.ICollection%601.Add%2A> method can be used to add elements.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#7](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#7)]
     [!code-vb[GenericMethodHowTo#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#7)]  
  
8.  <span data-ttu-id="81bee-140">Yöntemin resmi parametrelerini tanımlamak kullanarak <xref:System.Reflection.Emit.MethodBuilder.SetParameters%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-140">Define the formal parameters of the method, using the <xref:System.Reflection.Emit.MethodBuilder.SetParameters%2A> method.</span></span> <span data-ttu-id="81bee-141">Bu örnekte, `Factory` yöntemi sahip bir parametre, bir dizi `TInput`.</span><span class="sxs-lookup"><span data-stu-id="81bee-141">In this example, the `Factory` method has one parameter, an array of `TInput`.</span></span> <span data-ttu-id="81bee-142">Bu tür çağrılarak oluşturulan <xref:System.Type.MakeArrayType%2A> yöntemi <xref:System.Reflection.Emit.GenericTypeParameterBuilder> temsil eden `TInput`.</span><span class="sxs-lookup"><span data-stu-id="81bee-142">This type is created by calling the <xref:System.Type.MakeArrayType%2A> method on the <xref:System.Reflection.Emit.GenericTypeParameterBuilder> that represents `TInput`.</span></span> <span data-ttu-id="81bee-143">Bağımsız değişkeni <xref:System.Reflection.Emit.MethodBuilder.SetParameters%2A> dizisidir <xref:System.Type> nesneleri.</span><span class="sxs-lookup"><span data-stu-id="81bee-143">The argument of <xref:System.Reflection.Emit.MethodBuilder.SetParameters%2A> is an array of <xref:System.Type> objects.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#8](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#8)]
     [!code-vb[GenericMethodHowTo#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#8)]  
  
9. <span data-ttu-id="81bee-144">Yöntemin dönüş türünü tanımlayın kullanarak <xref:System.Reflection.Emit.MethodBuilder.SetReturnType%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-144">Define the return type for the method, using the <xref:System.Reflection.Emit.MethodBuilder.SetReturnType%2A> method.</span></span> <span data-ttu-id="81bee-145">Bu örnekte, bir örneğini `TOutput` döndürülür.</span><span class="sxs-lookup"><span data-stu-id="81bee-145">In this example, an instance of `TOutput` is returned.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#9](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#9)]
     [!code-vb[GenericMethodHowTo#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#9)]  
  
10. <span data-ttu-id="81bee-146">Yöntem yayma gövde, kullanarak <xref:System.Reflection.Emit.ILGenerator>.</span><span class="sxs-lookup"><span data-stu-id="81bee-146">Emit the method body, using <xref:System.Reflection.Emit.ILGenerator>.</span></span> <span data-ttu-id="81bee-147">Ayrıntılar için yöntem gövdesi yayma için eşlik eden yordamına bakın.</span><span class="sxs-lookup"><span data-stu-id="81bee-147">For details, see the accompanying procedure for emitting the method body.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="81bee-148">Genel türler yöntemlerinin çağrıları yayma ve bu türlerin tür bağımsız değişkenleri genel yönteminin tür parametreleri olduğunda kullanmalısınız `static` <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29>, <xref:System.Reflection.Emit.TypeBuilder.GetMethod%28System.Type%2CSystem.Reflection.MethodInfo%29>, ve <xref:System.Reflection.Emit.TypeBuilder.GetField%28System.Type%2CSystem.Reflection.FieldInfo%29> yöntemi aşırı yüklemeleri <xref:System.Reflection.Emit.TypeBuilder> için sınıfı oluşturulan form yöntemlerden birini alın.</span><span class="sxs-lookup"><span data-stu-id="81bee-148">When you emit calls to methods of generic types, and the type arguments of those types are type parameters of the generic method, you must use the `static`<xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29>, <xref:System.Reflection.Emit.TypeBuilder.GetMethod%28System.Type%2CSystem.Reflection.MethodInfo%29>, and <xref:System.Reflection.Emit.TypeBuilder.GetField%28System.Type%2CSystem.Reflection.FieldInfo%29> method overloads of the <xref:System.Reflection.Emit.TypeBuilder> class to obtain constructed forms of the methods.</span></span> <span data-ttu-id="81bee-149">Yöntem gövdesi yayma eşlik eden yordamı bu gösterir.</span><span class="sxs-lookup"><span data-stu-id="81bee-149">The accompanying procedure for emitting the method body demonstrates this.</span></span>  
  
11. <span data-ttu-id="81bee-150">Contains yöntemi türü tamamlayın ve derlemeyi kaydedin.</span><span class="sxs-lookup"><span data-stu-id="81bee-150">Complete the type that contains the method and save the assembly.</span></span> <span data-ttu-id="81bee-151">Genel yöntem çağırma eşlik eden yordamı tamamlanmış yöntemini çağırmak için iki yolunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="81bee-151">The accompanying procedure for invoking the generic method shows two ways to invoke the completed method.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#14](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#14)]
     [!code-vb[GenericMethodHowTo#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#14)]  
  
<a name="procedureSection1"></a>   
### <a name="to-emit-the-method-body"></a><span data-ttu-id="81bee-152">Yöntem gövdesi yaymak üzere</span><span class="sxs-lookup"><span data-stu-id="81bee-152">To emit the method body</span></span>  
  
1.  <span data-ttu-id="81bee-153">Bir kod oluşturucuyu alın ve yerel değişkenleri ve etiketleri bildirin.</span><span class="sxs-lookup"><span data-stu-id="81bee-153">Get a code generator and declare local variables and labels.</span></span> <span data-ttu-id="81bee-154"><xref:System.Reflection.Emit.ILGenerator.DeclareLocal%2A> Yöntemi, yerel değişkenleri bildirmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="81bee-154">The <xref:System.Reflection.Emit.ILGenerator.DeclareLocal%2A> method is used to declare local variables.</span></span> <span data-ttu-id="81bee-155">`Factory` Yöntemi olan dört yerel değişkenler: `retVal` yeni tutmak için `TOutput` yöntemi tarafından döndürülen `ic` tutmak için `TOutput` zaman onu atandığında `ICollection(Of TInput)` (`ICollection<TInput>` C#), `input` için Giriş dizisi tutun `TInput` nesneleri ve `index` dizi boyunca yinelemek için.</span><span class="sxs-lookup"><span data-stu-id="81bee-155">The `Factory` method has four local variables: `retVal` to hold the new `TOutput` that is returned by the method, `ic` to hold the `TOutput` when it is cast to `ICollection(Of TInput)` (`ICollection<TInput>` in C#), `input` to hold the input array of `TInput` objects, and `index` to iterate through the array.</span></span> <span data-ttu-id="81bee-156">Yöntemi de döngü girmek için iki etiket vardır (`enterLoop`) ve üst döngü için bir tane (`loopAgain`), tanımlı kullanarak <xref:System.Reflection.Emit.ILGenerator.DefineLabel%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-156">The method also has two labels, one to enter the loop (`enterLoop`) and one for the top of the loop (`loopAgain`), defined using the <xref:System.Reflection.Emit.ILGenerator.DefineLabel%2A> method.</span></span>  
  
     <span data-ttu-id="81bee-157">Yöntemi yapacağı ilk şey, bağımsız değişkeni kullanarak yüklemek için olan <xref:System.Reflection.Emit.OpCodes.Ldarg_0> opcode ve yerel değişkende saklamak için `input` kullanarak <xref:System.Reflection.Emit.OpCodes.Stloc_S> işlem kodu.</span><span class="sxs-lookup"><span data-stu-id="81bee-157">The first thing the method does is to load its argument using <xref:System.Reflection.Emit.OpCodes.Ldarg_0> opcode and to store it in the local variable `input` using <xref:System.Reflection.Emit.OpCodes.Stloc_S> opcode.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#10](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#10)]
     [!code-vb[GenericMethodHowTo#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#10)]  
  
2.  <span data-ttu-id="81bee-158">Örneği oluşturmak için kod yayma `TOutput`, genel yöntemi aşırı yüklemesini kullanarak <xref:System.Activator.CreateInstance%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-158">Emit code to create an instance of `TOutput`, using the generic method overload of the <xref:System.Activator.CreateInstance%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="81bee-159">Bu aşırı yüklemeleri kullanarak belirtilen türün parametresiz bir oluşturucuya sahip olması gerektirir, kısıtlama eklemek için neden olduğu `TOutput`.</span><span class="sxs-lookup"><span data-stu-id="81bee-159">Using this overload requires the specified type to have a parameterless constructor, which is the reason for adding that constraint to `TOutput`.</span></span> <span data-ttu-id="81bee-160">Oluşturulan genel yöntem geçirerek oluşturma `TOutput` için <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A>.</span><span class="sxs-lookup"><span data-stu-id="81bee-160">Create the constructed generic method by passing `TOutput` to <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A>.</span></span> <span data-ttu-id="81bee-161">Yöntemini çağırmak için kod yayma sonra yerel değişkende depolamak üzere kod yayma `retVal` kullanma <xref:System.Reflection.Emit.OpCodes.Stloc_S></span><span class="sxs-lookup"><span data-stu-id="81bee-161">After emitting code to call the method, emit code to store it in the local variable `retVal` using <xref:System.Reflection.Emit.OpCodes.Stloc_S></span></span>  
  
     [!code-csharp[GenericMethodHowTo#11](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#11)]
     [!code-vb[GenericMethodHowTo#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#11)]  
  
3.  <span data-ttu-id="81bee-162">Yeni dönüştürmek için kod yayma `TOutput` nesnesini `ICollection(Of TInput)` ve yerel değişkende saklayın `ic`.</span><span class="sxs-lookup"><span data-stu-id="81bee-162">Emit code to cast the new `TOutput` object to `ICollection(Of TInput)` and store it in the local variable `ic`.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#31](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#31)]
     [!code-vb[GenericMethodHowTo#31](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#31)]  
  
4.  <span data-ttu-id="81bee-163">Alma bir <xref:System.Reflection.MethodInfo> temsil eden <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-163">Get a <xref:System.Reflection.MethodInfo> representing the <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="81bee-164">Yöntem üzerinde çalışan bir `ICollection(Of TInput)` (`ICollection<TInput>` C#), almak gerekli olmayacak biçimde `Add` yöntemi için belirli oluşturulan türü.</span><span class="sxs-lookup"><span data-stu-id="81bee-164">The method is acting on an `ICollection(Of TInput)` (`ICollection<TInput>` in C#), so it is necessary to get the `Add` method specific to that constructed type.</span></span> <span data-ttu-id="81bee-165">Kullanamazsınız <xref:System.Type.GetMethod%2A> bu almak için yöntemi <xref:System.Reflection.MethodInfo> doğrudan `icollOfTInput`, çünkü <xref:System.Type.GetMethod%2A> ile oluşturulan bir türü desteklemiyor. bir <xref:System.Reflection.Emit.GenericTypeParameterBuilder>.</span><span class="sxs-lookup"><span data-stu-id="81bee-165">You cannot use the <xref:System.Type.GetMethod%2A> method to get this <xref:System.Reflection.MethodInfo> directly from `icollOfTInput`, because <xref:System.Type.GetMethod%2A> is not supported on a type that has been constructed with a <xref:System.Reflection.Emit.GenericTypeParameterBuilder>.</span></span> <span data-ttu-id="81bee-166">Bunun yerine, çağrı <xref:System.Type.GetMethod%2A> üzerinde `icoll`, genel tür tanımı içeren <xref:System.Collections.Generic.ICollection%601> genel arabirim.</span><span class="sxs-lookup"><span data-stu-id="81bee-166">Instead, call <xref:System.Type.GetMethod%2A> on `icoll`, which contains the generic type definition for the <xref:System.Collections.Generic.ICollection%601> generic interface.</span></span> <span data-ttu-id="81bee-167">Ardından <xref:System.Reflection.Emit.TypeBuilder.GetMethod%28System.Type%2CSystem.Reflection.MethodInfo%29> `static` yöntemini üretmeye <xref:System.Reflection.MethodInfo> oluşturulan türü için.</span><span class="sxs-lookup"><span data-stu-id="81bee-167">Then use the <xref:System.Reflection.Emit.TypeBuilder.GetMethod%28System.Type%2CSystem.Reflection.MethodInfo%29>`static` method to produce the <xref:System.Reflection.MethodInfo> for the constructed type.</span></span> <span data-ttu-id="81bee-168">Aşağıdaki kod bu gösterir.</span><span class="sxs-lookup"><span data-stu-id="81bee-168">The following code demonstrates this.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#12](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#12)]
     [!code-vb[GenericMethodHowTo#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#12)]  
  
5.  <span data-ttu-id="81bee-169">Başlatmak için kod yayma `index` değişken, 32 bit tamsayı 0 yükleniyor ve değişkende depolayarak.</span><span class="sxs-lookup"><span data-stu-id="81bee-169">Emit code to initialize the `index` variable, by loading a 32-bit integer 0 and storing it in the variable.</span></span> <span data-ttu-id="81bee-170">Etiket şube kodu yayma `enterLoop`.</span><span class="sxs-lookup"><span data-stu-id="81bee-170">Emit code to branch to the label `enterLoop`.</span></span> <span data-ttu-id="81bee-171">Döngünün içinde olduğu için bu etiket henüz, işaretlendi değil.</span><span class="sxs-lookup"><span data-stu-id="81bee-171">This label has not yet been marked, because it is inside the loop.</span></span> <span data-ttu-id="81bee-172">Döngü kodunu sonraki adımda yayınlanır.</span><span class="sxs-lookup"><span data-stu-id="81bee-172">Code for the loop is emitted in the next step.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#32](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#32)]
     [!code-vb[GenericMethodHowTo#32](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#32)]  
  
6.  <span data-ttu-id="81bee-173">Döngünün kod yayma.</span><span class="sxs-lookup"><span data-stu-id="81bee-173">Emit code for the loop.</span></span> <span data-ttu-id="81bee-174">Döngü üstündeki çağırarak işaretlemek için ilk adımdır <xref:System.Reflection.Emit.ILGenerator.MarkLabel%2A> ile `loopAgain` etiketi.</span><span class="sxs-lookup"><span data-stu-id="81bee-174">The first step is to mark the top of the loop, by calling <xref:System.Reflection.Emit.ILGenerator.MarkLabel%2A> with the `loopAgain` label.</span></span> <span data-ttu-id="81bee-175">Etiket branch deyimleri artık bu noktaya kodda dal.</span><span class="sxs-lookup"><span data-stu-id="81bee-175">Branch statements that use the label will now branch to this point in the code.</span></span> <span data-ttu-id="81bee-176">Göndermek için sonraki adımdır `TOutput` için cast nesne `ICollection(Of TInput)`, yığına.</span><span class="sxs-lookup"><span data-stu-id="81bee-176">The next step is to push the `TOutput` object, cast to `ICollection(Of TInput)`, onto the stack.</span></span> <span data-ttu-id="81bee-177">Hemen gerekli değildir, ancak çağırma konumda olması gereken `Add` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-177">It is not needed immediately, but needs to be in position for calling the `Add` method.</span></span> <span data-ttu-id="81bee-178">Giriş dizisi yığına gönderilen sonraki sonra `index` diziye geçerli dizini içeren değişken.</span><span class="sxs-lookup"><span data-stu-id="81bee-178">Next the input array is pushed onto the stack, then the `index` variable containing the current index into the array.</span></span> <span data-ttu-id="81bee-179"><xref:System.Reflection.Emit.OpCodes.Ldelem> Opcode dizin ve dizi yığından POP ve dizinlenmiş dizi öğesi yığına iter.</span><span class="sxs-lookup"><span data-stu-id="81bee-179">The <xref:System.Reflection.Emit.OpCodes.Ldelem> opcode pops the index and the array off the stack and pushes the indexed array element onto the stack.</span></span> <span data-ttu-id="81bee-180">Yığın çağrısı için hazır <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> yöntemi, koleksiyon ve yeni bir öğesi yığından POP ve öğeyi koleksiyona ekler.</span><span class="sxs-lookup"><span data-stu-id="81bee-180">The stack is now ready for the call to the <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> method, which pops the collection and the new element off the stack and adds the element to the collection.</span></span>  
  
     <span data-ttu-id="81bee-181">Döngü kodda kalan döngü tamamlanmış olup olmadığını görmek için sınar ve dizin artırır: dizin ve 32 bit tamsayı 1 yığına gönderilir ve eklenen, yığında; toplam bırakarak sum depolanan `index`.</span><span class="sxs-lookup"><span data-stu-id="81bee-181">The rest of the code in the loop increments the index and tests to see whether the loop is finished: The index and a 32-bit integer 1 are pushed onto the stack and added, leaving the sum on the stack; the sum is stored in `index`.</span></span> <span data-ttu-id="81bee-182"><xref:System.Reflection.Emit.ILGenerator.MarkLabel%2A> döngü için giriş noktası olarak bu noktasını ayarlamak için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="81bee-182"><xref:System.Reflection.Emit.ILGenerator.MarkLabel%2A> is called to set this point as the entry point for the loop.</span></span> <span data-ttu-id="81bee-183">Dizini yeniden yüklenir.</span><span class="sxs-lookup"><span data-stu-id="81bee-183">The index is loaded again.</span></span> <span data-ttu-id="81bee-184">Giriş dizisi yığında gönderilir ve <xref:System.Reflection.Emit.OpCodes.Ldlen> uzunluğu almak için yayınlanır.</span><span class="sxs-lookup"><span data-stu-id="81bee-184">The input array is pushed on the stack, and <xref:System.Reflection.Emit.OpCodes.Ldlen> is emitted to get its length.</span></span> <span data-ttu-id="81bee-185">Dizin ve uzunluk yığında sunulmuştur ve <xref:System.Reflection.Emit.OpCodes.Clt> bunları Karşılaştırılacak yayınlanır.</span><span class="sxs-lookup"><span data-stu-id="81bee-185">The index and the length are now on the stack, and <xref:System.Reflection.Emit.OpCodes.Clt> is emitted to compare them.</span></span> <span data-ttu-id="81bee-186">Dizinin uzunluğundan az ise <xref:System.Reflection.Emit.OpCodes.Brtrue_S> dalları geri döngü başlangıcı.</span><span class="sxs-lookup"><span data-stu-id="81bee-186">If the index is less than the length, <xref:System.Reflection.Emit.OpCodes.Brtrue_S> branches back to the beginning of the loop.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#13](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#13)]
     [!code-vb[GenericMethodHowTo#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#13)]  
  
7.  <span data-ttu-id="81bee-187">Göndermek için kod yayma `TOutput` nesne yığına ve elde edilen yöntemi döndürür.</span><span class="sxs-lookup"><span data-stu-id="81bee-187">Emit code to push the `TOutput` object onto the stack and return from the method.</span></span> <span data-ttu-id="81bee-188">Yerel değişkenler `retVal` ve `ic` hem de yeni başvuru içeren `TOutput`; `ic` kullanılan erişmek için yalnızca <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-188">The local variables `retVal` and `ic` both contain references to the new `TOutput`; `ic` is used only to access the <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> method.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#33](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#33)]
     [!code-vb[GenericMethodHowTo#33](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#33)]  
  
<a name="procedureSection2"></a>   
### <a name="to-invoke-the-generic-method"></a><span data-ttu-id="81bee-189">Genel yöntemi çağırma</span><span class="sxs-lookup"><span data-stu-id="81bee-189">To invoke the generic method</span></span>  
  
1.  <span data-ttu-id="81bee-190">`Factory` bir genel yöntem tanımıdır.</span><span class="sxs-lookup"><span data-stu-id="81bee-190">`Factory` is a generic method definition.</span></span> <span data-ttu-id="81bee-191">Bunu çağırmak için türleri için genel tür parametreleri atamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="81bee-191">In order to invoke it, you must assign types to its generic type parameters.</span></span> <span data-ttu-id="81bee-192">Kullanım <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A> Bunu yapmak için yöntem.</span><span class="sxs-lookup"><span data-stu-id="81bee-192">Use the <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A> method to do this.</span></span> <span data-ttu-id="81bee-193">Aşağıdaki kod bir oluşturulmuş genel yöntem oluşturur belirtme <xref:System.String> için `TInput` ve `List(Of String)` (`List<string>` C#) için `TOutput`ve yönteminin bir dize gösterimi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="81bee-193">The following code creates a constructed generic method, specifying <xref:System.String> for `TInput` and `List(Of String)` (`List<string>` in C#) for `TOutput`, and displays a string representation of the method.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#21](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#21)]
     [!code-vb[GenericMethodHowTo#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#21)]  
  
2.  <span data-ttu-id="81bee-194">Yöntem geç bağlama çağırmak için <xref:System.Reflection.MethodBase.Invoke%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="81bee-194">To invoke the method late-bound, use the <xref:System.Reflection.MethodBase.Invoke%2A> method.</span></span> <span data-ttu-id="81bee-195">Aşağıdaki kod bir dizi oluşturur <xref:System.Object>tek alt öğesi olarak içeren bir dizeler dizisi ve genel yöntemi için bağımsız değişken listesi olarak geçirir.</span><span class="sxs-lookup"><span data-stu-id="81bee-195">The following code creates an array of <xref:System.Object>, containing as its only element an array of strings, and passes it as the argument list for the generic method.</span></span> <span data-ttu-id="81bee-196">Öğesinin ilk parametresi <xref:System.Reflection.MethodBase.Invoke%2A> yöntemi null bir başvuru olduğundan `static`.</span><span class="sxs-lookup"><span data-stu-id="81bee-196">The first parameter of <xref:System.Reflection.MethodBase.Invoke%2A> is a null reference because the method is `static`.</span></span> <span data-ttu-id="81bee-197">Dönüş değeri için cast `List(Of String)`, ve ilk öğe görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="81bee-197">The return value is cast to `List(Of String)`, and its first element is displayed.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#22](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#22)]
     [!code-vb[GenericMethodHowTo#22](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#22)]  
  
3.  <span data-ttu-id="81bee-198">Bir temsilci kullanarak yöntemini çağırmak için oluşturulan genel yöntem imzası eşleşen bir temsilci olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="81bee-198">To invoke the method using a delegate, you must have a delegate that matches the signature of the constructed generic method.</span></span> <span data-ttu-id="81bee-199">Bunu yapmak için kolay bir yol genel temsilcisi oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="81bee-199">An easy way to do this is to create a generic delegate.</span></span> <span data-ttu-id="81bee-200">Aşağıdaki kod genel temsilcisi örneği oluşturur `D` örnek kodda tanımlanan kullanarak <xref:System.Delegate.CreateDelegate%28System.Type%2CSystem.Reflection.MethodInfo%29?displayProperty=nameWithType> yöntemi aşırı yüklemesini ve temsilcisini çağırır.</span><span class="sxs-lookup"><span data-stu-id="81bee-200">The following code creates an instance of the generic delegate `D` defined in the example code, using the <xref:System.Delegate.CreateDelegate%28System.Type%2CSystem.Reflection.MethodInfo%29?displayProperty=nameWithType> method overload, and invokes the delegate.</span></span> <span data-ttu-id="81bee-201">Temsilciler geç bağlama çağrıları daha iyi gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="81bee-201">Delegates perform better than late-bound calls.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#23](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#23)]
     [!code-vb[GenericMethodHowTo#23](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#23)]  
  
4.  <span data-ttu-id="81bee-202">Verilmiş yöntemi de kaydedilmiş derlemeye başvuran bir programdan çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="81bee-202">The emitted method can also be called from a program that refers to the saved assembly.</span></span>  
  
## <a name="example"></a><span data-ttu-id="81bee-203">Örnek</span><span class="sxs-lookup"><span data-stu-id="81bee-203">Example</span></span>  
 <span data-ttu-id="81bee-204">Aşağıdaki kod örneğinde bir nongeneric türü oluşturur `DemoType`, genel bir yöntem `Factory`.</span><span class="sxs-lookup"><span data-stu-id="81bee-204">The following code example creates a nongeneric type, `DemoType`, with a generic method, `Factory`.</span></span> <span data-ttu-id="81bee-205">Bu yöntem iki genel tür parametreleri olan `TInput` giriş türünü belirtin ve `TOutput` çıkış türünü belirtmek için.</span><span class="sxs-lookup"><span data-stu-id="81bee-205">This method has two generic type parameters, `TInput` to specify an input type and `TOutput` to specify an output type.</span></span> <span data-ttu-id="81bee-206">`TOutput` Uygulamak için tür parametresi kısıtlı `ICollection<TInput>` (`ICollection(Of TInput)` Visual Basic'te), bir başvuru türü olması ve parametresiz bir oluşturucuya sahip.</span><span class="sxs-lookup"><span data-stu-id="81bee-206">The `TOutput` type parameter is constrained to implement `ICollection<TInput>` (`ICollection(Of TInput)` in Visual Basic), to be a reference type, and to have a parameterless constructor.</span></span>  
  
 <span data-ttu-id="81bee-207">Bir dizi bir biçimsel parametresi yöntemi vardır, `TInput`.</span><span class="sxs-lookup"><span data-stu-id="81bee-207">The method has one formal parameter, which is an array of `TInput`.</span></span> <span data-ttu-id="81bee-208">Yöntem örneği döndürür `TOutput` giriş dizinin tüm öğeleri içerir.</span><span class="sxs-lookup"><span data-stu-id="81bee-208">The method returns an instance of `TOutput` that contains all the elements of the input array.</span></span> <span data-ttu-id="81bee-209">`TOutput` uygulayan herhangi bir genel koleksiyon türü olabilir <xref:System.Collections.Generic.ICollection%601> genel arabirim.</span><span class="sxs-lookup"><span data-stu-id="81bee-209">`TOutput` can be any generic collection type that implements the <xref:System.Collections.Generic.ICollection%601> generic interface.</span></span>  
  
 <span data-ttu-id="81bee-210">Kod çalıştırıldığında dinamik derleme DemoGenericMethod1.dll kaydedilir ve kullanarak incelenebilir [Ildasm.exe (IL ayrıştırıcı)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md).</span><span class="sxs-lookup"><span data-stu-id="81bee-210">When the code is executed, the dynamic assembly is saved as DemoGenericMethod1.dll, and can be examined using the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="81bee-211">Kod yayma öğrenmek için iyi bir şekilde yayma ve derleyici tarafından üretilen MSIL incelemek için ayrıştırıcı kullanın çalıştığınız görevi gerçekleştiren bir Visual Basic, C# veya Visual C++ programı yazmaktır.</span><span class="sxs-lookup"><span data-stu-id="81bee-211">A good way to learn how to emit code is to write a Visual Basic, C#, or Visual C++ program that performs the task you are trying to emit, and use the disassembler to examine the MSIL produced by the compiler.</span></span>  
  
 <span data-ttu-id="81bee-212">Kod örneği verilmiş yöntemi eşdeğerdir kaynak kodunu içerir.</span><span class="sxs-lookup"><span data-stu-id="81bee-212">The code example includes source code that is equivalent to the emitted method.</span></span> <span data-ttu-id="81bee-213">Geç bağlama verilmiş yöntemi çağrılır ve ayrıca kullanarak genel bir temsilci aşağıdaki kod örneğinde bildirilmedi.</span><span class="sxs-lookup"><span data-stu-id="81bee-213">The emitted method is invoked late-bound and also by using a generic delegate declared in the code example.</span></span>  
  
 [!code-csharp[GenericMethodHowTo#1](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#1)]
 [!code-vb[GenericMethodHowTo#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#1)]  
  
## <a name="compiling-the-code"></a><span data-ttu-id="81bee-214">Kod Derleniyor</span><span class="sxs-lookup"><span data-stu-id="81bee-214">Compiling the Code</span></span>  
  
-   <span data-ttu-id="81bee-215">C# kodunu `using` deyimleri (`Imports` Visual Basic'te) derleme için gerekli.</span><span class="sxs-lookup"><span data-stu-id="81bee-215">The code contains the C# `using` statements (`Imports` in Visual Basic) necessary for compilation.</span></span>  
  
-   <span data-ttu-id="81bee-216">Hiçbir ek derleme başvurularını gereklidir.</span><span class="sxs-lookup"><span data-stu-id="81bee-216">No additional assembly references are required.</span></span>  
  
-   <span data-ttu-id="81bee-217">Csc.exe, vbc.exe veya cl.exe kullanarak komut satırında kodu derleyin.</span><span class="sxs-lookup"><span data-stu-id="81bee-217">Compile the code at the command line using csc.exe, vbc.exe, or cl.exe.</span></span> <span data-ttu-id="81bee-218">Visual Studio'da Kodu derlemek için bir konsol uygulama projesi şablonunda yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="81bee-218">To compile the code in Visual Studio, place it in a console application project template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="81bee-219">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="81bee-219">See Also</span></span>  
 <xref:System.Reflection.Emit.MethodBuilder>  
 [<span data-ttu-id="81bee-220">Nasıl yapılır: Yansıma Yayma ile Genel Tür Tanımlama</span><span class="sxs-lookup"><span data-stu-id="81bee-220">How to: Define a Generic Type with Reflection Emit</span></span>](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md)
