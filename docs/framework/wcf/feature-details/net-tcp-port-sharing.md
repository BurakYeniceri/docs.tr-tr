---
title: "Net.TCP Bağlantı Noktası Paylaşımı"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- port activation [WCF]
- port sharing [WCF]
ms.assetid: f13692ee-a179-4439-ae72-50db9534eded
caps.latest.revision: "14"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: cc0736b0c13f286b999fc0e098a45364141945da
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/21/2017
---
# <a name="nettcp-port-sharing"></a><span data-ttu-id="7f74f-102">Net.TCP Bağlantı Noktası Paylaşımı</span><span class="sxs-lookup"><span data-stu-id="7f74f-102">Net.TCP Port Sharing</span></span>
[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]<span data-ttu-id="7f74f-103">Yeni bir TCP tabanlı ağ protokolü (net.tcp://) için yüksek performanslı iletişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f74f-103"> provides a new TCP-based network protocol (net.tcp://) for high-performance communication.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="7f74f-104">aynı zamanda yeni bir sistem bileşeni olan birden çok kullanıcı işlemleri arasında paylaşılacak net.tcp bağlantı noktalarını etkinleştirir Net.TCP bağlantı noktası Paylaşımı hizmeti sunar.</span><span class="sxs-lookup"><span data-stu-id="7f74f-104"> also introduces a new system component, the Net.TCP Port Sharing Service that enables net.tcp ports to be shared across multiple user processes.</span></span>  
  
## <a name="background-and-motivation"></a><span data-ttu-id="7f74f-105">Arka plan ve amacı</span><span class="sxs-lookup"><span data-stu-id="7f74f-105">Background and Motivation</span></span>  
 <span data-ttu-id="7f74f-106">TCP/IP Protokolü ilk olarak kullanılmıştır, yalnızca az sayıda uygulama protokolleri yapılan bunu kullanın.</span><span class="sxs-lookup"><span data-stu-id="7f74f-106">When the TCP/IP protocol was first introduced, only a small number of application protocols made use of it.</span></span> <span data-ttu-id="7f74f-107">TCP/IP bağlantı noktası numaralarını her uygulama protokolü için bir benzersiz 16 bit bağlantı noktası numarası atayarak uygulamaları birbirinden ayırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="7f74f-107">TCP/IP used port numbers to differentiate between applications by assigning a unique 16-bit port number to each application protocol.</span></span> <span data-ttu-id="7f74f-108">Örneğin, HTTP trafiği 80 numaralı TCP bağlantı noktasını kullanmak için bugün standartlaştırılmıştır, TCP bağlantı noktası 25 SMTP kullanır ve FTP 20 ve 21 TCP bağlantı noktalarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="7f74f-108">For example, HTTP traffic today is standardized to use TCP port 80, SMTP uses TCP port 25, and FTP uses TCP ports 20 and 21.</span></span> <span data-ttu-id="7f74f-109">Bir taşıma olarak TCP kullanan diğer uygulamalar, kural tarafından ya da resmi Standartlaştırma üzerinden başka bir kullanılabilir bağlantı noktası numarası seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f74f-109">Other applications using TCP as a transport can choose another available port number, either by convention or through formal standardization.</span></span>  
  
 <span data-ttu-id="7f74f-110">Uygulamalar arasında ayrım yapmak için bağlantı noktası numaralarını kullanarak güvenlik sorunlarla karşılaştı.</span><span class="sxs-lookup"><span data-stu-id="7f74f-110">Using port numbers to distinguish between applications had security problems.</span></span> <span data-ttu-id="7f74f-111">Güvenlik duvarları, genellikle standart olmayan bağlantı noktası kullanan bir uygulama dağıtımı genellikle karmaşık ya da Kurumsal ve kişisel güvenlik duvarları nedeniyle bile olanaksız böylece birkaç iyi bilinen giriş noktaları dışındaki tüm bağlantı noktalarındaki TCP trafiği engellemek için yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="7f74f-111">Firewalls are generally configured to block TCP traffic on all ports except for a few well-known entry points, so deploying an application that uses a non-standard port is often complicated or even impossible due to the presence of corporate and personal firewalls.</span></span> <span data-ttu-id="7f74f-112">Zaten izin verilen standart, iyi bilinen bağlantı noktaları üzerinden iletişim kurabilen uygulamaları dış saldırı yüzeyini azaltın.</span><span class="sxs-lookup"><span data-stu-id="7f74f-112">Applications that can communicate over standard, well-known ports that are already permitted, reduce the external attack surface.</span></span> <span data-ttu-id="7f74f-113">Birçok ağ uygulamaları HTTP kullanan yapmak çoğu Güvenlik Duvarı varsayılan olarak TCP bağlantı noktası 80 üzerinde trafiğe izin verecek şekilde yapılandırıldığından protokol.</span><span class="sxs-lookup"><span data-stu-id="7f74f-113">Many network applications make use of the HTTP protocol because most firewalls are configured by default to allow traffic on TCP port 80.</span></span>  
  
 <span data-ttu-id="7f74f-114">HTTP. Trafiği birçok farklı HTTP uygulama için tek bir TCP bağlantı noktası üzerinde çoğaltıldı SYS modeli Windows platformunda standart haline gelmiştir.</span><span class="sxs-lookup"><span data-stu-id="7f74f-114">The HTTP.SYS model in which traffic for many different HTTP applications is multiplexed onto a single TCP port has become standard on the Windows platform.</span></span> <span data-ttu-id="7f74f-115">Bu güvenlik duvarı için ortak bir denetim noktası sağlar yapabilirsiniz yeni uygulamaları derleme dağıtım maliyetini en aza indirmek uygulama geliştiricileri verirken Yöneticiler ağı kullanın.</span><span class="sxs-lookup"><span data-stu-id="7f74f-115">This provides a common point of control for firewall administrators while allowing application developers to minimize the deployment cost of building new applications that can make use of the network.</span></span>  
  
 <span data-ttu-id="7f74f-116">Birden çok HTTP uygulamalar arasında bağlantı noktalarını paylaşma olanağı uzun bir özellik Internet Information Services (IIS) olmuştur.</span><span class="sxs-lookup"><span data-stu-id="7f74f-116">The ability to share ports across multiple HTTP applications has long been a feature of Internet Information Services (IIS).</span></span> <span data-ttu-id="7f74f-117">Ancak, yalnızca HTTP sunulmasıyla idi. SYS (çekirdek modu HTTP protokolü dinleyici) ile [!INCLUDE[iis601](../../../../includes/iis601-md.md)] bu altyapı tam olarak genelleştirilmiş.</span><span class="sxs-lookup"><span data-stu-id="7f74f-117">However, it was only with the introduction of HTTP.SYS (the kernel-mode HTTP protocol listener) with [!INCLUDE[iis601](../../../../includes/iis601-md.md)] that this infrastructure was fully generalized.</span></span> <span data-ttu-id="7f74f-118">Aslında, HTTP. SYS TCP bağlantı noktaları HTTP trafiği için ayrılmış paylaşmak isteğe bağlı bir kullanıcı işlemler sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f74f-118">In effect, HTTP.SYS allows arbitrary user processes to share the TCP ports dedicated to HTTP traffic.</span></span> <span data-ttu-id="7f74f-119">Bu özellik birçok HTTP uygulamalarının ayrı, yalıtılmış işlemlerde aynı fiziksel bilgisayarda TCP bağlantı noktası 80 trafiği alıp göndermek için gereken ağ altyapısı paylaşırken arada olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f74f-119">This capability allows many HTTP applications to coexist on the same physical machine in separate, isolated processes while sharing the network infrastructure required to send and receive traffic over TCP port 80.</span></span> <span data-ttu-id="7f74f-120">Net.TCP bağlantı noktası Paylaşımı hizmeti bağlantı noktası paylaşma net.tcp uygulamalar için aynı türde sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f74f-120">The Net.TCP Port Sharing Service enables the same type of port sharing for net.tcp applications.</span></span>  
  
## <a name="port-sharing-architecture"></a><span data-ttu-id="7f74f-121">Bağlantı noktası paylaşımı mimarisi</span><span class="sxs-lookup"><span data-stu-id="7f74f-121">Port Sharing Architecture</span></span>  
 <span data-ttu-id="7f74f-122">Bağlantı noktası paylaşımı mimarisinde [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] üç ana bileşeni vardır:</span><span class="sxs-lookup"><span data-stu-id="7f74f-122">The Port Sharing architecture in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] has three main components:</span></span>  
  
-   <span data-ttu-id="7f74f-123">Bir çalışan işlem: paylaşılan bağlantı noktalarını kullanarak net.tcp:// iletişim herhangi bir işlem.</span><span class="sxs-lookup"><span data-stu-id="7f74f-123">A Worker Process: Any process communicating over net.tcp:// using shared ports.</span></span>  
  
-   <span data-ttu-id="7f74f-124">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] TCP taşıma: net.tcp:// protokolünü uygular.</span><span class="sxs-lookup"><span data-stu-id="7f74f-124">The [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] TCP transport: Implements the net.tcp:// protocol.</span></span>  
  
-   <span data-ttu-id="7f74f-125">Net.TCP bağlantı noktası Paylaşımı hizmeti: aynı TCP bağlantı noktasını paylaşmak çok çalışan işlemi sağlar.</span><span class="sxs-lookup"><span data-stu-id="7f74f-125">The Net.TCP Port Sharing Service: Allows many worker processes to share the same TCP port.</span></span>  
  
 <span data-ttu-id="7f74f-126">Net.TCP bağlantı noktası Paylaşımı hizmeti net.tcp:// bağlantıları üzerinden bağlanma çalışan işlemleri adına kabul eden bir kullanıcı modu Windows hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="7f74f-126">The Net.TCP Port Sharing Service is a user-mode Windows service that accepts net.tcp:// connections on behalf of the worker processes that connect through it.</span></span> <span data-ttu-id="7f74f-127">Bir yuva bağlantısı geldiğinde hedef adresini almak için gelen ileti akışı Paylaşım Hizmeti bağlantı noktası olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="7f74f-127">When a socket connection arrives, the port sharing service inspects the incoming message stream to obtain its destination address.</span></span> <span data-ttu-id="7f74f-128">Bu adresi temelinde, hizmet bağlantı noktası veri akışını sonuçta işler uygulamaya yönlendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7f74f-128">Based on this address, the port sharing service can route the data stream to the application that ultimately processes it.</span></span>  
  
 <span data-ttu-id="7f74f-129">Zaman bir [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] açar, net.tcp:// bağlantı noktası kullanan hizmet [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] TCP Aktarım altyapısı uygulama işleminde bir TCP yuvasını doğrudan açılmaz.</span><span class="sxs-lookup"><span data-stu-id="7f74f-129">When a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service that uses net.tcp:// port sharing opens, the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] TCP transport infrastructure does not directly open a TCP socket in the application process.</span></span> <span data-ttu-id="7f74f-130">Bunun yerine, aktarım altyapısı Net.TCP bağlantı noktası Paylaşımı hizmeti hizmetin taban adresi Tekdüzen Kaynak Tanımlayıcısı (URI) kaydeder ve iletileri kendi adına dinlemek için hizmet bağlantı noktası bekler.</span><span class="sxs-lookup"><span data-stu-id="7f74f-130">Instead, the transport infrastructure registers the service’s base address Uniform Resource Identifier (URI) with the Net.TCP Port Sharing Service and waits for the port sharing service to listen for messages on its behalf.</span></span>  <span data-ttu-id="7f74f-131">Hizmet bağlantı noktası geldikçe uygulama hizmetine gönderilen iletiler gönderir.</span><span class="sxs-lookup"><span data-stu-id="7f74f-131">The port sharing service dispatches messages addressed to the application service as they arrive.</span></span>  
  
## <a name="installing-port-sharing"></a><span data-ttu-id="7f74f-132">Bağlantı noktası paylaşımı yükleme</span><span class="sxs-lookup"><span data-stu-id="7f74f-132">Installing Port Sharing</span></span>  
 <span data-ttu-id="7f74f-133">Net.TCP bağlantı noktası Paylaşımı hizmeti destekleyen tüm işletim sistemlerinde kullanılabilir [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], ancak hizmet varsayılan olarak etkin değildir.</span><span class="sxs-lookup"><span data-stu-id="7f74f-133">The Net.TCP Port Sharing Service is available on all operating systems that support [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], but the service is not enabled by default.</span></span> <span data-ttu-id="7f74f-134">Bir güvenlik önlemi olarak yönetici Net.TCP bağlantı noktası Paylaşımı hizmeti ilk kullanım önce el ile etkinleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="7f74f-134">As a security precaution, an administrator must manually enable the Net.TCP Port Sharing Service prior to first use.</span></span> <span data-ttu-id="7f74f-135">Net.TCP bağlantı noktası Paylaşımı hizmeti bağlantı noktası Paylaşımı hizmeti tarafından sahip olunan ağ yuva birkaç özelliklerini değiştirmenize izin veren yapılandırma seçenekleri sunar.</span><span class="sxs-lookup"><span data-stu-id="7f74f-135">The Net.TCP Port Sharing Service exposes configuration options that allow you to manipulate several characteristics of the network sockets owned by the port sharing service.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="7f74f-136">[Nasıl yapılır: Net.TCP bağlantı noktası hizmetini etkinleştirmek](../../../../docs/framework/wcf/feature-details/how-to-enable-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="7f74f-136"> [How to: Enable the Net.TCP Port Sharing Service](../../../../docs/framework/wcf/feature-details/how-to-enable-the-net-tcp-port-sharing-service.md).</span></span>  
  
## <a name="using-nettcp-port-sharing-in-an-application"></a><span data-ttu-id="7f74f-137">NET.TCP bir uygulamada bağlantı noktası kullanma</span><span class="sxs-lookup"><span data-stu-id="7f74f-137">Using Net.tcp Port Sharing in an Application</span></span>  
 <span data-ttu-id="7f74f-138">İçinde net.tcp:// bağlantı noktası kullanmak için en kolay yolu, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] uygulamasıdır kullanarak hizmet kullanıma sunmak için <xref:System.ServiceModel.NetTcpBinding> ve ardından Net.TCP bağlantı noktası Paylaşımı hizmeti kullanarak etkinleştirmek için <xref:System.ServiceModel.NetTcpBinding.PortSharingEnabled%2A> özelliği.</span><span class="sxs-lookup"><span data-stu-id="7f74f-138">The easiest way to use net.tcp:// port sharing in your [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] application is to expose a service using the <xref:System.ServiceModel.NetTcpBinding> and then to enable Net.TCP Port Sharing Service using the <xref:System.ServiceModel.NetTcpBinding.PortSharingEnabled%2A> property.</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="7f74f-139">Bunu yapmak için bkz: nasıl [nasıl yapılır: bir WCF hizmetini kullan bağlantı noktası paylaşımı için yapılandırma](../../../../docs/framework/wcf/feature-details/how-to-configure-a-wcf-service-to-use-port-sharing.md).</span><span class="sxs-lookup"><span data-stu-id="7f74f-139"> how to do this, see [How to: Configure a WCF Service to Use Port Sharing](../../../../docs/framework/wcf/feature-details/how-to-configure-a-wcf-service-to-use-port-sharing.md).</span></span>  
  
## <a name="security-implications-of-port-sharing"></a><span data-ttu-id="7f74f-140">Bağlantı noktası paylaşımı güvenlik etkileri</span><span class="sxs-lookup"><span data-stu-id="7f74f-140">Security Implications of Port Sharing</span></span>  
 <span data-ttu-id="7f74f-141">Net.TCP bağlantı noktası Paylaşımı hizmeti işlemleri uygulamalar ve ağ arasında bir katmanı sağlasa da, ağ üzerinde doğrudan dinleme gibi bağlantı noktası Paylaşımı kullanan uygulamalar yine güvenli hale getirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="7f74f-141">Although the Net.TCP Port Sharing Service provides a layer of processing between applications and the network, applications that use port sharing should still be secured as if they were directly listening on the network.</span></span> <span data-ttu-id="7f74f-142">Özellikle, bağlantı noktası Paylaşımı kullanan uygulamalar, altında çalıştığı işlem ayrıcalıkları değerlendirmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="7f74f-142">Specifically, applications that use port sharing should evaluate the process privileges under which they run.</span></span> <span data-ttu-id="7f74f-143">Ağ iletişimi için gereken işlem ayrıcalıklar en az sayıda ile çalıştırır yerleşik ağ hizmeti hesabını kullanarak uygulamanızı çalıştıran göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="7f74f-143">Consider running your application using the built-in Network Service account, which runs with the minimal set of process privileges required for network communication.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7f74f-144">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="7f74f-144">See Also</span></span>  
 [<span data-ttu-id="7f74f-145">Net.TCP bağlantı noktası hizmetini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7f74f-145">Configuring the Net.TCP Port Sharing Service</span></span>](../../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)  
 [<span data-ttu-id="7f74f-146">Barındırma</span><span class="sxs-lookup"><span data-stu-id="7f74f-146">Hosting</span></span>](../../../../docs/framework/wcf/feature-details/hosting.md)  
 [<span data-ttu-id="7f74f-147">Nasıl yapılır: bağlantı noktası paylaşımı için bir WCF hizmetini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="7f74f-147">How to: Configure a WCF Service to Use Port Sharing</span></span>](../../../../docs/framework/wcf/feature-details/how-to-configure-a-wcf-service-to-use-port-sharing.md)  
 [<span data-ttu-id="7f74f-148">Nasıl yapılır: Net.TCP bağlantı noktası hizmetini etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="7f74f-148">How to: Enable the Net.TCP Port Sharing Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-enable-the-net-tcp-port-sharing-service.md)
