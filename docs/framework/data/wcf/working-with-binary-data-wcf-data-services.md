---
title: "İkili veriler (WCF Veri Hizmetleri) ile çalışma"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, binary data
- WCF Data Services, streams
ms.assetid: aeccc45c-d5c5-4671-ad63-a492ac8043ac
caps.latest.revision: "7"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: e02a98a327947e32acd42ccf79d922f5dff6fb6c
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/22/2017
---
# <a name="working-with-binary-data-wcf-data-services"></a><span data-ttu-id="33a4f-102">İkili veriler (WCF Veri Hizmetleri) ile çalışma</span><span class="sxs-lookup"><span data-stu-id="33a4f-102">Working with Binary Data (WCF Data Services)</span></span>
<span data-ttu-id="33a4f-103">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] İstemci kitaplığı almak ve ikili verileri güncelleştirmek sağlayan bir [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] aşağıdaki yollardan biriyle akış:</span><span class="sxs-lookup"><span data-stu-id="33a4f-103">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library enables you to retrieve and update binary data from an [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] feed in one of the following ways:</span></span>  
  
-   <span data-ttu-id="33a4f-104">Bir varlık bir ilkel tür özelliği.</span><span class="sxs-lookup"><span data-stu-id="33a4f-104">As a primitive type property of an entity.</span></span> <span data-ttu-id="33a4f-105">Bu, kolayca belleğe yüklenen nesneler küçük ikili verilerle çalışmak için önerilen yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="33a4f-105">This is the recommended method for working with small binary data objects that can be easily loaded into memory.</span></span> <span data-ttu-id="33a4f-106">Bu durumda, ikili özelliği veri modeli tarafından kullanıma sunulan bir varlık özelliğidir ve veri hizmeti ikili kodlanmış XML yanıt iletisi base-64 olarak ikili verileri serileştirir.</span><span class="sxs-lookup"><span data-stu-id="33a4f-106">In this case, the binary property is an entity property exposed by the data model, and the data service serializes the binary data as base-64 binary encoded XML in the response message.</span></span>  
  
-   <span data-ttu-id="33a4f-107">Ayrı ikili kaynak akış olarak.</span><span class="sxs-lookup"><span data-stu-id="33a4f-107">As a separate binary resource stream.</span></span> <span data-ttu-id="33a4f-108">Bu, erişmek ve fotoğraf, video veya başka türde bir ikili kodlanmış verileri gösterebilir ikili büyük nesne (BLOB) verileri değiştirme önerilen yöntemdir.</span><span class="sxs-lookup"><span data-stu-id="33a4f-108">This is the recommended method for accessing and changing binary large object (BLOB) data that may represent a photo, video, or any other type of binary encoded data.</span></span>  
  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="33a4f-109">' da tanımlandığı gibi HTTP kullanarak ikili veri akışı uygulayan [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="33a4f-109"> implements the streaming of binary data by using HTTP as defined in the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span></span> <span data-ttu-id="33a4f-110">Bu mekanizma, ikili veri ayrıdır bir medya kaynağı olarak kabul ancak ilgili medya bağlantısı girişi olarak adlandırılan bir varlık için.</span><span class="sxs-lookup"><span data-stu-id="33a4f-110">In this mechanism, binary data is treated as a media resource that is separate from but related to an entity, which is called a media link entry.</span></span> <span data-ttu-id="33a4f-111">Daha fazla bilgi için bkz: [Akış sağlayıcısı](../../../../docs/framework/data/wcf/streaming-provider-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="33a4f-111">For more information, see [Streaming Provider](../../../../docs/framework/data/wcf/streaming-provider-wcf-data-services.md).</span></span>  
  
> [!TIP]
>  <span data-ttu-id="33a4f-112">Nasıl oluşturulacağı hakkında adım adım bir örneği için bir [!INCLUDE[avalon1](../../../../includes/avalon1-md.md)] ikili resim dosyalarını indirir istemci uygulaması bir [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] fotoğrafları, depolayan hizmeti Bkz post [Veri Hizmetleri Akış sağlayıcısı serisi bölüm 2: bir ortama erişme Kaynak akışı istemciden](http://go.microsoft.com/fwlink/?LinkId=201637).</span><span class="sxs-lookup"><span data-stu-id="33a4f-112">For a step-by-step example of how to create a [!INCLUDE[avalon1](../../../../includes/avalon1-md.md)] client application that downloads binary image files from an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service that stores photos, see the post [Data Services Streaming Provider Series-Part 2: Accessing a Media Resource Stream from the Client](http://go.microsoft.com/fwlink/?LinkId=201637).</span></span> <span data-ttu-id="33a4f-113">Blog postasına öne çıkan akış fotoğraf veri hizmeti için örnek kod indirmek için bkz: [akış fotoğraf veri hizmeti örnek](http://go.microsoft.com/fwlink/?LinkId=198988) MSDN kod Galerisi'nden içinde.</span><span class="sxs-lookup"><span data-stu-id="33a4f-113">To download the sample code for the stream photo data service featured in the blog post, see the [Streaming Photo Data Service Sample](http://go.microsoft.com/fwlink/?LinkId=198988) in MSDN Code Gallery.</span></span>  
  
## <a name="entity-metadata"></a><span data-ttu-id="33a4f-114">Varlık meta verileri</span><span class="sxs-lookup"><span data-stu-id="33a4f-114">Entity Metadata</span></span>  
 <span data-ttu-id="33a4f-115">İlgili medya kaynak akışı sahip bir varlık veri hizmeti meta verilerini tarafından belirtilen `HasStream` medya bağlantısı girişinin bir varlık türü için uygulanan öznitelik.</span><span class="sxs-lookup"><span data-stu-id="33a4f-115">An entity that has a related media resource stream is indicated in the data service metadata by the `HasStream` attribute applied to an entity type that is the media link entry.</span></span> <span data-ttu-id="33a4f-116">Aşağıdaki örnekte, `PhotoInfo` varlıktır belirttiği bir ilgili medya kaynağı olan medya bağlantı girdisini `HasStream` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="33a4f-116">In the following example, the `PhotoInfo` entity is a media link entry that has a related media resource, indicated by the `HasStream` attribute.</span></span>  
  
 [!code-xml[Astoria Photo Streaming Service#HasStream](../../../../samples/snippets/xml/VS_Snippets_Misc/astoria photo streaming service/xml/photodata.edmx#hasstream)]  
  
 <span data-ttu-id="33a4f-117">Bu konudaki kalan örnekler erişmek ve medya kaynak akışı değiştirmek nasıl gösterir.</span><span class="sxs-lookup"><span data-stu-id="33a4f-117">The remaining examples in this topic show how to access and change the media resource stream.</span></span> <span data-ttu-id="33a4f-118">Bir .NET Framework istemci uygulamasındaki bir ortam kaynak akışı kullanmalarını nasıl tam bir örnek için [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] istemci kitaplığı, post bkz [bir medya kaynak akışı istemciden erişme](http://go.microsoft.com/fwlink/?LinkID=201637).</span><span class="sxs-lookup"><span data-stu-id="33a4f-118">For a complete example of how to consume a media resource stream in a .NET Framework client application by using the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library, see the post [Accessing a Media Resource Stream from the Client](http://go.microsoft.com/fwlink/?LinkID=201637).</span></span>  
  
## <a name="accessing-the-binary-resource-stream"></a><span data-ttu-id="33a4f-119">İkili kaynak akışı erişme</span><span class="sxs-lookup"><span data-stu-id="33a4f-119">Accessing the Binary Resource Stream</span></span>  
 <span data-ttu-id="33a4f-120">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] İstemci kitaplığı ikili kaynak akışlardan erişmek için yöntemler sağlayan bir [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]-tabanlı veri hizmeti.</span><span class="sxs-lookup"><span data-stu-id="33a4f-120">The [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library provides methods for accessing binary resource streams from an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]-based data service.</span></span> <span data-ttu-id="33a4f-121">Ne zaman bir medya kaynağı indirme, medya kaynağı URI'sini ya da kullanabilir veya, bir ikili akış elde edebilirsiniz medya kaynak verilerini kendisini içerir.</span><span class="sxs-lookup"><span data-stu-id="33a4f-121">When downloading a media resource, you can either use the URI of the media resource or you can get a binary stream that contains the media resource data itself.</span></span> <span data-ttu-id="33a4f-122">Ayrıca, ikili akış olarak medya kaynak verilerini karşıya yükleyebilir.</span><span class="sxs-lookup"><span data-stu-id="33a4f-122">You can also upload media resource data as a binary stream.</span></span>  
  
> [!TIP]
>  <span data-ttu-id="33a4f-123">Nasıl oluşturulacağı hakkında adım adım bir örneği için bir [!INCLUDE[avalon1](../../../../includes/avalon1-md.md)] ikili resim dosyalarını indirir istemci uygulaması bir [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] fotoğrafları, depolayan hizmeti Bkz post [Veri Hizmetleri Akış sağlayıcısı serisi bölüm 2: bir ortama erişme Kaynak akışı istemciden](http://go.microsoft.com/fwlink/?LinkId=201637).</span><span class="sxs-lookup"><span data-stu-id="33a4f-123">For a step-by-step example of how to create a [!INCLUDE[avalon1](../../../../includes/avalon1-md.md)] client application that downloads binary image files from an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service that stores photos, see the post [Data Services Streaming Provider Series-Part 2: Accessing a Media Resource Stream from the Client](http://go.microsoft.com/fwlink/?LinkId=201637).</span></span> <span data-ttu-id="33a4f-124">Blog postasına öne çıkan akış fotoğraf veri hizmeti için örnek kod indirmek için bkz: [akış fotoğraf veri hizmeti örnek](http://go.microsoft.com/fwlink/?LinkId=198988) MSDN kod Galerisi'nden içinde.</span><span class="sxs-lookup"><span data-stu-id="33a4f-124">To download the sample code for the stream photo data service featured in the blog post, see the [Streaming Photo Data Service Sample](http://go.microsoft.com/fwlink/?LinkId=198988) in MSDN Code Gallery.</span></span>  
  
### <a name="getting-the-uri-of-the-binary-stream"></a><span data-ttu-id="33a4f-125">İkili akışın URI'sini alma</span><span class="sxs-lookup"><span data-stu-id="33a4f-125">Getting the URI of the Binary Stream</span></span>  
 <span data-ttu-id="33a4f-126">Belirli türde bir ortam kaynakları, resimleri ve diğer medya dosyaları gibi alınırken çoğu medya kaynağı URI'sini ikili veri akışı işleme daha, uygulamanızda kullanmak kolaydır.</span><span class="sxs-lookup"><span data-stu-id="33a4f-126">When retrieving certain types of media resources, such as images and other media files, it is often easier to use the URI of the media resource in your application than handling the binary data stream itself.</span></span> <span data-ttu-id="33a4f-127">Bir medya bağlantısı girişle ile ilişkili bir kaynak akışı URI'sini almak için çağırmalısınız <xref:System.Data.Services.Client.DataServiceContext.GetReadStreamUri%2A> yöntemi <xref:System.Data.Services.Client.DataServiceContext> varlık izleme örneği.</span><span class="sxs-lookup"><span data-stu-id="33a4f-127">To get the URI of a resource stream associated with a give media link entry, you must call the <xref:System.Data.Services.Client.DataServiceContext.GetReadStreamUri%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> instance that is tracking the entity.</span></span> <span data-ttu-id="33a4f-128">Aşağıdaki örnekte nasıl çağrılacağını gösterir <xref:System.Data.Services.Client.DataServiceContext.GetReadStreamUri%2A> istemci üzerinde yeni bir görüntü oluşturmak için kullanılan bir medya kaynak akışı URI'sini almak için yöntemi:</span><span class="sxs-lookup"><span data-stu-id="33a4f-128">The following example shows how to call the <xref:System.Data.Services.Client.DataServiceContext.GetReadStreamUri%2A> method to get the URI of a media resource stream that is used to create a new image on the client:</span></span>  
  
 [!code-csharp[Astoria Photo Streaming Client#GetReadStreamUri](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria photo streaming client/cs/photowindow.xaml.cs#getreadstreamuri)]
 [!code-vb[Astoria Photo Streaming Client#GetReadStreamUri](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria photo streaming client/vb/photowindow.xaml.vb#getreadstreamuri)]  
  
### <a name="downloading-the-binary-resource-stream"></a><span data-ttu-id="33a4f-129">İkili kaynak akışı indirme</span><span class="sxs-lookup"><span data-stu-id="33a4f-129">Downloading the Binary Resource Stream</span></span>  
 <span data-ttu-id="33a4f-130">Bir ikili kaynak akışı alınırken çağırmalısınız <xref:System.Data.Services.Client.DataServiceContext.GetReadStream%2A> yöntemi <xref:System.Data.Services.Client.DataServiceContext> media link entry izleme örneği.</span><span class="sxs-lookup"><span data-stu-id="33a4f-130">When retrieving a binary resource stream, you must call the <xref:System.Data.Services.Client.DataServiceContext.GetReadStream%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> instance that is tracking the media link entry.</span></span> <span data-ttu-id="33a4f-131">Bu yöntem, döndüren veri hizmetine bir istek gönderir bir <xref:System.Data.Services.Client.DataServiceStreamResponse> kaynak içeren akışı başvuruyor nesnesi.</span><span class="sxs-lookup"><span data-stu-id="33a4f-131">This method sends a request to the data service that returns a <xref:System.Data.Services.Client.DataServiceStreamResponse> object, which has a reference to the stream that contains the resource.</span></span> <span data-ttu-id="33a4f-132">Uygulamanız ikili kaynak olarak gerektirdiğinde bu yöntemi kullanın. bir <xref:System.IO.Stream>.</span><span class="sxs-lookup"><span data-stu-id="33a4f-132">Use this method when your application requires the binary resource as a <xref:System.IO.Stream>.</span></span> <span data-ttu-id="33a4f-133">Aşağıdaki örnekte nasıl çağrılacağını gösterir <xref:System.Data.Services.Client.DataServiceContext.GetReadStream%2A> yöntemi, istemci üzerinde yeni bir görüntü oluşturmak için kullanılan bir akış almak için:</span><span class="sxs-lookup"><span data-stu-id="33a4f-133">The following example shows how to call the <xref:System.Data.Services.Client.DataServiceContext.GetReadStream%2A> method to retrieve a stream that is used to create a new image on the client:</span></span>  
  
 [!code-csharp[Astoria Streaming Client#GetReadStreamClient](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria streaming client/cs/customerphotowindow.xaml.cs#getreadstreamclient)]
 [!code-vb[Astoria Streaming Client#GetReadStreamClient](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria streaming client/vb/customerphotowindow.xaml.vb#getreadstreamclient)]  
  
> [!NOTE]
>  <span data-ttu-id="33a4f-134">Content-Length üstbilgisi ikili akış içeren yanıt iletisi veri hizmeti tarafından ayarlanmadı.</span><span class="sxs-lookup"><span data-stu-id="33a4f-134">The Content-Length header in the response message that contains the binary steam is not set by the data service.</span></span> <span data-ttu-id="33a4f-135">Bu değer, ikili veri akışını gerçek uzunluğuyla yansıtmayabilir.</span><span class="sxs-lookup"><span data-stu-id="33a4f-135">This value may not reflect the actual length of the binary data stream.</span></span>  
  
### <a name="uploading-a-media-resource-as-a-stream"></a><span data-ttu-id="33a4f-136">Bir akış olarak bir medya kaynağı karşıya</span><span class="sxs-lookup"><span data-stu-id="33a4f-136">Uploading a Media Resource as a Stream</span></span>  
 <span data-ttu-id="33a4f-137">Eklemek veya bir medya kaynağı güncelleştirmek için arama <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> yöntemi <xref:System.Data.Services.Client.DataServiceContext> varlık izleme örneği.</span><span class="sxs-lookup"><span data-stu-id="33a4f-137">To insert or update a media resource, call the <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> instance that is tracking the entity.</span></span> <span data-ttu-id="33a4f-138">Bu yöntem, sağlanan akıştan okunan medya kaynağı içeren veri hizmeti için bir istek gönderir.</span><span class="sxs-lookup"><span data-stu-id="33a4f-138">This method sends a request to the data service that contains the media resource read from the supplied stream.</span></span> <span data-ttu-id="33a4f-139">Aşağıdaki örnekte nasıl çağrılacağını gösterir <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> yöntemi bir görüntü veri hizmetine göndermek için:</span><span class="sxs-lookup"><span data-stu-id="33a4f-139">The following example shows how to call the <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> method to send an image to the data service:</span></span>  
  
 [!code-csharp[Astoria Photo Streaming Client#SetSaveStream](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria photo streaming client/cs/photodetailswindow.xaml.cs#setsavestream)]
 [!code-vb[Astoria Photo Streaming Client#SetSaveStream](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria photo streaming client/vb/photodetailswindow.xaml.vb#setsavestream)]  
  
 <span data-ttu-id="33a4f-140">Bu örnekte, <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> değerini sağlayarak yöntemi çağrıldığında `true` için `closeStream` parametresi.</span><span class="sxs-lookup"><span data-stu-id="33a4f-140">In this example, the <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A> method is called by supplying a value of `true` for the `closeStream` parameter.</span></span> <span data-ttu-id="33a4f-141">Bu sayede <xref:System.Data.Services.Client.DataServiceContext> ikili veriler için veri hizmeti yüklendikten sonra akışı kapatır.</span><span class="sxs-lookup"><span data-stu-id="33a4f-141">This guarantees that the <xref:System.Data.Services.Client.DataServiceContext> closes the stream after the binary data is uploaded to the data service.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="33a4f-142">Çağırdığınızda <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A>, akış kadar veri hizmetine gönderilmez <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="33a4f-142">When you call <xref:System.Data.Services.Client.DataServiceContext.SetSaveStream%2A>, the stream is not sent to the data service until <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> is called.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="33a4f-143">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="33a4f-143">See Also</span></span>  
 [<span data-ttu-id="33a4f-144">WCF Veri Hizmetleri İstemci Kitaplığı</span><span class="sxs-lookup"><span data-stu-id="33a4f-144">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)  
 [<span data-ttu-id="33a4f-145">Veriyi Denetimlere Bağlama</span><span class="sxs-lookup"><span data-stu-id="33a4f-145">Binding Data to Controls</span></span>](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md)
