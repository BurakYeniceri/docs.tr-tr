---
title: "İleti Dağıtımını Sınırlandırma"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 8b5ec4b8-1ce9-45ef-bb90-2c840456bcc1
caps.latest.revision: "10"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: b4d81583a8dfc2c48fb9b7533f071495b562615e
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/22/2017
---
# <a name="limiting-message-distribution"></a><span data-ttu-id="5b5d3-102">İleti Dağıtımını Sınırlandırma</span><span class="sxs-lookup"><span data-stu-id="5b5d3-102">Limiting Message Distribution</span></span>
<span data-ttu-id="5b5d3-103">Eş kanal yayın kafes tasarım gereğidir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-103">Peer Channel is by design a broadcast mesh.</span></span> <span data-ttu-id="5b5d3-104">Bu ağ, diğer tüm üyelerine kafes herhangi bir üyesi tarafından gönderilen her ileti dağıtma kendi temel flooding modelini içerir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-104">Its basic flooding model involves distributing each message sent by any member of a mesh to all other members of that mesh.</span></span> <span data-ttu-id="5b5d3-105">Bu, her ileti bir üyesi tarafından oluşturulan tüm diğer üyeler için (örneğin, sohbet odası) ilgili ve faydalı olduğu durumlarda idealdir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-105">This is ideal in situations where every message generated by a member is relevant and useful to all other members (for example, a chat room).</span></span> <span data-ttu-id="5b5d3-106">Bununla birlikte, birçok uygulamanın ileti dağıtımını sınırlandırma bir nadiren ihtiyaç vardır.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-106">However, many applications have an occasional need for limiting message distribution.</span></span> <span data-ttu-id="5b5d3-107">Yeni bir üye kafes birleştirir ve ağ gönderilen son ileti almak istiyorsa, örneğin, bu istek kafes her üyesine taşan olması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-107">For example, if a new member joins a mesh and wants to retrieve the last message sent through the mesh, this request does not need to be flooded to every member of the mesh.</span></span> <span data-ttu-id="5b5d3-108">Yerel olarak oluşturulmuş iletileri filtrelenebilen veya istek Komşuları yakınında sınırlı olabilir. İletileri kafes tek tek bir düğümde yeniden gönderilebilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-108">The request could be limited to near neighbors, or locally generated messages can be filtered out. Messages can also be sent to an individual node on the mesh.</span></span> <span data-ttu-id="5b5d3-109">Bu konu, iletileri kafes nasıl iletilen denetlemek için atlama sayısı, bir ileti yayma filtresi, yerel bir filtre veya doğrudan bir bağlantı kullanarak açıklar ve bir yaklaşım seçimi için genel yönergeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-109">This topic discusses using Hop Count, a Message Propagation Filter, a local filter, or a direct connection to control how messages are forwarded throughout the mesh, and provides general guidelines for choosing an approach.</span></span>  
  
## <a name="hop-counts"></a><span data-ttu-id="5b5d3-110">Atlama sayısı</span><span class="sxs-lookup"><span data-stu-id="5b5d3-110">Hop Counts</span></span>  
 <span data-ttu-id="5b5d3-111">Kavramı `PeerHopCount` IP protokolü kullanılan bir TTL (Time-To-Live) benzer.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-111">The concept of `PeerHopCount` is similar to TTL (Time-To-Live) used in IP protocol.</span></span> <span data-ttu-id="5b5d3-112">Değeri `PeerHopCount` bir ileti örneğine bağlanır ve bir ileti iletilen bırakılan önce kaç kez belirtir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-112">The value of `PeerHopCount` is tied to a message instance, and it specifies how many times a message should be forwarded before being dropped.</span></span> <span data-ttu-id="5b5d3-113">Bir ileti eş kanalı istemci tarafından alınan her zaman istemci iletisi olup olmadığını inceler `PeerHopCount` belirtilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-113">Each time a message is received by a Peer Channel client, the client examines the message to see if `PeerHopCount` is specified.</span></span> <span data-ttu-id="5b5d3-114">Belirtilmişse, ardından istemci azaltır atlama sayısı değeri tek komşu düğümler iletiye iletilmeden önce.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-114">If it is specified, then the client decrements the hop count value by one before forwarding the message to neighboring nodes.</span></span> <span data-ttu-id="5b5d3-115">Bir istemci sıfır atlama sayısı değeri içeren bir ileti aldığında, istemci iletisini işler, ancak iletiyi Komşuları için iletme değil.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-115">When a client receives a message with a hop count value of zero, the client processes the message, but does not forward the message to neighbors.</span></span>  
  
 <span data-ttu-id="5b5d3-116">Atlama sayısı eklenebilir bir iletiye ekleyerek `PeerHopCount` geçerli özellik veya alan uygulamasında ileti sınıfı için bir öznitelik olarak.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-116">Hop count may be added to a message by adding `PeerHopCount` as an attribute to the applicable property or field in the implementation of the message class.</span></span> <span data-ttu-id="5b5d3-117">Bu iletiyi kafes göndermeden önce belirli bir değere ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-117">You can set this to a specific value before sending the message to the mesh.</span></span> <span data-ttu-id="5b5d3-118">Bu şekilde, atlama sayısı olası gereksiz ileti çoğaltma önleme gerektiğinde kafes iletileri dağıtımını sınırlamak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-118">In this manner, you can use hop count to limit distribution of messages throughout the mesh when necessary, potentially avoiding unnecessary message duplication.</span></span> <span data-ttu-id="5b5d3-119">Bu, yedek veri ya da hemen Komşuları veya Komşuları birkaç durak içinde bir ileti göndermek için yüksek bir miktar kafes içerdiği durumlarda yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-119">This is useful in cases where the mesh contains a high amount of redundant data, or for sending a message to immediate neighbors, or neighbors within a few hops.</span></span>  
  
-   <span data-ttu-id="5b5d3-120">Kod parçacıkları ve ilgili bilgi için bkz: [eş kanalı blog](http://go.microsoft.com/fwlink/?LinkID=114531) (http://go.microsoft.com/fwlink/?LinkID=114531).</span><span class="sxs-lookup"><span data-stu-id="5b5d3-120">For code snippets and related information, see the [Peer Channel blog](http://go.microsoft.com/fwlink/?LinkID=114531) (http://go.microsoft.com/fwlink/?LinkID=114531).</span></span>  
  
## <a name="message-propagation-filter"></a><span data-ttu-id="5b5d3-121">İleti yayma filtresi</span><span class="sxs-lookup"><span data-stu-id="5b5d3-121">Message Propagation Filter</span></span>  
 <span data-ttu-id="5b5d3-122">`MessagePropagationFilter`özellikle ileti veya diğer belirli senaryolar içeriğini karar verirken yayma ileti, taşmasını özelleştirilmiş denetim için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-122">`MessagePropagationFilter` can be used for customized control of message flooding, especially when the content of the message or other specific scenarios determine propagation.</span></span> <span data-ttu-id="5b5d3-123">Filtre düğümünden geçirir her ileti yayma kararlarını verir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-123">The filter makes propagation decisions for every message that passes through the node.</span></span> <span data-ttu-id="5b5d3-124">Bu, başka bir yerde düğümünüz uygulamanız tarafından oluşturulan iletiler yanı sıra aldı kafes kaynaklanan iletileri için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-124">This is true for messages that originated elsewhere in the mesh that your node has received as well as messages created by your application.</span></span> <span data-ttu-id="5b5d3-125">Filtre ileti ve onun oluşturulma erişim sahiptir, bu nedenle iletme veya ileti siliniyor hakkında kararlar kullanılabilir tam bilgilerine dayalı.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-125">The filter has access to both the message and its origination, so decisions about forwarding or dropping the message can be based on the full information available.</span></span>  
  
 <span data-ttu-id="5b5d3-126"><xref:System.ServiceModel.PeerMessagePropagationFilter>tek bir işlevi ile temel bir Özet sınıf <xref:System.ServiceModel.PeerMessagePropagationFilter.ShouldMessagePropagate%2A>.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-126"><xref:System.ServiceModel.PeerMessagePropagationFilter> is a base abstract class with a single function, <xref:System.ServiceModel.PeerMessagePropagationFilter.ShouldMessagePropagate%2A>.</span></span> <span data-ttu-id="5b5d3-127">Yöntem çağrısının ilk bağımsız değişkeni ileti tam bir kopyasını geçirir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-127">The first argument of the method call passes in a full copy of the message.</span></span> <span data-ttu-id="5b5d3-128">İletiye yapılan değişiklikler gerçek ileti etkilemez.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-128">Any changes made to the message do not affect the actual message.</span></span> <span data-ttu-id="5b5d3-129">Yöntem çağrısının son bağımsız değişkeni iletinin kaynağını tanımlar (`PeerMessageOrigination.Local` veya `PeerMessageOrigination.Remote`).</span><span class="sxs-lookup"><span data-stu-id="5b5d3-129">The last argument of the method call identifies the origin of the message (`PeerMessageOrigination.Local` or `PeerMessageOrigination.Remote`).</span></span> <span data-ttu-id="5b5d3-130">Bu yöntem, somut uygulamalarını içinden bir sabit döndürmelidir <xref:System.ServiceModel.PeerMessagePropagation> numaralandırma ileti yerel uygulama iletilecek olduğunu belirten (`Local`), uzak istemcilere iletilen (`Remote`), her iki (`LocalAndRemote`), veya hiçbiri (`None`).</span><span class="sxs-lookup"><span data-stu-id="5b5d3-130">Concrete implementations of this method must return a constant from the <xref:System.ServiceModel.PeerMessagePropagation> enumeration indicating that the message is to be forwarded to the local application (`Local`), forwarded to remote clients (`Remote`), both (`LocalAndRemote`), or neither (`None`).</span></span> <span data-ttu-id="5b5d3-131">Bu filtre, karşılık gelen erişerek uygulanabilir `PeerNode` nesne ve türetilen yayma örneği belirterek filtre sınıfında `PeerNode.MessagePropagationFilter` özelliği.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-131">This filter can be applied by accessing the corresponding `PeerNode` object and specifying an instance of the derived propagation filter class in the `PeerNode.MessagePropagationFilter` property.</span></span> <span data-ttu-id="5b5d3-132">Eş kanal açmadan önce yayma filtre bağlı olduğundan emin olun.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-132">Ensure that the propagation filter is attached before opening the Peer Channel.</span></span>  
  
-   <span data-ttu-id="5b5d3-133">Kod parçacıkları ve ilgili bilgi için bkz: [eş kanalı blog](http://go.microsoft.com/fwlink/?LinkID=114532) (http://go.microsoft.com/fwlink/?LinkID=114532).</span><span class="sxs-lookup"><span data-stu-id="5b5d3-133">For code snippets and related information, see the [Peer Channel blog](http://go.microsoft.com/fwlink/?LinkID=114532) (http://go.microsoft.com/fwlink/?LinkID=114532).</span></span>  
  
## <a name="contacting-an-individual-node-in-the-mesh"></a><span data-ttu-id="5b5d3-134">Tek bir ağ düğümünde bağlantı kuruluyor</span><span class="sxs-lookup"><span data-stu-id="5b5d3-134">Contacting an Individual Node in the Mesh</span></span>  
 <span data-ttu-id="5b5d3-135">Tek bir ağ düğümünde, yerel bir filtre ayarlayarak veya doğrudan bir bağlantı kurma ulaşılabilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-135">An individual node in a mesh can be contacted by setting up a local filter, or by setting up a direct connection.</span></span>  
  
 <span data-ttu-id="5b5d3-136">Her bir kafes düğümlerin tek tek bir Kimliğiniz varsa, bir hedef kimliği iletinizi uygulamasında belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-136">If the nodes in a mesh each have an individual ID, a destination ID can be specified in the implementation of your message.</span></span> <span data-ttu-id="5b5d3-137">Yerel bir filtre Kimliğini, belirtilen hedef kimliği eşleşirse, yalnızca geçerli düğüme ileti görüntülenir, ileti sözleşmesi işlevi yazarak ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-137">A local filter can be set up by writing a function in your message contract that will only display the message to the current node if its ID matches the destination ID you specified.</span></span> <span data-ttu-id="5b5d3-138">Yeni bir bağlantı kurma yükünü ücrete tabi yok şekilde kafes ileti taşımaları.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-138">The mesh transports the message, so the overhead of setting up a new connection does not have to be incurred.</span></span> <span data-ttu-id="5b5d3-139">Ancak, ileti kafes defalarca göndermesinden itibaren geçen verimliliği kaybı yoktur.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-139">However, there is a loss of efficiency since the message is sent many times throughout the mesh.</span></span> <span data-ttu-id="5b5d3-140">Bu, çok büyük veya çok sık ileti sürece iyi ileti tek bir kafes üyelerine göndermek için çalışır.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-140">This works well for sending messages to individual members of a mesh as long as the messages are neither too big nor too frequent.</span></span>  
  
 <span data-ttu-id="5b5d3-141">Uzun süre dayanan, yüksek bant genişliği bağlantılarında doğrudan bağlantılar tercih edilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-141">For long-lasting, high-bandwidth connections, direct connections are preferable.</span></span> <span data-ttu-id="5b5d3-142">Bağlantı bilgilerini ağ göndermek ve iletileri Gönder/Al seçme doğrudan bir bağlantı ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-142">You can send connection information over the mesh, and then set up a direct connection of your choosing to send/receive messages.</span></span>  
  
## <a name="choosing-an-approach-for-limiting-message-distribution"></a><span data-ttu-id="5b5d3-143">İleti dağıtımını sınırlandırma için bir yaklaşım seçme</span><span class="sxs-lookup"><span data-stu-id="5b5d3-143">Choosing an Approach for Limiting Message Distribution</span></span>  
 <span data-ttu-id="5b5d3-144">İleti dağıtımını sınırlamak gereken bir senaryo bulduğunuzda, aşağıdaki soruları kendinize sorun:</span><span class="sxs-lookup"><span data-stu-id="5b5d3-144">When you discover a scenario in which you need to limit message distribution, ask yourself the following questions:</span></span>  
  
-   <span data-ttu-id="5b5d3-145">**Kimin** iletisi gerekiyor?</span><span class="sxs-lookup"><span data-stu-id="5b5d3-145">**Who** needs to receive the message?</span></span> <span data-ttu-id="5b5d3-146">Yalnızca bir Komşu düğüm?</span><span class="sxs-lookup"><span data-stu-id="5b5d3-146">Just one neighbor node?</span></span> <span data-ttu-id="5b5d3-147">Bir düğüm başka bir yere kafes?</span><span class="sxs-lookup"><span data-stu-id="5b5d3-147">A node somewhere else in the mesh?</span></span> <span data-ttu-id="5b5d3-148">Yarı kafes?</span><span class="sxs-lookup"><span data-stu-id="5b5d3-148">Half the mesh?</span></span>  
  
-   <span data-ttu-id="5b5d3-149">**Ne sıklıkta** Bu mesajı gönderilir?</span><span class="sxs-lookup"><span data-stu-id="5b5d3-149">**How often** will this message be sent?</span></span>  
  
-   <span data-ttu-id="5b5d3-150">Ne tür, **bant genişliği** bu iletiyi kullanacaksınız?</span><span class="sxs-lookup"><span data-stu-id="5b5d3-150">What kind of **bandwidth** will this message use?</span></span>  
  
 <span data-ttu-id="5b5d3-151">Bu sorulara verdiğiniz yanıtlar, atlama sayısı, bir ileti yayma filtresi, yerel bir filtre veya doğrudan bir bağlantı kullanılıp kullanılmayacağını belirlemenize yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-151">The answers to these questions can help you determine whether to use Hop Count, a Message Propagation Filter, a local filter, or a direct connection.</span></span> <span data-ttu-id="5b5d3-152">Aşağıdaki genel yönergeleri dikkate alın:</span><span class="sxs-lookup"><span data-stu-id="5b5d3-152">Consider the following general guidelines:</span></span>  
  
-   <span data-ttu-id="5b5d3-153">**Kimin**</span><span class="sxs-lookup"><span data-stu-id="5b5d3-153">**Who**</span></span>  
  
    -   <span data-ttu-id="5b5d3-154">*Tek düğüm*: Yerel filtre veya doğrudan bağlantı.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-154">*Individual node*:  Local filter or direct connection.</span></span>  
  
    -   <span data-ttu-id="5b5d3-155">*Belirli bir yakın çevre içinde Komşuları*: PeerHopCount.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-155">*Neighbors within a certain vicinity*:  PeerHopCount.</span></span>  
  
    -   <span data-ttu-id="5b5d3-156">*Mesh karmaşık alt*: MessagePropagationFilter.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-156">*Complex subset of the mesh*:  MessagePropagationFilter.</span></span>  
  
-   <span data-ttu-id="5b5d3-157">**Ne sıklıkta**</span><span class="sxs-lookup"><span data-stu-id="5b5d3-157">**How often**</span></span>  
  
    -   <span data-ttu-id="5b5d3-158">*Çok sık*: doğrudan bağlantı, PeerHopCount, MessagePropagationFilter.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-158">*Very frequent*:  Direct connection, PeerHopCount, MessagePropagationFilter.</span></span>  
  
    -   <span data-ttu-id="5b5d3-159">*Zaman zaman*: Yerel filtre.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-159">*Occasional*:  Local filter.</span></span>  
  
-   <span data-ttu-id="5b5d3-160">**Bant genişliği kullanımı**</span><span class="sxs-lookup"><span data-stu-id="5b5d3-160">**Bandwidth use**</span></span>  
  
    -   <span data-ttu-id="5b5d3-161">*Yüksek*: doğrudan bağlantı, MessagePropagationFilter veya yerel filtre kullanmak için daha az önerilir.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-161">*High*:  Direct connection, less advisable to use MessagePropagationFilter or local filter.</span></span>  
  
    -   <span data-ttu-id="5b5d3-162">*Düşük*: büyük olasılıkla gereken herhangi biri doğrudan bağlantı.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-162">*Low*:  Any, direct connection probably not needed.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5b5d3-163">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="5b5d3-163">See Also</span></span>  
 [<span data-ttu-id="5b5d3-164">Eş Kanal Uygulaması Oluşturma</span><span class="sxs-lookup"><span data-stu-id="5b5d3-164">Building a Peer Channel Application</span></span>](../../../../docs/framework/wcf/feature-details/building-a-peer-channel-application.md)
