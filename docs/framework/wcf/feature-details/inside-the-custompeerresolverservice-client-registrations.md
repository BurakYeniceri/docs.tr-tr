---
title: "CustomPeerResolverService İçinde: İstemci Kayıtları"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 40236953-a916-4236-84a6-928859e1331a
caps.latest.revision: "7"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 7daa3c08bb15b13543a4f972d7e4c5e4929e16e8
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/02/2017
---
# <a name="inside-the-custompeerresolverservice-client-registrations"></a><span data-ttu-id="e42d9-102">CustomPeerResolverService İçinde: İstemci Kayıtları</span><span class="sxs-lookup"><span data-stu-id="e42d9-102">Inside the CustomPeerResolverService: Client Registrations</span></span>
<span data-ttu-id="e42d9-103">Uç nokta bilgileri kafes içindeki her bir düğümün Çözümleyici hizmeti aracılığıyla yayımlar `Register` işlevi.</span><span class="sxs-lookup"><span data-stu-id="e42d9-103">Each node in the mesh publishes its endpoint information to the resolver service through the `Register` function.</span></span> <span data-ttu-id="e42d9-104">Çözümleyici hizmeti bu bilgileri bir kayıt depolar.</span><span class="sxs-lookup"><span data-stu-id="e42d9-104">The resolver service stores this information as a registration record.</span></span> <span data-ttu-id="e42d9-105">Bu kayıt, benzersiz bir tanımlayıcı (RegistrationId) ve düğüm için uç nokta bilgileri (PeerNodeAddress) içerir.</span><span class="sxs-lookup"><span data-stu-id="e42d9-105">This record contains a unique identifier (RegistrationID) and endpoint information (PeerNodeAddress) for the node.</span></span>  
  
## <a name="stale-records-and-expiration-time"></a><span data-ttu-id="e42d9-106">Eskimiş kayıtları ve süre sonu</span><span class="sxs-lookup"><span data-stu-id="e42d9-106">Stale Records and Expiration Time</span></span>  
 <span data-ttu-id="e42d9-107">İdeal olarak, bir düğüm kafes ayrıldığında çağırır `Unregister` çözümleyicisini kayıt girişi kaldırmak neden işlev.</span><span class="sxs-lookup"><span data-stu-id="e42d9-107">Ideally, when a node leaves the mesh, it will call the `Unregister` function, which causes the resolver service to remove the registration entry.</span></span> <span data-ttu-id="e42d9-108">Bazı durumlarda, düğümleri kapatıldı veya çağırmadan önce erişilemez hale `Unregister`, eski bir kayıt arkasında bırakma.</span><span class="sxs-lookup"><span data-stu-id="e42d9-108">Sometimes, nodes shut down or become inaccessible before calling `Unregister`, leaving behind a stale registration record.</span></span>  
  
 <span data-ttu-id="e42d9-109">Çözümleyici hizmetinizde eskimiş kayıtları bağlantının başarısız olmasına neden.</span><span class="sxs-lookup"><span data-stu-id="e42d9-109">Stale records in your resolver service can cause failed connections.</span></span> <span data-ttu-id="e42d9-110">Bir kafes bağlanmaya çalışırken bir düğümü eski bağlantı bilgilerini çözme hizmetinden alırsa, kafes başarıyla katılmaya uzun sürebilir.</span><span class="sxs-lookup"><span data-stu-id="e42d9-110">If a node trying to connect to a mesh receives stale connection information from the resolver service, it can take longer to successfully join the mesh.</span></span> <span data-ttu-id="e42d9-111">Eskimiş kayıtları de bellekte olur.</span><span class="sxs-lookup"><span data-stu-id="e42d9-111">Stale records also take up memory.</span></span> <span data-ttu-id="e42d9-112">Bir etkili temizleme işlemi, kayıtları depolamak için kullanılan önbellek sonunda Taşması ve çözümleyicisini kilitlenme.</span><span class="sxs-lookup"><span data-stu-id="e42d9-112">Without an efficient clean up process, the cache used to store registrations could eventually overflow and crash the resolver service.</span></span>  
  
 <span data-ttu-id="e42d9-113"><xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> Her kaydıyla sona erme süresi (saat) işaretler ve bu bilgileri kaydının bir parçası depolar.</span><span class="sxs-lookup"><span data-stu-id="e42d9-113">The <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> marks each record with an expiration time (DateTime), and stores that information as part of the record.</span></span> <span data-ttu-id="e42d9-114">Hizmet sona erme zamanı eskimiş kayıtları tanımlamak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="e42d9-114">The service uses the expiration time to identify stale records.</span></span> <span data-ttu-id="e42d9-115">Özel uyarlama benzer bir şey yapmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e42d9-115">Custom implementations should do something similar.</span></span>  
  
## <a name="refreshinterval-and-cleanupinterval"></a><span data-ttu-id="e42d9-116">RefreshInterval ve CleanupInterval</span><span class="sxs-lookup"><span data-stu-id="e42d9-116">RefreshInterval and CleanupInterval</span></span>  
 <span data-ttu-id="e42d9-117">`RefreshInterval` Özelliği <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> ne kadar süreyle kayıt kayıtları hizmetin kayıt arama tablosunda geçerli kalır tanımlar.</span><span class="sxs-lookup"><span data-stu-id="e42d9-117">The `RefreshInterval` property of the <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> defines how long registration records remain valid in the service's registration lookup table.</span></span> <span data-ttu-id="e42d9-118">Ne zaman kaydını eski haline gelir ve silinmek üzere işaretlenmiş verilen bir kayıt için bu özelliğe sağlanan süre geçti.</span><span class="sxs-lookup"><span data-stu-id="e42d9-118">When the amount of time supplied to this property has passed for a given record, that record becomes stale and is marked for deletion.</span></span>  
  
 <span data-ttu-id="e42d9-119">`CleanupInterval` Özelliği <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> aramak ve eski kayıt kayıtları silmek için hizmet ne sıklıkta söyler.</span><span class="sxs-lookup"><span data-stu-id="e42d9-119">The `CleanupInterval` property of the <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> tells the service how often to search for and delete stale registration records.</span></span> <span data-ttu-id="e42d9-120">`CleanupInterval` Değerinden büyük veya eşit bir süre için ayarlanmalıdır `RefreshInterval` hizmette ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="e42d9-120">The `CleanupInterval` should be set to a time greater than or equal to the `RefreshInterval` set on the service.</span></span>  
  
 <span data-ttu-id="e42d9-121">Kendi çözümleyicisini uygulamak için eski kayıt kayıtlarını kaldırmak için bir bakım işlevi yazmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="e42d9-121">To implement your own resolver service, you need to write a maintenance function to remove stale registration records.</span></span> <span data-ttu-id="e42d9-122">Bunu yapmanın birkaç yolu vardır:</span><span class="sxs-lookup"><span data-stu-id="e42d9-122">There are several ways to do this:</span></span>  
  
-   <span data-ttu-id="e42d9-123">**Düzenli bakım**: düzenli aralıklarla kapalı ve eski kayıtları silmek için veri deposu Git gitmek için bir zamanlayıcı ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="e42d9-123">**Periodic maintenance**: Set a timer to go off periodically, and go through your data store to delete old records.</span></span> <span data-ttu-id="e42d9-124"><xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> Bu yaklaşımı kullanır.</span><span class="sxs-lookup"><span data-stu-id="e42d9-124">The <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> uses this approach.</span></span>  
  
-   <span data-ttu-id="e42d9-125">**Pasif silme**: eskimiş kayıtları için düzenli aralıklarla etkin olarak aramak yerine, tanımlamak ve hizmetiniz zaten başka bir işlev gerçekleştirirken eskimiş kayıtları silin.</span><span class="sxs-lookup"><span data-stu-id="e42d9-125">**Passive deletion**: Instead of actively searching for stale records at regular intervals, you can identify and delete stale records when your service is already performing another function.</span></span> <span data-ttu-id="e42d9-126">Bu büyük olasılıkla yanıt isteklerine çözümleyici istemcilerden yavaşlatabilir ancak bir süreölçer gereksinimini ortadan kaldırır ve az sayıda düğüm varsa daha verimli arama olmadan bırakmak için beklenen bir durum olabilir `Unregister`.</span><span class="sxs-lookup"><span data-stu-id="e42d9-126">This may potentially slow down response time to requests from the resolver clients, but it eliminates the need for a timer, and may be more efficient if few nodes are expected to leave without calling `Unregister`.</span></span>  
  
## <a name="registrationlifetime-and-refresh"></a><span data-ttu-id="e42d9-127">RegistrationLifetime ve yenileme</span><span class="sxs-lookup"><span data-stu-id="e42d9-127">RegistrationLifetime and Refresh</span></span>  
 <span data-ttu-id="e42d9-128">Bir düğüm çözümleyicisini ile kaydolduğunda, aldığı bir <xref:System.ServiceModel.PeerResolvers.RegisterResponseInfo> hizmetinden nesnesi.</span><span class="sxs-lookup"><span data-stu-id="e42d9-128">When a node registers with a resolver service, it receives a <xref:System.ServiceModel.PeerResolvers.RegisterResponseInfo> object from the service.</span></span> <span data-ttu-id="e42d9-129">Bu nesneye sahip bir `RegistrationLifetime` ne kadar zaman önce kayıt var. süresi dolar ve Çözümleyici hizmeti tarafından kaldırılır düğüme belirten özellik.</span><span class="sxs-lookup"><span data-stu-id="e42d9-129">This object has a `RegistrationLifetime` property which indicates to the node how much time it has before the registration expires and is removed by the resolver service.</span></span> <span data-ttu-id="e42d9-130">Örneğin, eğer `RegistrationLifetime` 2 dakika, düğüm çağırmayı gerektiren `Refresh` kaydı yeni kalır ve silinmez emin olmak için altında 2 dakika içinde.</span><span class="sxs-lookup"><span data-stu-id="e42d9-130">If, for example, the `RegistrationLifetime` is 2 minutes, the node needs to call `Refresh` in under 2 minutes to ensure the record stays fresh and is not deleted.</span></span> <span data-ttu-id="e42d9-131">Ne zaman çözümleyicisini alır bir `Refresh` istek, kaydı arar ve bitiş zamanını sıfırlar.</span><span class="sxs-lookup"><span data-stu-id="e42d9-131">When the resolver service receives a `Refresh` request, it looks up the record and resets the expiration time.</span></span> <span data-ttu-id="e42d9-132">Döndürür Yenile bir <xref:System.ServiceModel.PeerResolvers.RefreshResponseInfo> nesnesi ile bir `RegistrationLifetime` özelliği.</span><span class="sxs-lookup"><span data-stu-id="e42d9-132">Refresh returns a <xref:System.ServiceModel.PeerResolvers.RefreshResponseInfo> object with a `RegistrationLifetime` property.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e42d9-133">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="e42d9-133">See Also</span></span>  
 [<span data-ttu-id="e42d9-134">Eş çözücüler</span><span class="sxs-lookup"><span data-stu-id="e42d9-134">Peer Resolvers</span></span>](../../../../docs/framework/wcf/feature-details/peer-resolvers.md)
