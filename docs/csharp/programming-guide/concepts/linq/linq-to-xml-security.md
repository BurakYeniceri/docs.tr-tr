---
title: LINQ-XML güvenlik (C#)
ms.date: 07/20/2015
ms.assetid: ef2c0dc9-ecf9-4c17-b24e-144184ab725f
ms.openlocfilehash: f51c256091d503a34caadbdf46d08e05c3122238
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33335457"
---
# <a name="linq-to-xml-security-c"></a><span data-ttu-id="7bcc3-102">LINQ-XML güvenlik (C#)</span><span class="sxs-lookup"><span data-stu-id="7bcc3-102">LINQ to XML Security (C#)</span></span>
<span data-ttu-id="7bcc3-103">Bu konu LINQ-XML ile ilgili güvenlik sorunları açıklar.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-103">This topic describes security issues associated with LINQ to XML.</span></span> <span data-ttu-id="7bcc3-104">Ayrıca, güvenlik açıklarını Azaltıcı için bazı yönergeler sağlar.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-104">In addition, it provides some guidance for mitigating security exposure.</span></span>  
  
## <a name="linq-to-xml-security-overview"></a><span data-ttu-id="7bcc3-105">LINQ-XML güvenliğine genel bakış</span><span class="sxs-lookup"><span data-stu-id="7bcc3-105">LINQ to XML Security Overview</span></span>  
 <span data-ttu-id="7bcc3-106">LINQ-XML daha sıkı güvenlik gereksinimleri olan sunucu tarafı uygulamalar için daha kullanışlı programlama için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-106">LINQ to XML is designed more for programming convenience than for server-side applications with stringent security requirements.</span></span> <span data-ttu-id="7bcc3-107">Bir sunucuya yüklenen güvenilmeyen XML belgelerini işleme yerine güvenilen XML belgelerini işleme çoğu XML senaryosu oluşur.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-107">Most XML scenarios consist of processing trusted XML documents, rather than processing untrusted XML documents that are uploaded to a server.</span></span> <span data-ttu-id="7bcc3-108">LINQ-XML bu senaryoları için optimize edilmiştir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-108">LINQ to XML is optimized for these scenarios.</span></span>  
  
 <span data-ttu-id="7bcc3-109">Bilinmeyen kaynaklardan gelen güvenilmeyen verileri işlemek, Microsoft örneğini kullanmanızı önerir <xref:System.Xml.XmlReader> bilinen XML hizmet reddi (DoS) saldırılarını filtrelemek için yapılandırılmış sınıfı.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-109">If you must process untrusted data from unknown sources, Microsoft recommends that you use an instance of the <xref:System.Xml.XmlReader> class that has been configured to filter out known XML denial of service (DoS) attacks.</span></span>  
  
 <span data-ttu-id="7bcc3-110">Yapılandırdıysanız bir <xref:System.Xml.XmlReader> hizmet reddi saldırılarını azaltmak için okuyucu bir LINQ to XML ağaç doldurmak ve hala LINQ Programcı üretkenlik iyileştirmeleriyle XML yararlanmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-110">If you have configured an <xref:System.Xml.XmlReader> to mitigate denial of service attacks, you can use that reader to populate a LINQ to XML tree and still benefit from the programmer productivity enhancements of LINQ to XML.</span></span> <span data-ttu-id="7bcc3-111">Birçok azaltma teknikleri güvenlik sorunu azaltmak için yapılandırılmış okuyucular oluşturma ve bir XML ağacı yapılandırılmış okuyucu ile başlatmasını içerir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-111">Many mitigation techniques involve creating readers that are configured to mitigate the security issue, and then instantiating an XML tree through the configured reader.</span></span>  
  
 <span data-ttu-id="7bcc3-112">Belgeleri boyutu, derinlik, öğe adı boyut ve daha fazla sınırsız olduğundan XML doğası gereği hizmet reddi saldırılarını önlemek için savunmasızdır.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-112">XML is intrinsically vulnerable to denial of service attacks because documents are unbounded in size, depth, element name size, and more.</span></span> <span data-ttu-id="7bcc3-113">İşlem XML kullandığınız bileşen bağımsız olarak, her zaman aşırı kaynakları kullanıyorsa, uygulama etki alanı geri dönüştürmek için hazırlıklı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-113">Regardless of the component that you use to process XML, you should always be prepared to recycle the application domain if it uses excessive resources.</span></span>  
  
## <a name="mitigation-of-xml-xsd-xpath-and-xslt-attacks"></a><span data-ttu-id="7bcc3-114">XML, XSD, XPath ve XSLT saldırılarını azaltma</span><span class="sxs-lookup"><span data-stu-id="7bcc3-114">Mitigation of XML, XSD, XPath, and XSLT Attacks</span></span>  
 <span data-ttu-id="7bcc3-115">LINQ-XML üzerine üretilmiştir <xref:System.Xml.XmlReader> ve <xref:System.Xml.XmlWriter>.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-115">LINQ to XML is built upon <xref:System.Xml.XmlReader> and <xref:System.Xml.XmlWriter>.</span></span> <span data-ttu-id="7bcc3-116">LINQ-XML XSD ve destekler XPath uzantı yöntemleri aracılığıyla <xref:System.Xml.Schema?displayProperty=nameWithType> ve <xref:System.Xml.XPath?displayProperty=nameWithType> ad alanları.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-116">LINQ to XML supports XSD and XPath through extension methods in the <xref:System.Xml.Schema?displayProperty=nameWithType> and <xref:System.Xml.XPath?displayProperty=nameWithType> namespaces.</span></span> <span data-ttu-id="7bcc3-117">Kullanarak <xref:System.Xml.XmlReader>, <xref:System.Xml.XPath.XPathNavigator>, ve <xref:System.Xml.XmlWriter> sınıfları LINQ-XML ile birlikte XML ağaçları dönüştürmek için XSLT çağırma.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-117">Using the <xref:System.Xml.XmlReader>, <xref:System.Xml.XPath.XPathNavigator>, and <xref:System.Xml.XmlWriter> classes in conjunction with LINQ to XML, you can invoke XSLT to transform XML trees.</span></span>  
  
 <span data-ttu-id="7bcc3-118">Daha az güvenli bir ortamda işletim varsa bir dizi XML ile ilişkili güvenlik sorunlarını ve sınıflarda kullanımını <xref:System.Xml?displayProperty=nameWithType>, <xref:System.Xml.Schema?displayProperty=nameWithType>, <xref:System.Xml.XPath?displayProperty=nameWithType>, ve <xref:System.Xml.Xsl?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-118">If you are operating in a less secure environment, there are a number of security issues that are associated with XML and the use of the classes in <xref:System.Xml?displayProperty=nameWithType>, <xref:System.Xml.Schema?displayProperty=nameWithType>, <xref:System.Xml.XPath?displayProperty=nameWithType>, and <xref:System.Xml.Xsl?displayProperty=nameWithType>.</span></span> <span data-ttu-id="7bcc3-119">Bu sorunlar dahil ancak bunlarla sınırlı değildir:</span><span class="sxs-lookup"><span data-stu-id="7bcc3-119">These issues include, but are not limited to, the following:</span></span>  
  
-   <span data-ttu-id="7bcc3-120">XSD, XPath ve XSLT dize tabanlı diller zaman veya bellek çok tüketen işlemleri belirtebilirsiniz verilebilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-120">XSD, XPath, and XSLT are string-based languages in which you can specify operations that consume a lot of time or memory.</span></span> <span data-ttu-id="7bcc3-121">Dizeleri kötü niyetli olmadığını doğrulamak veya izlemek ve bu dizeler değerlendirme aşırı sisteme götürür olasılığını azaltmak için güvenilir olmayan kaynaklardan gelen XSD, XPath veya XSLT dizeleri ele uygulama programcıları sorumluluğundadır kaynak tüketimini.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-121">It is the responsibility of application programmers who take XSD, XPath, or XSLT strings from untrusted sources to validate that the strings are not malicious, or to monitor and mitigate the possibility that evaluating these strings will lead to excessive system resource consumption.</span></span>  
  
-   <span data-ttu-id="7bcc3-122">XSD şemaları (satır içi şema dahil) hizmet reddi saldırılarını önlemek için kendiliğinden etkilenir; güvenilir olmayan kaynaklardan gelen şemaları kabul.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-122">XSD schemas (including inline schemas) are inherently vulnerable to denial of service attacks; you should not accept schemas from untrusted sources.</span></span>  
  
-   <span data-ttu-id="7bcc3-123">XSD ve XSLT diğer dosyalara başvurular içerebilir ve bu tür başvuruları çapraz bölge ve etki alanları arası saldırılarına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-123">XSD and XSLT can include references to other files, and such references can result in cross-zone and cross-domain attacks.</span></span>  
  
-   <span data-ttu-id="7bcc3-124">DTD dış varlıklarda çapraz bölge ve etki alanları arası saldırılarına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-124">External entities in DTDs can result in cross-zone and cross-domain attacks.</span></span>  
  
-   <span data-ttu-id="7bcc3-125">DTD, hizmet reddi saldırılarını önlemek için etkilenir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-125">DTDs are vulnerable to denial of service attacks.</span></span>  
  
-   <span data-ttu-id="7bcc3-126">Olağanüstü derin XML belgeleri hizmet sorunlarını Reddi oluşturabilir; XML belgeleri derinliğini sınırlamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-126">Exceptionally deep XML documents can pose denial of service issues; you might want to limit the depth of XML documents.</span></span>  
  
-   <span data-ttu-id="7bcc3-127">Destekleyen bileşenler gibi kabul <xref:System.Xml.NameTable>, <xref:System.Xml.XmlNamespaceManager>, ve <xref:System.Xml.XmlResolver> güvenilmeyen derlemelerden nesneleri.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-127">Do not accept supporting components, such as <xref:System.Xml.NameTable>, <xref:System.Xml.XmlNamespaceManager>, and <xref:System.Xml.XmlResolver> objects, from untrusted assemblies.</span></span>  
  
-   <span data-ttu-id="7bcc3-128">Parçalar büyük belge saldırıları azaltmak için veri okuma.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-128">Read data in chunks to mitigate large document attacks.</span></span>  
  
-   <span data-ttu-id="7bcc3-129">XSLT stil sayfaları komut dosyası bloklarında saldırıları sayısı getirebilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-129">Script blocks in XSLT style sheets can expose a number of attacks.</span></span>  
  
-   <span data-ttu-id="7bcc3-130">Dinamik XPath ifadeleri oluşturmak önce dikkatle doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-130">Validate carefully before constructing dynamic XPath expressions.</span></span>  
  
## <a name="linq-to-xml-security-issues"></a><span data-ttu-id="7bcc3-131">LINQ-XML güvenlik sorunları</span><span class="sxs-lookup"><span data-stu-id="7bcc3-131">LINQ to XML Security Issues</span></span>  
 <span data-ttu-id="7bcc3-132">Bu konuda güvenlik sorunları, belirli bir sırada sunulmayan.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-132">The security issues in this topic are not presented in any particular order.</span></span> <span data-ttu-id="7bcc3-133">Tüm sorunları önemlidir ve uygun şekilde ele alınması.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-133">All issues are important and should be addressed as appropriate.</span></span>  
  
 <span data-ttu-id="7bcc3-134">Başarılı bir ayrıcalık yükseltme saldırısı kötü amaçlı bir derleme ortamından üzerinde daha fazla denetim sağlar.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-134">A successful elevation of privilege attack gives a malicious assembly more control over its environment.</span></span> <span data-ttu-id="7bcc3-135">Başarılı bir ayrıcalık yükseltme saldırısı, verileri, hizmet reddi ve daha fazlasını açığa çıkmasına neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-135">A successful elevation of privilege attack can result in disclosure of data, denial of service, and more.</span></span>  
  
 <span data-ttu-id="7bcc3-136">Uygulamalar verileri görmek için yetkilendirilmemiş kullanıcılar verilere açığa çıkarmamak.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-136">Applications should not disclose data to users who are not authorized to see that data.</span></span>  
  
 <span data-ttu-id="7bcc3-137">Hizmet reddi saldırılarını aşırı miktarda bellek veya CPU süresi kullanmak için XML XML parser veya LINQ neden.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-137">Denial of service attacks cause the XML parser or LINQ to XML to consume excessive amounts of memory or CPU time.</span></span> <span data-ttu-id="7bcc3-138">Hizmet reddi saldırılarını ayrıcalıkların yükseltilmesi saldırılarını veya açığa veri saldırıların daha az önemli olarak değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-138">Denial of service attacks are considered to be less severe than elevation of privilege attacks or disclosure of data attacks.</span></span> <span data-ttu-id="7bcc3-139">Ancak, bunlar burada güvenilir olmayan kaynaklardan gelen XML belgelerini işlemek için bir sunucu gerektiren bir senaryo önemli değildir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-139">However, they are important in a scenario where a server needs to process XML documents from untrusted sources.</span></span>  
  
### <a name="exceptions-and-error-messages-might-reveal-data"></a><span data-ttu-id="7bcc3-140">Özel durumlar ve hata iletileri veri ortaya çıkarabilir</span><span class="sxs-lookup"><span data-stu-id="7bcc3-140">Exceptions and Error Messages Might Reveal Data</span></span>  
 <span data-ttu-id="7bcc3-141">Hata açıklaması dönüştürülmekte olan verileri gibi veri ortaya, dosya adları ya da uygulama ayrıntıları.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-141">The description of an error might reveal data, such as the data being transformed, file names, or implementation details.</span></span> <span data-ttu-id="7bcc3-142">Hata iletileri güvenilmeyen arayanlara açılmamalıdır değil.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-142">Error messages should not be exposed to callers that are not trusted.</span></span> <span data-ttu-id="7bcc3-143">Tüm catch hataları ve kendi özel hata iletileri ile rapor hataları.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-143">You should catch all errors and report errors with your own custom error messages.</span></span>  
  
### <a name="do-not-call-codeaccesspermissionsassert-in-an-event-handler"></a><span data-ttu-id="7bcc3-144">Bir olay işleyicisi CodeAccessPermissions.Assert çağırmayın</span><span class="sxs-lookup"><span data-stu-id="7bcc3-144">Do Not Call CodeAccessPermissions.Assert in an Event Handler</span></span>  
 <span data-ttu-id="7bcc3-145">Bir derlemeyi küçük olabilir veya büyük izinleri.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-145">An assembly can have lesser or greater permissions.</span></span> <span data-ttu-id="7bcc3-146">Büyük izinlerine sahip bir derleme bilgisayarı ve onun ortamları büyük denetime sahiptir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-146">An assembly that has greater permissions has greater control over the computer and its environments.</span></span>  
  
 <span data-ttu-id="7bcc3-147">Büyük izinlere sahip bir bütünleştirilmiş kod çağırırsa <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> olay işleyicisi sonra XML ağaç kötü amaçlı bir derlemeye sahip kısıtlı izinleri, kötü amaçlı derleme can neden olduğunu oluşturulması için bir olay geçirilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-147">If code in an assembly with greater permissions calls <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> in an event handler, and then the XML tree is passed to a malicious assembly that has restricted permissions, the malicious assembly can cause an event to be raised.</span></span> <span data-ttu-id="7bcc3-148">Kötü amaçlı derleme, ardından olay büyük izinlerle bütünleştirilmiş kodları çalıştığından, yükseltilmiş ayrıcalıklarla işletim.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-148">Because the event runs code that is in the assembly with greater permissions, the malicious assembly would then be operating with elevated privileges.</span></span>  
  
 <span data-ttu-id="7bcc3-149">Microsoft, hiçbir zaman çağrı önerir <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> bir olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-149">Microsoft recommends that you never call <xref:System.Security.CodeAccessPermission.Assert%2A?displayProperty=nameWithType> in an event handler.</span></span>  
  
### <a name="dtds-are-not-secure"></a><span data-ttu-id="7bcc3-150">DTD değil güvenli olan</span><span class="sxs-lookup"><span data-stu-id="7bcc3-150">DTDs are Not Secure</span></span>  
 <span data-ttu-id="7bcc3-151">DTD varlıklarda güvenli kendiliğinden değil.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-151">Entities in DTDs are inherently not secure.</span></span> <span data-ttu-id="7bcc3-152">İçin tüm bellek ve CPU süresi, bir hizmet reddi saldırısına neden kullanmak ayrıştırıcı neden DTD içeren bir kötü amaçlı bir XML belgesi mümkündür.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-152">It is possible for a malicious XML document that contains a DTD to cause the parser to use all memory and CPU time, causing a denial of service attack.</span></span> <span data-ttu-id="7bcc3-153">Bu nedenle, içinde LINQ-XML DTD işleme varsayılan olarak kapalıdır.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-153">Therefore, in LINQ to XML, DTD processing is turned off by default.</span></span> <span data-ttu-id="7bcc3-154">Güvenilir olmayan kaynaklardan gelen DTD'leri kabul.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-154">You should not accept DTDs from untrusted sources.</span></span>  
  
 <span data-ttu-id="7bcc3-155">Güvenilir olmayan kaynaklardan gelen DTD'leri kabul etmenin bir DTD başvuruda bulunan bir XML dosyası ve DTD dosyasını karşıya yüklemek Web kullanıcılarına sağlayan bir Web uygulaması örnektir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-155">One example of accepting DTDs from untrusted sources is a Web application that allows Web users to upload an XML file that references a DTD and a DTD file.</span></span> <span data-ttu-id="7bcc3-156">Doğrulama dosyasının bir hizmet reddi saldırısına sunucunuzda kötü amaçlı bir DTD yürütebilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-156">Upon validation of the file, a malicious DTD could execute a denial of service attack on your server.</span></span> <span data-ttu-id="7bcc3-157">Ayrıca anonim FTP erişimine olanak tanıyan bir ağ paylaşımındaki bir DTD başvurmak için DTD'leri güvenilmeyen kaynaklardan kabul, başka bir örnek verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-157">Another example of accepting DTDs from untrusted sources is to reference a DTD on a network share that also allows anonymous FTP access.</span></span>  
  
### <a name="avoid-excessive-buffer-allocation"></a><span data-ttu-id="7bcc3-158">Aşırı arabellek ayırma kaçının</span><span class="sxs-lookup"><span data-stu-id="7bcc3-158">Avoid Excessive Buffer Allocation</span></span>  
 <span data-ttu-id="7bcc3-159">Uygulama geliştiricilerinin son derece büyük veri kaynakları Kaynak Tükenmesi ve hizmet reddi saldırılarını açabilir bilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-159">Application developers should be aware that extremely large data sources can lead to resource exhaustion and denial of service attacks.</span></span>  
  
 <span data-ttu-id="7bcc3-160">Kötü niyetli bir kullanıcının gönderdiğinde ya da çok büyük bir XML belgesi yükler, aşırı sistem kaynaklarını tüketebilir XML'e LINQ neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-160">If a malicious user submits or uploads a very large XML document, it could cause LINQ to XML to consume excessive system resources.</span></span> <span data-ttu-id="7bcc3-161">Bu, bir hizmet reddi saldırısına oluşturabilecek.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-161">This can constitute a denial of service attack.</span></span> <span data-ttu-id="7bcc3-162">Bunu önlemek için ayarlayabileceğiniz <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> özelliği ve ardından sınırlı bir okuyucu yükleyebileceği belge boyutunda oluşturun.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-162">To prevent this, you can set the <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> property, and create a reader that is then limited in the size of document that it can load.</span></span> <span data-ttu-id="7bcc3-163">Okuyucu ardından XML ağacı oluşturmak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-163">You then use the reader to create the XML tree.</span></span>  
  
 <span data-ttu-id="7bcc3-164">Örneğin, maksimum boyutu güvenilmeyen bir kaynaktan gelen XML belgelerinin beklenen biliyorsanız 50'den az K bayt olması, ayarlamak <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> 100.000 için.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-164">For example, if you know that the maximum expected size of your XML documents coming from an untrusted source will be less than 50K bytes, set <xref:System.Xml.XmlReaderSettings.MaxCharactersInDocument%2A?displayProperty=nameWithType> to 100,000.</span></span> <span data-ttu-id="7bcc3-165">Bu, XML belgelerinin işlenmesini encumber değil ve aynı anda reddi büyük miktarlarda bellek kullanır, belgeleri karşıya hizmet tehditleri azaltmak.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-165">This will not encumber your processing of XML documents, and at the same time it will mitigate denial of service threats where documents might be uploaded that would consume large amounts of memory.</span></span>  
  
### <a name="avoid-excess-entity-expansion"></a><span data-ttu-id="7bcc3-166">Aşırı varlık genişletme kaçının</span><span class="sxs-lookup"><span data-stu-id="7bcc3-166">Avoid Excess Entity Expansion</span></span>  
 <span data-ttu-id="7bcc3-167">Bilinen bir DTD kullanırken hizmet reddi saldırılarını aşırı varlık genişletme neden olan bir belgeyi biridir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-167">One of the known denial of service attacks when using a DTD is a document that causes excessive entity expansion.</span></span> <span data-ttu-id="7bcc3-168">Bunu önlemek için ayarlayabileceğiniz <xref:System.Xml.XmlReaderSettings.MaxCharactersFromEntities%2A?displayProperty=nameWithType> özelliği ve ardından sınırlı bir okuyucu varlık genişletme neden karakter sayısını oluşturun.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-168">To prevent this, you can set the <xref:System.Xml.XmlReaderSettings.MaxCharactersFromEntities%2A?displayProperty=nameWithType> property, and create a reader that is then limited in the number of characters that result from entity expansion.</span></span> <span data-ttu-id="7bcc3-169">Okuyucu ardından XML ağacı oluşturmak için kullanın.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-169">You then use the reader to create the XML tree.</span></span>  
  
### <a name="limit-the-depth-of-the-xml-hierarchy"></a><span data-ttu-id="7bcc3-170">XML hiyerarşisinin derinliğini sınırla</span><span class="sxs-lookup"><span data-stu-id="7bcc3-170">Limit the Depth of the XML Hierarchy</span></span>  
 <span data-ttu-id="7bcc3-171">Bir belge hiyerarşisi aşırı derinliği olan gönderildiğinde bir olası hizmet reddi saldırısı ' dir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-171">One possible denial of service attack is when a document is submitted that has excessive depth of hierarchy.</span></span> <span data-ttu-id="7bcc3-172">Bunu önlemek için kayabilir bir <xref:System.Xml.XmlReader> kendi sınıfında öğelerinin derinliği sayar.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-172">To prevent this, you can wrap a <xref:System.Xml.XmlReader> in your own class that counts the depth of elements.</span></span> <span data-ttu-id="7bcc3-173">Önceden belirlenmiş bir makul düzeyi aşıyor, kötü amaçlı belge işlenmesini sonlandırabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-173">If the depth exceeds a predetermined reasonable level, you can terminate the processing of the malicious document.</span></span>  
  
### <a name="protect-against-untrusted-xmlreader-or-xmlwriter-implementations"></a><span data-ttu-id="7bcc3-174">XmlReader veya XmlWriter uygulamaları güvenilmeyen karşı koruma</span><span class="sxs-lookup"><span data-stu-id="7bcc3-174">Protect Against Untrusted XmlReader or XmlWriter Implementations</span></span>  
 <span data-ttu-id="7bcc3-175">Yöneticiler, herhangi bir harici olarak sağlanan olduğunu doğrulamalıdır <xref:System.Xml.XmlReader> veya <xref:System.Xml.XmlWriter> uygulamaları güçlü adlara sahip ve makine yapılandırmada kayıtlı.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-175">Administrators should verify that any externally supplied <xref:System.Xml.XmlReader> or <xref:System.Xml.XmlWriter> implementations have strong names and have been registered in the machine configuration.</span></span> <span data-ttu-id="7bcc3-176">Bu, kötü amaçlı kod okuyucu veya yüklenen gelen yazıcı olarak davranan engeller.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-176">This prevents malicious code masquerading as a reader or writer from being loaded.</span></span>  
  
### <a name="periodically-free-objects-that-reference-xname"></a><span data-ttu-id="7bcc3-177">Düzenli aralıklarla serbest nesneleri bu başvuru XName</span><span class="sxs-lookup"><span data-stu-id="7bcc3-177">Periodically Free Objects that Reference XName</span></span>  
 <span data-ttu-id="7bcc3-178">Belirli türdeki saldırılarına karşı korumak için uygulama programcıları başvuru tüm nesneleri serbest bir <xref:System.Xml.Linq.XName> düzenli olarak uygulama etki alanındaki nesne.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-178">To protect against certain kinds of attacks, application programmers should free all objects that reference an <xref:System.Xml.Linq.XName> object in the application domain on a regular basis.</span></span>  
  
### <a name="protect-against-random-xml-names"></a><span data-ttu-id="7bcc3-179">Rastgele XML adları karşı koruma</span><span class="sxs-lookup"><span data-stu-id="7bcc3-179">Protect Against Random XML Names</span></span>  
 <span data-ttu-id="7bcc3-180">Güvenilmeyen kaynaklardan veri yararlanan uygulamalar kullanarak düşünmelisiniz bir <xref:System.Xml.XmlReader> rastgele XML adları ve ad alanlarını olasılığını incelemek için diğer bir deyişle, Sarmalanan özel kod.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-180">Applications that take data from untrusted sources should consider using an <xref:System.Xml.XmlReader> that is wrapped in custom code to inspect for the possibility of random XML names and namespaces.</span></span> <span data-ttu-id="7bcc3-181">Bu tür rastgele XML adları ve ad alanlarını algılanmazsa, uygulama sonra zararlı belgeyi işlenmesini sonlandırabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-181">If such random XML names and namespaces are detected, the application can then terminate the processing of the malicious document.</span></span>  
  
 <span data-ttu-id="7bcc3-182">(Adları yok ad alanına dahil) herhangi bir verilen ad alanlarındaki sayısını sınırlamak makul bir sınır isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-182">You might want to limit the number of names in any given namespace (including names in no namespace) to a reasonable limit.</span></span>  
  
### <a name="annotations-are-accessible-by-software-components-that-share-a-linq-to-xml-tree"></a><span data-ttu-id="7bcc3-183">Ek açıklamalar bir LINQ to XML ağaç paylaşmak yazılım bileşenleri tarafından erişilebilir</span><span class="sxs-lookup"><span data-stu-id="7bcc3-183">Annotations Are Accessible by Software Components that Share a LINQ to XML Tree</span></span>  
 <span data-ttu-id="7bcc3-184">LINQ-XML, farklı uygulama bileşenleri yüklemek, doğrulamak, sorgu, dönüştürme, güncelleştirme ve XML ağaçlar bileşenleri arasında geçirilen XML verileri kaydetmek işleme ardışık düzen oluşturmak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-184">LINQ to XML could be used to build processing pipelines in which different application components load, validate, query, transform, update, and save XML data that is passed between components as XML trees.</span></span> <span data-ttu-id="7bcc3-185">Yükleme ve XML metni nesneleri seri hale getirme yükünü yalnızca ardışık düzen ucunda yapıldığından bu performansı en iyi duruma getirme yardımcı olabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-185">This can help optimize performance, because the overhead of loading and serializing objects to XML text is done only at the ends of the pipeline.</span></span> <span data-ttu-id="7bcc3-186">Geliştiriciler ancak, tüm ek açıklamaları ve bir bileşen tarafından oluşturulan olay işleyicileri için diğer bileşenleri erişilebilir olduğunu aklınızda bulundurun gerekir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-186">Developers must be aware, however, that all annotations and event handlers created by one component are accessible to other components.</span></span> <span data-ttu-id="7bcc3-187">Farklı güven düzeyleri bileşenleri varsa, bu bir dizi güvenlik açıkları oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-187">This can create a number of vulnerabilities if the components have different levels of trust.</span></span> <span data-ttu-id="7bcc3-188">Daha az güvenilen bileşenlerinde güvenli ardışık düzen oluşturmak için LINQ XML metni için XML nesnelere güvenilmeyen bir bileşen verileri geçirmeden önce seri hale gerekir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-188">To build secure pipelines across less trusted components, you must serialize LINQ to XML objects to XML text before passing the data to an untrusted component.</span></span>  
  
 <span data-ttu-id="7bcc3-189">Bazı güvenlik ortak dil çalışma zamanı tarafından (CLR) sağlanır.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-189">Some security is provided by the common language runtime (CLR).</span></span> <span data-ttu-id="7bcc3-190">Örneğin, özel bir sınıf içermeyen bir bileşeni o sınıf tarafından Anahtarlanan ek açıklamaları erişemiyor.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-190">For example, a component that does not include a private class cannot access annotations keyed by that class.</span></span> <span data-ttu-id="7bcc3-191">Ancak, ek açıklamalar, bunları okuyamıyor bileşenleri tarafından silinebilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-191">However, annotations can be deleted by components that cannot read them.</span></span> <span data-ttu-id="7bcc3-192">Bu değiştirme bir saldırı olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-192">This could be used as a tampering attack.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7bcc3-193">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="7bcc3-193">See Also</span></span>  
 [<span data-ttu-id="7bcc3-194">Programlama Kılavuzu (LINQ-XML) (C#)</span><span class="sxs-lookup"><span data-stu-id="7bcc3-194">Programming Guide (LINQ to XML) (C#)</span></span>](../../../../csharp/programming-guide/concepts/linq/programming-guide-linq-to-xml.md)
