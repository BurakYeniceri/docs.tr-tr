---
title: Desen otomatik olarak Onayla
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 668aec65-78d3-4636-9c7b-deed643a18f9
caps.latest.revision: "6"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: c3595e501341f64883ce2552f0a3c0850691f38c
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/22/2017
---
# <a name="auto-confirm-pattern"></a><span data-ttu-id="c15fe-102">Desen otomatik olarak Onayla</span><span class="sxs-lookup"><span data-stu-id="c15fe-102">Auto-Confirm Pattern</span></span>
<span data-ttu-id="c15fe-103">Bu örnek özel bir gösteren çalıştıran üç senaryoları oluşur `AutoConfirmScope` etkinlik.</span><span class="sxs-lookup"><span data-stu-id="c15fe-103">This sample consists of three scenarios that run illustrating a custom `AutoConfirmScope` activity.</span></span> <span data-ttu-id="c15fe-104">İlk örnek burada ikinci ve üçüncü iç içe geçmiş içinde dört compensable etkinlikler dizisini aktarılmadığı gösterilir bir `AutoConfirmScope`.</span><span class="sxs-lookup"><span data-stu-id="c15fe-104">The first sample shows the successful execution of a sequence of four compensable activities where the second and third are nested in an `AutoConfirmScope`.</span></span> <span data-ttu-id="c15fe-105">İkinci örnek aynı dördüncü yürütme sonrasında oluşan bir özel durum ile gösterilir <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="c15fe-105">The second sample shows the same sequence with an exception occurring after the execution of the fourth <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="c15fe-106">Üçüncü senaryo aynı içinde gerçekleşen bir özel durum ile gösterilir `AutoConfirmScope` saniye sonra <xref:System.Activities.Statements.CompensableActivity> tamamlar.</span><span class="sxs-lookup"><span data-stu-id="c15fe-106">The third scenario shows the same sequence with an exception occurring in the `AutoConfirmScope` after the second <xref:System.Activities.Statements.CompensableActivity> completes.</span></span>  
  
 <span data-ttu-id="c15fe-107">Örnek, tüm alt compensable etkinlikleri kapsamı başarıyla tamamlanmasından sonra burada onaylanır auto-confirm düzeni gösterir.</span><span class="sxs-lookup"><span data-stu-id="c15fe-107">The sample demonstrates the auto-confirm pattern where all child compensable activities are confirmed upon successful completion of the scope.</span></span> <span data-ttu-id="c15fe-108">Bunlar artık dengelendi onaylanıp veya gibi bu deseni tüm alt compensable etkinlikleri, ömrü tanımlar.</span><span class="sxs-lookup"><span data-stu-id="c15fe-108">This pattern defines the lifetime of all child compensable activities, as they can no longer be compensated or confirmed.</span></span>  
  
 <span data-ttu-id="c15fe-109">Kapsam oluşan bir <xref:System.Activities.Statements.TryCatch> nerede <xref:System.Activities.Statements.TryCatch.Try%2A> bir iç <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="c15fe-109">The scope consists of a <xref:System.Activities.Statements.TryCatch> where the <xref:System.Activities.Statements.TryCatch.Try%2A> is an internal <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="c15fe-110">Kullanıcı tarafından belirtilen gövdesi `AutoConfirmScope` iç gövdesi <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="c15fe-110">The user-specified body of the `AutoConfirmScope` is the body of the inner <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="c15fe-111">Bu dahili zaman <xref:System.Activities.Statements.CompensableActivity> tamamlar, onu üreten bir <xref:System.Activities.Statements.CompensationToken> çıkış-bağımsız değişken olarak.</span><span class="sxs-lookup"><span data-stu-id="c15fe-111">When this internal <xref:System.Activities.Statements.CompensableActivity> completes, it produces a <xref:System.Activities.Statements.CompensationToken> as an out-argument.</span></span> <span data-ttu-id="c15fe-112">`AutoConfirmScope` Kullanan bir <xref:System.Activities.Statements.TryCatch.Finally%2A> belirteci bir olup üretilen ve iç onaylar sonra olup olmadığını denetlemek için <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="c15fe-112">The `AutoConfirmScope` uses a <xref:System.Activities.Statements.TryCatch.Finally%2A> to check whether the token has been produced and if it has then it confirms the inner <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="c15fe-113">İç <xref:System.Activities.Statements.CompensableActivity> kendi gövdesinde bulunabilir compensable etkinlikler için varsayılan maaş çağırır.</span><span class="sxs-lookup"><span data-stu-id="c15fe-113">The inner <xref:System.Activities.Statements.CompensableActivity> invokes the default compensation for any compensable activities that may exist in its body.</span></span>  
  
 <span data-ttu-id="c15fe-114">İlk senaryoda, iş akışının aktarılmadığı gösterilir ve ikinci ve üçüncü compensable etkinlikler iş akışı tamamlandığında ve birinci ve dördüncü onaylanıp başlatıldığında zaten onaylanır gösterir.</span><span class="sxs-lookup"><span data-stu-id="c15fe-114">The first scenario shows successful execution of the workflow and demonstrates that the second and third compensable activities are already confirmed when the workflow completes and the first and fourth are confirmed.</span></span> <span data-ttu-id="c15fe-115">Bu üç, iki, dört ve bir onay sırasını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c15fe-115">This produces a confirmation order of three, two, four, and one.</span></span>  
  
 <span data-ttu-id="c15fe-116">İkinci senaryo dört compensable etkinlikleri tamamlandıktan sonra bir özel durum gösterir.</span><span class="sxs-lookup"><span data-stu-id="c15fe-116">The second scenario shows an exception after the four compensable activities have completed.</span></span> <span data-ttu-id="c15fe-117">İkinci ve üçüncü compensable etkinlikleri zaten oldukları onaylandığı çünkü etkilenmemiştir ancak biri ve dört dengelendi.</span><span class="sxs-lookup"><span data-stu-id="c15fe-117">Because compensable activities two and three are already confirmed they are unaffected but one and four are compensated.</span></span> <span data-ttu-id="c15fe-118">Bu üretir üç onaylayın, iki onaylayın, dört dengelemek ve şunlardan dengelemek.</span><span class="sxs-lookup"><span data-stu-id="c15fe-118">This produces confirm three, confirm two, compensate four and compensate one.</span></span>  
  
 <span data-ttu-id="c15fe-119">Başarısız yürütülmesi son senaryo gösterilmektedir `AutoConfirmScope`.</span><span class="sxs-lookup"><span data-stu-id="c15fe-119">The final scenario shows unsuccessful execution of the `AutoConfirmScope`.</span></span> <span data-ttu-id="c15fe-120">Bu senaryoda, ikinci tamamlandıktan sonra bir özel durum oluşur <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="c15fe-120">In this scenario, an exception occurs after the completion of the second <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="c15fe-121">Üçüncü ve dördüncü compensable etkinlikleri yürütülmedi olduğundan, bunlar etkilenmez.</span><span class="sxs-lookup"><span data-stu-id="c15fe-121">Because the third and fourth compensable activities have not executed, they are unaffected.</span></span> <span data-ttu-id="c15fe-122">Kapsam başarıyla tamamlanmadığı ikinci <xref:System.Activities.Statements.CompensableActivity> doğrulanmamış.</span><span class="sxs-lookup"><span data-stu-id="c15fe-122">Because the scope did not complete successfully, the second <xref:System.Activities.Statements.CompensableActivity> does not get confirmed.</span></span> <span data-ttu-id="c15fe-123">Bu oluşturur ve iki sonra biri maaş sırası.</span><span class="sxs-lookup"><span data-stu-id="c15fe-123">This produces and compensation order of two then one.</span></span>  
  
#### <a name="to-use-this-sample"></a><span data-ttu-id="c15fe-124">Bu örneği kullanmak için</span><span class="sxs-lookup"><span data-stu-id="c15fe-124">To use this sample</span></span>  
  
1.  <span data-ttu-id="c15fe-125">Kullanarak [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], AutoConfirmSample.sln çözüm dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="c15fe-125">Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the AutoConfirmSample.sln solution file.</span></span>  
  
2.  <span data-ttu-id="c15fe-126">Çözümü derlemek için CTRL + SHIFT + B tuşuna basın.</span><span class="sxs-lookup"><span data-stu-id="c15fe-126">To build the solution, press CTRL+SHIFT+B.</span></span>  
  
3.  <span data-ttu-id="c15fe-127">Çözümü çalıştırmak için CTRL + F5 tuşuna basın.</span><span class="sxs-lookup"><span data-stu-id="c15fe-127">To run the solution, press CTRL+F5.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="c15fe-128">Örnekler, makinenizde zaten yüklü olabilir.</span><span class="sxs-lookup"><span data-stu-id="c15fe-128">The samples may already be installed on your machine.</span></span> <span data-ttu-id="c15fe-129">Devam etmeden önce aşağıdaki (varsayılan) dizin denetleyin.</span><span class="sxs-lookup"><span data-stu-id="c15fe-129">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="c15fe-130">Bu dizin mevcut değilse, Git [Windows Communication Foundation (WCF) ve .NET Framework 4 için Windows Workflow Foundation (WF) örnek](http://go.microsoft.com/fwlink/?LinkId=150780) tüm indirmek için [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] ve [!INCLUDE[wf1](../../../../includes/wf1-md.md)] örnekleri.</span><span class="sxs-lookup"><span data-stu-id="c15fe-130">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="c15fe-131">Bu örnek aşağıdaki dizinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="c15fe-131">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Scenario\Compensation\AutoConfirm`