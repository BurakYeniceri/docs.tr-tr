---
title: "Federasyon ve Güven"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: federation [WCF], and trust
ms.assetid: 4bdec4f2-f8a2-4512-bdcf-14ef54b5877a
caps.latest.revision: "12"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: db5ac2f0f85355e0163805bd0bb348bb54913c0e
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/21/2017
---
# <a name="federation-and-trust"></a><span data-ttu-id="7d570-102">Federasyon ve Güven</span><span class="sxs-lookup"><span data-stu-id="7d570-102">Federation and Trust</span></span>
<span data-ttu-id="7d570-103">Bu konu, Federasyon uygulamalarına, güven sınırları ve yapılandırmasıyla ilgili çeşitli yönlerini kapsar ve kullanımını verilen belirteçleri [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7d570-103">This topic covers various aspects related to federated applications, trust boundaries and configuration, and use of issued tokens in [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span></span>  
  
## <a name="services-security-token-services-and-trust"></a><span data-ttu-id="7d570-104">Hizmetleri, güvenlik belirteci Hizmetleri ve güven</span><span class="sxs-lookup"><span data-stu-id="7d570-104">Services, Security Token Services, and Trust</span></span>  
 <span data-ttu-id="7d570-105">Federasyon uç noktaları genellikle kullanıma Hizmetleri istemcilerin belirli bir gönderici tarafından sağlanan bir belirteci kullanarak kimlik doğrulaması için bekler.</span><span class="sxs-lookup"><span data-stu-id="7d570-105">Services that expose federated endpoints typically expect clients to authenticate using a token provided by a specific issuer.</span></span> <span data-ttu-id="7d570-106">Hizmet veren için doğru kimlik bilgileri ile yapılandırılan önemlidir; Aksi takdirde verilen belirteçler imzaları doğrulamak mümkün olmaz ve istemci hizmeti ile iletişim kuramayacaktır.</span><span class="sxs-lookup"><span data-stu-id="7d570-106">It is important that the service is configured with the correct credentials for the issuer; otherwise, it will not be able to verify signatures over the issued tokens, and the client will be unable to communicate with the service.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="7d570-107">verici kimlik bilgileri üzerindeki hizmeti yapılandırma, bkz: [nasıl yapılır: bir Federasyon Hizmeti kimlik bilgileri yapılandırma](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).</span><span class="sxs-lookup"><span data-stu-id="7d570-107"> configuring issuer credentials on the service, see [How to: Configure Credentials on a Federation Service](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).</span></span>  
  
 <span data-ttu-id="7d570-108">Hedef hizmet için doğru kimlik bilgileriyle güvenlik belirteci hizmeti yapılandırmak için benzer şekilde, simetrik anahtarlar kullanırken, anahtarları hedef hizmet için şifrelenir; Aksi takdirde, hedef hizmet için anahtarı şifrelemek mümkün olmayacaktır ve yeniden istemci hizmeti ile iletişim kuramayacaktır.</span><span class="sxs-lookup"><span data-stu-id="7d570-108">Similarly, when using symmetric keys, the keys are encrypted for the target service, so you must configure the security token service with the correct credentials for the target service; otherwise, it will be unable to encrypt the key for the target service, and again, the client will be unable to communicate with the service.</span></span>  
  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="7d570-109">Hizmetleri kullanma değerini <xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxClockSkew%2A> özelliği [SecurityBindingElement](../../../../docs/framework/wcf/diagnostics/wmi/securitybindingelement.md) saati istemci ile hizmet arasında eğme izin vermek için.</span><span class="sxs-lookup"><span data-stu-id="7d570-109"> services use the value of the <xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxClockSkew%2A> property on the [SecurityBindingElement](../../../../docs/framework/wcf/diagnostics/wmi/securitybindingelement.md) to allow for clock skew between the client and service.</span></span> <span data-ttu-id="7d570-110">Federasyon içinde `MaxClockSkew` ayarı uygulanır saati Eğer hem istemci hem de istemci burada verilen belirteç elde gelen güvenlik belirteci hizmeti arasında.</span><span class="sxs-lookup"><span data-stu-id="7d570-110">In federation, the `MaxClockSkew` setting applies to clock skews between both the client and the security token service from where the client obtained the issued token.</span></span> <span data-ttu-id="7d570-111">Bu nedenle, güvenlik belirteci Hizmetleri saat eğriltme kesintileri verilen belirtecin geçerlilik tarihi ve bitiş zamanları ayarlarken yapmamanız.</span><span class="sxs-lookup"><span data-stu-id="7d570-111">Therefore, security token services need not make clock-skew allowances when setting the issued token's effective and expiration times.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="7d570-112">Verilen belirteç ömrü kısaltır saat eğriltme önemini artar.</span><span class="sxs-lookup"><span data-stu-id="7d570-112">The importance of clock skew increases as the lifetime of the issued token shortens.</span></span> <span data-ttu-id="7d570-113">Belirteç ömrü 30 dakika veya daha fazla olduğunda, çoğu durumda, saat eğriltme önemli bir sorun değildir.</span><span class="sxs-lookup"><span data-stu-id="7d570-113">In most cases, clock skew is not a significant issue if the token lifetime is 30 minutes or more.</span></span> <span data-ttu-id="7d570-114">Daha kısa yaşam süresi veya belirteç tam geçerlilik süresini önemli olduğu senaryolar saat eğriltme dikkate tasarlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="7d570-114">Scenarios with shorter lifetimes or where the exact validity time of the token is important should be designed to take clock skew into account.</span></span>  
  
## <a name="federated-endpoints-and-time-outs"></a><span data-ttu-id="7d570-115">Federasyon uç noktaları ve zaman aşımları</span><span class="sxs-lookup"><span data-stu-id="7d570-115">Federated Endpoints and Time-Outs</span></span>  
 <span data-ttu-id="7d570-116">Bir istemci federe bir uç noktasıyla iletişim kurduğunda, öncelikle bir güvenlik belirteci hizmeti uygun bir belirtecinden edinmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="7d570-116">When a client communicates with a federated endpoint, it must first acquire an appropriate token from a security token service.</span></span> <span data-ttu-id="7d570-117">Güvenlik belirteci hizmeti federe bir uç noktasını kullanıma sunar, istemci o uç noktası için verenden önce bir belirteç edinmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="7d570-117">If the security token service exposes a federated endpoint, the client must first obtain a token from the issuer for that endpoint.</span></span> <span data-ttu-id="7d570-118">Her belirteç edinme zaman alır ve son uç noktasına gerçek iletisi göndermek için genel zaman aşımı saat tabidir.</span><span class="sxs-lookup"><span data-stu-id="7d570-118">Each token acquisition takes time, and that time is subject to the overall time-out for sending the actual message to the final endpoint.</span></span>  
  
 <span data-ttu-id="7d570-119">Örneğin, istemci tarafı kanal zaman aşımı süresini 30 saniye olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="7d570-119">For example, the time-out on the client-side channel is set to 30 seconds.</span></span> <span data-ttu-id="7d570-120">Her bir belirteç vermek üzere 15 saniye sürer ve iki belirteci verenler son uç noktasına iletiyi göndermeden önce belirteçleri almak için çağrılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="7d570-120">Two token issuers need to be called to retrieve tokens before sending the message to the final endpoint, and each takes 15 seconds to issue a token.</span></span> <span data-ttu-id="7d570-121">Bu durumda, denemesi başarısız olur ve bir <xref:System.TimeoutException> oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="7d570-121">In this case, the attempt will fail and a <xref:System.TimeoutException> is thrown.</span></span> <span data-ttu-id="7d570-122">Bu nedenle, ayarlamanız gerekir <xref:System.ServiceModel.IContextChannel.OperationTimeout%2A> değer almak için geçen süre dahil etmek için büyük bir değere istemci kanalındaki tüm verilen belirteçleri.</span><span class="sxs-lookup"><span data-stu-id="7d570-122">Thus, you need to set the <xref:System.ServiceModel.IContextChannel.OperationTimeout%2A> value on the client channel to a value large enough to include the time taken to retrieve all issued tokens.</span></span> <span data-ttu-id="7d570-123">Burada bir değer belirtilmemişse için durumda <xref:System.ServiceModel.IContextChannel.OperationTimeout%2A> özelliği, <xref:System.ServiceModel.Channels.Binding.OpenTimeout%2A> özelliği veya <xref:System.ServiceModel.Channels.Binding.SendTimeout%2A> özelliği (veya her ikisi de) tüm verilen belirteçleri almak için geçen süre dahil etmek için büyük bir değere ayarlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="7d570-123">In the case where a value is not specified for the <xref:System.ServiceModel.IContextChannel.OperationTimeout%2A> property, the <xref:System.ServiceModel.Channels.Binding.OpenTimeout%2A> property or the <xref:System.ServiceModel.Channels.Binding.SendTimeout%2A> property (or both) need to be set to a value large enough to include the time taken to retrieve all issued tokens.</span></span>  
  
## <a name="token-lifetime-and-renewal"></a><span data-ttu-id="7d570-124">Belirteç ömrü ve yenileme</span><span class="sxs-lookup"><span data-stu-id="7d570-124">Token Lifetime and Renewal</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="7d570-125">istemciler, bir hizmete ilk isteği yaparken, verilen belirteç denetlemez.</span><span class="sxs-lookup"><span data-stu-id="7d570-125"> clients do not check the issued token when making an initial request to a service.</span></span>  <span data-ttu-id="7d570-126">Bunun yerine, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] uygun geçerlilik tarihi ve bitiş zamanları ile bir belirteç vermek için güvenlik belirteci hizmeti güvenir.</span><span class="sxs-lookup"><span data-stu-id="7d570-126">Rather, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] trusts the security token service to issue a token with appropriate effective and expiration times.</span></span> <span data-ttu-id="7d570-127">Belirteç istemci tarafından önbelleğe alınmış ve yeniden, belirteç ömrü sonraki isteklerde denetlenir ve istemci otomatik olarak gerekirse belirteci yeniler.</span><span class="sxs-lookup"><span data-stu-id="7d570-127">If the token is cached by the client and reused, the token lifetime is checked on subsequent requests and the client automatically renews the token if necessary.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="7d570-128">belirteç önbelleğe alma, bkz: [nasıl yapılır: federe istemci oluşturma](../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md).</span><span class="sxs-lookup"><span data-stu-id="7d570-128"> token caching, see [How to: Create a Federated Client](../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md).</span></span>  
  
 <span data-ttu-id="7d570-129">Verilen belirteçleri veya güvenlik bağlamı belirteçleri, anlaşma aşımları sonuçlanabilir için veya diğer özel durumlar tarafından oluşturulan 30 saniye veya daha az sipariş kısa yaşam süresi belirtme [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] isterken istemcileri verilen belirteçleri veya anlaşması sırasında veya güvenlik bağlamı belirteçleri yenileme.</span><span class="sxs-lookup"><span data-stu-id="7d570-129">Specifying short lifetimes, on the order of 30 seconds or less for issued tokens or security context tokens, may result in negotiation time-outs or other exceptions being thrown by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] clients when requesting issued tokens or when negotiating or renewing security context tokens.</span></span>  
  
## <a name="issued-tokens-and-inclusionmode"></a><span data-ttu-id="7d570-130">Verilen belirteçler ve InclusionMode</span><span class="sxs-lookup"><span data-stu-id="7d570-130">Issued Tokens and InclusionMode</span></span>  
 <span data-ttu-id="7d570-131">Verilen bir belirteç federe bir uç noktası için bir istemciden gönderilen bir ileti serileştirilmiş veya ayarlayarak denetlenmeyen <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.InclusionMode%2A> özelliği <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="7d570-131">Whether an issued token is serialized in a message sent from a client to a federated endpoint or not is controlled by setting the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.InclusionMode%2A> property of the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters> class.</span></span> <span data-ttu-id="7d570-132">Bu özellik, birine ayarlanabilir <xref:System.ServiceModel.Security.Tokens.SecurityTokenInclusionMode> numaralandırma değerlerinin, ancak en federe senaryolarda yararlı değildir.</span><span class="sxs-lookup"><span data-stu-id="7d570-132">This property can be set to one of the <xref:System.ServiceModel.Security.Tokens.SecurityTokenInclusionMode> enumeration values, but it is not useful in most federated scenarios.</span></span> <span data-ttu-id="7d570-133">`SecurityTokenInclusionMode.Never` Ve `SecurityTokenInclusionMode.AlwaysToInitiator` değerler bağlı olan taraf için güvenlik belirteci hizmeti tarafından verilen belirteç başvuru göndermek istemci neden olur.</span><span class="sxs-lookup"><span data-stu-id="7d570-133">The `SecurityTokenInclusionMode.Never` and `SecurityTokenInclusionMode.AlwaysToInitiator` values cause the client to send a reference to the token issued by the security token service to the relying party.</span></span> <span data-ttu-id="7d570-134">Bağlı olan taraf verilen belirteç, kimlik doğrulama kopyasını sahip olduğu sürece, belirteç başvurusu çözümlenebilir olmadığı için başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="7d570-134">Unless the relying party possesses a copy of the issued token, authentication will fail because the token reference is not resolvable.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="7d570-135">işler `SecurityTokenInclusionMode.Once` eşdeğer olarak `SecurityTokenInclusionMode.AlwaysToRecipient`.</span><span class="sxs-lookup"><span data-stu-id="7d570-135"> treats `SecurityTokenInclusionMode.Once` as equivalent to `SecurityTokenInclusionMode.AlwaysToRecipient`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7d570-136">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="7d570-136">See Also</span></span>  
 <xref:System.ServiceModel.Security.Tokens.SecurityTokenInclusionMode>  
 [<span data-ttu-id="7d570-137">Nasıl yapılır: federe istemci oluşturma</span><span class="sxs-lookup"><span data-stu-id="7d570-137">How to: Create a Federated Client</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md)  
 [<span data-ttu-id="7d570-138">Nasıl yapılır: federe bir hizmette kimlik bilgilerini yapılandırın</span><span class="sxs-lookup"><span data-stu-id="7d570-138">How to: Configure Credentials on a Federation Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md)  
 [<span data-ttu-id="7d570-139">Nasıl yapılır: WSFederationHttpBinding oluşturma</span><span class="sxs-lookup"><span data-stu-id="7d570-139">How to: Create a WSFederationHttpBinding</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-wsfederationhttpbinding.md)
