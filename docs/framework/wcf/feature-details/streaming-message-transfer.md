---
title: "İleti Aktarma Akışı"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 72a47a51-e5e7-4b76-b24a-299d51e0ae5a
caps.latest.revision: "13"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 0ff5fbf570c826f5c430109d9f79b3d5f39382f6
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/02/2017
---
# <a name="streaming-message-transfer"></a><span data-ttu-id="8e2a1-102">İleti Aktarma Akışı</span><span class="sxs-lookup"><span data-stu-id="8e2a1-102">Streaming Message Transfer</span></span>
[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]<span data-ttu-id="8e2a1-103">taşımalar iletileri aktarmak için iki modunu destekler:</span><span class="sxs-lookup"><span data-stu-id="8e2a1-103"> transports support two modes for transferring messages:</span></span>  
  
-   <span data-ttu-id="8e2a1-104">Aktarım işlemi tamamlanana kadar arabelleğe alınan aktarımları tüm ileti bir bellek arabelleği basılı tutun.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-104">Buffered transfers hold the entire message in a memory buffer until the transfer is complete.</span></span> <span data-ttu-id="8e2a1-105">Bir alıcı okumadan önce arabelleğe alınan ileti tamamen teslim gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-105">A buffered message must be completely delivered before a receiver can read it.</span></span>  
  
-   <span data-ttu-id="8e2a1-106">Akış aktarımları ileti akışı olarak kullanıma sunar.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-106">Streamed transfers expose the message as a stream.</span></span> <span data-ttu-id="8e2a1-107">Alıcı tamamen teslim edilmeden önce iletiyi işlemeyi başlatır.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-107">The receiver starts processing the message before it is completely delivered.</span></span>  
  
-   <span data-ttu-id="8e2a1-108">Akış aktarımları bir hizmeti ölçeklenebilirliği büyük bellek arabelleği gereksinimini ortadan kaldırarak artırabilir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-108">Streamed transfers can improve the scalability of a service by eliminating the requirement for large memory buffers.</span></span> <span data-ttu-id="8e2a1-109">Aktarım modunu değiştirme ölçeklenebilirliği artırır olup olmadığını aktarılan iletileri boyutuna bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-109">Whether changing the transfer mode improves scalability depends on the size of the messages being transferred.</span></span> <span data-ttu-id="8e2a1-110">Büyük ileti boyutları akış aktarımları kullanarak favor.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-110">Large message sizes favor using streamed transfers.</span></span>  
  
 <span data-ttu-id="8e2a1-111">Varsayılan olarak HTTP, TCP/IP'yi ve adlandırılmış kanal taşımaları arabelleğe alınan aktarımları kullanır.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-111">By default, the HTTP, TCP/IP, and named pipe transports use buffered transfers.</span></span> <span data-ttu-id="8e2a1-112">Bu belge, bu taşımalar arabelleğe alınan bir geçiş yapmak açıklar akış aktarım modu ve böylece sonuçlarıyla.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-112">This document describes how to switch these transports from a buffered to streamed transfer mode and the consequences of doing so.</span></span>  
  
## <a name="enabling-streamed-transfers"></a><span data-ttu-id="8e2a1-113">Akış aktarımları etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="8e2a1-113">Enabling Streamed Transfers</span></span>  
 <span data-ttu-id="8e2a1-114">Arabelleğe alınan ve akış aktarımı modlar arasında seçerek aktarım bağlama öğesi üzerindeki gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-114">Selecting between buffered and streamed transfer modes is done on the binding element of the transport.</span></span> <span data-ttu-id="8e2a1-115">Bağlama öğeye sahip bir <xref:System.ServiceModel.TransferMode> ayarlanabilir özelliği `Buffered`, `Streamed`, `StreamedRequest`, veya `StreamedResponse`.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-115">The binding element has a <xref:System.ServiceModel.TransferMode> property that can be set to `Buffered`, `Streamed`, `StreamedRequest`, or `StreamedResponse`.</span></span> <span data-ttu-id="8e2a1-116">Aktarım Modu ayarını `Streamed` akış iki yönlü iletişimi etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-116">Setting the transfer mode to `Streamed` enables streaming communication in both directions.</span></span> <span data-ttu-id="8e2a1-117">Aktarım Modu ayarını `StreamedRequest` veya `StreamedResponse` akış belirtilen yönde yalnızca iletişimi etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-117">Setting the transfer mode to `StreamedRequest` or `StreamedResponse` enables streaming communication in the indicated direction only.</span></span>  
  
 <span data-ttu-id="8e2a1-118"><xref:System.ServiceModel.BasicHttpBinding>, <xref:System.ServiceModel.NetTcpBinding>, Ve <xref:System.ServiceModel.NetNamedPipeBinding> bağlamaları açığa <xref:System.ServiceModel.TransferMode> özelliği.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-118">The <xref:System.ServiceModel.BasicHttpBinding>, <xref:System.ServiceModel.NetTcpBinding>, and <xref:System.ServiceModel.NetNamedPipeBinding> bindings expose the <xref:System.ServiceModel.TransferMode> property.</span></span> <span data-ttu-id="8e2a1-119">Diğer aktarımı için aktarım modu ayarlamak için özel bağlama oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-119">For other transports, you must create a custom binding to set the transfer mode.</span></span>  
  
 <span data-ttu-id="8e2a1-120">Arabelleğe alınan veya akış aktarımları kullanmaya karar, uç noktanın yerel bir karardır.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-120">The decision to use either buffered or streamed transfers is a local decision of the endpoint.</span></span> <span data-ttu-id="8e2a1-121">HTTP taşımaları için aktarım modu bağlantısı üzerinden veya sunuculara ve diğer aracılar dağıtılmaz.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-121">For HTTP transports, the transfer mode does not propagate across a connection, or to servers and other intermediaries.</span></span> <span data-ttu-id="8e2a1-122">Aktarım modunu ayarlama hizmet arabirimi açıklamasında yansıtılmaz.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-122">Setting the transfer mode is not reflected in the description of the service interface.</span></span> <span data-ttu-id="8e2a1-123">Bir hizmet için bir istemci sınıfı oluşturduktan sonra akış aktarımları modu ayarlamak için kullanılması hedeflenen Hizmetleri için yapılandırma dosyasını düzenlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-123">After generating a client class for a service, you must edit the configuration file for services intended to be used with streamed transfers to set the mode.</span></span> <span data-ttu-id="8e2a1-124">TCP ve adlandırılmış kanal aktarımlar, aktarım modu İlkesi onaylama yayılır.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-124">For TCP and named pipe transports, the transfer mode is propagated as a policy assertion.</span></span>  
  
 <span data-ttu-id="8e2a1-125">Kod örnekleri için bkz: [nasıl yapılır: etkinleştirmek akış](../../../../docs/framework/wcf/feature-details/how-to-enable-streaming.md).</span><span class="sxs-lookup"><span data-stu-id="8e2a1-125">For code samples, see [How to: Enable Streaming](../../../../docs/framework/wcf/feature-details/how-to-enable-streaming.md).</span></span>  
  
## <a name="enabling-asynchronous-streaming"></a><span data-ttu-id="8e2a1-126">Zaman uyumsuz akış etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="8e2a1-126">Enabling Asynchronous Streaming</span></span>  
 <span data-ttu-id="8e2a1-127">Zaman uyumsuz akışını etkinleştirmek için ekleme <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> uç noktası davranışı hizmeti ana bilgisayarı ve kümesi için kendi <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> özelliğine `true`.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-127">To enable asynchronous streaming, add the  <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> endpoint behavior to the service host and set its <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> property to `true`.</span></span>  
  
 <span data-ttu-id="8e2a1-128">WCF bu sürümü ayrıca adde true zaman uyumsuz gönderme tarafında akış özelliği.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-128">This version of WCF also adde the capability of true asynchronous streaming on the send side.</span></span> <span data-ttu-id="8e2a1-129">Bu, burada iletileri bazıları okuma yavaş olan birden çok istemciye akış senaryoları hizmetinde ölçeklenebilirliğini artırır; büyük olasılıkla Ağ Tıkanıklığı veya olan nedeniyle hiç okuma değil.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-129">This improves scalability of the service in scenarios where it is streaming messages to multiple clients some of which are slow in reading; possibly due to network congestion or are not reading at all.</span></span> <span data-ttu-id="8e2a1-130">Bu senaryolarda WCF Hizmeti istemci başına üzerinde tek tek iş parçacığı artık engeller.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-130">In these scenarios WCF no longer blocks individual threads on the service per client.</span></span> <span data-ttu-id="8e2a1-131">Bu hizmet böylece hizmet ölçeklenebilirliğini geliştirmek çok daha fazla istemci işleyebilmesi olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-131">This ensures that the service is able to process many more clients thereby improving the scalability of the service.</span></span>  
  
## <a name="restrictions-on-streamed-transfers"></a><span data-ttu-id="8e2a1-132">Akış aktarımları kısıtlamalar</span><span class="sxs-lookup"><span data-stu-id="8e2a1-132">Restrictions on Streamed Transfers</span></span>  
 <span data-ttu-id="8e2a1-133">Akış aktarım modunu kullanarak ek kısıtlamalarını uygulamak çalışma süresi neden olur.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-133">Using the streamed transfer mode causes the run time to enforce additional restrictions.</span></span>  
  
 <span data-ttu-id="8e2a1-134">Akışlı bir aktarım gerçekleşen işlem giriş veya çıkış en fazla bir parametre ile bir sözleşme olabilir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-134">Operations that occur across a streamed transport can have a contract with at most one input or output parameter.</span></span> <span data-ttu-id="8e2a1-135">Bu parametrenin tüm ileti gövdesi için karşılık gelen ve olmalıdır bir <xref:System.ServiceModel.Channels.Message>, bir tür türetilmiş <xref:System.IO.Stream>, veya bir <xref:System.Xml.Serialization.IXmlSerializable> uygulaması.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-135">That parameter corresponds to the entire body of the message and must be a <xref:System.ServiceModel.Channels.Message>, a derived type of <xref:System.IO.Stream>, or an <xref:System.Xml.Serialization.IXmlSerializable> implementation.</span></span> <span data-ttu-id="8e2a1-136">Bir işlemin dönüş değeri bir output parametresi zorunda eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-136">Having a return value for an operation is equivalent to having an output parameter.</span></span>  
  
 <span data-ttu-id="8e2a1-137">Bazı [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] güvenilir Mesajlaşma, işlemleri ve SOAP iletisi düzeyi güvenliği gibi özellikleri kullanan iletileri aktarımları için arabelleğe.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-137">Some [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] features, such as reliable messaging, transactions, and SOAP message-level security, rely on buffering messages for transmissions.</span></span> <span data-ttu-id="8e2a1-138">Bu özellikleri kullanarak azaltın veya akış kullanılarak elde performans avantajı ortadan kaldırmak.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-138">Using these features may reduce or eliminate the performance benefits gained by using streaming.</span></span> <span data-ttu-id="8e2a1-139">Bir akış taşıma güvenliğini sağlamak için yalnızca aktarım düzeyinde güvenlik kullanın veya aktarım düzeyinde güvenlik artı yalnızca kimlik doğrulama ileti güvenliği kullanın.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-139">To secure a streamed transport, use transport-level security only or use transport-level security plus authentication-only message security.</span></span>  
  
 <span data-ttu-id="8e2a1-140">Bile aktarım modu akış ayarlandığında SOAP üstbilgileri her zaman, arabelleğe alınmamış.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-140">SOAP headers are always buffered, even when the transfer mode is set to streamed.</span></span> <span data-ttu-id="8e2a1-141">Bir ileti için üstbilgiler boyutunu aşmamalıdır `MaxBufferSize` aktarım kotası.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-141">The headers for a message must not exceed the size of the `MaxBufferSize` transport quota.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="8e2a1-142">Bu ayar, bkz. [taşıma kotaları](../../../../docs/framework/wcf/feature-details/transport-quotas.md).</span><span class="sxs-lookup"><span data-stu-id="8e2a1-142"> this setting, see [Transport Quotas](../../../../docs/framework/wcf/feature-details/transport-quotas.md).</span></span>  
  
## <a name="differences-between-buffered-and-streamed-transfers"></a><span data-ttu-id="8e2a1-143">Arabelleğe alınan ve akış aktarımı arasındaki farklar</span><span class="sxs-lookup"><span data-stu-id="8e2a1-143">Differences Between Buffered and Streamed Transfers</span></span>  
 <span data-ttu-id="8e2a1-144">Akışı arabelleğe aktarımı modundan değiştirme TCP ve adlandırılmış kanal taşımaları yerel kanal şeklini değiştirir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-144">Changing the transfer mode from buffered to streamed also changes the native channel shape of the TCP and named pipe transports.</span></span> <span data-ttu-id="8e2a1-145">Arabelleğe alınan aktarımları için yerel kanal şeklin olduğu <xref:System.ServiceModel.Channels.IDuplexSessionChannel>.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-145">For buffered transfers, the native channel shape is <xref:System.ServiceModel.Channels.IDuplexSessionChannel>.</span></span> <span data-ttu-id="8e2a1-146">Yerel kanal akış aktarımları için olan <xref:System.ServiceModel.Channels.IRequestChannel> ve <xref:System.ServiceModel.Channels.IReplyChannel>.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-146">For streamed transfers, the native channels are <xref:System.ServiceModel.Channels.IRequestChannel> and <xref:System.ServiceModel.Channels.IReplyChannel>.</span></span> <span data-ttu-id="8e2a1-147">Bunlar kullanan mevcut bir uygulamayı aktarım modunda değiştirme taşımaları doğrudan (diğer bir deyişle, bir hizmet sözleşmesini üzerinden değil) beklenen kanal şekli kanal fabrikaları ve dinleyiciler için değiştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-147">Changing the transfer mode in an existing application that uses these transports directly (that is, not through a service contract) requires changing the expected channel shape for channel factories and listeners.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8e2a1-148">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="8e2a1-148">See Also</span></span>  
 [<span data-ttu-id="8e2a1-149">Nasıl yapılır: akışı etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="8e2a1-149">How to: Enable Streaming</span></span>](../../../../docs/framework/wcf/feature-details/how-to-enable-streaming.md)
