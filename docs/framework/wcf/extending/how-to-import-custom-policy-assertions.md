---
title: "Nasıl yapılır: Özel İlke Onaylamalarını İçe Aktarma"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
ms.assetid: 1f41d787-accb-4a10-bfc6-a807671d1581
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 3cc7eecbef66c3e4a80759912260b973d441a8a3
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/02/2017
---
# <a name="how-to-import-custom-policy-assertions"></a><span data-ttu-id="ec1c8-102">Nasıl yapılır: Özel İlke Onaylamalarını İçe Aktarma</span><span class="sxs-lookup"><span data-stu-id="ec1c8-102">How to: Import Custom Policy Assertions</span></span>
<span data-ttu-id="ec1c8-103">İlke onaylamalarını hizmet uç noktası gereksinimlerini ve özelliklerini açıklar.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-103">Policy assertions describe the capabilities and requirements of a service endpoint.</span></span>  <span data-ttu-id="ec1c8-104">İstemci uygulamaları ilke onaylamalarını hizmeti meta verilerde bağlama istemcisini yapılandırmak için veya bir hizmet uç noktası için hizmet sözleşmesini özelleştirmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-104">Client applications can use policy assertions in service metadata to configure the client binding or to customize the service contract for a service endpoint.</span></span>  
  
 <span data-ttu-id="ec1c8-105">Özel ilke onaylamalarını uygulayarak alınır <xref:System.ServiceModel.Description.IPolicyImportExtension?displayProperty=nameWithType> arabirimi ve meta veri sistemi veya uygulama kaydı tarafından söz konusu nesne geçirme, uygulama yapılandırma dosyasında yazın.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-105">Custom policy assertions are imported by implementing the <xref:System.ServiceModel.Description.IPolicyImportExtension?displayProperty=nameWithType> interface and passing that object to the metadata system or by registering the implementation type in your application configuration file.</span></span>  <span data-ttu-id="ec1c8-106">Uygulamaları <xref:System.ServiceModel.Description.IPolicyImportExtension> arabirimi, varsayılan bir oluşturucu sağlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-106">Implementations of the <xref:System.ServiceModel.Description.IPolicyImportExtension> interface must provide a default constructor.</span></span>  
  
### <a name="to-import-custom-policy-assertions"></a><span data-ttu-id="ec1c8-107">Özel ilke onaylamalarını içe aktarmak için</span><span class="sxs-lookup"><span data-stu-id="ec1c8-107">To import custom policy assertions</span></span>  
  
1.  <span data-ttu-id="ec1c8-108">Uygulama <xref:System.ServiceModel.Description.IPolicyImportExtension?displayProperty=nameWithType> arabirim üzerinde bir sınıf.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-108">Implement the <xref:System.ServiceModel.Description.IPolicyImportExtension?displayProperty=nameWithType> interface on a class.</span></span> <span data-ttu-id="ec1c8-109">Aşağıdaki yordamlara bakın.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-109">See the following procedures.</span></span>  
  
2.  <span data-ttu-id="ec1c8-110">Özel ilke alma ya da Ekle tarafından:</span><span class="sxs-lookup"><span data-stu-id="ec1c8-110">Insert the custom policy importer either by:</span></span>  
  
3.  <span data-ttu-id="ec1c8-111">Bir yapılandırma dosyası kullanarak.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-111">Using a configuration file.</span></span> <span data-ttu-id="ec1c8-112">Aşağıdaki yordamlara bakın.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-112">See the following procedures.</span></span>  
  
4.  <span data-ttu-id="ec1c8-113">Bir yapılandırma dosyası kullanarak [ServiceModel meta veri yardımcı Programracı (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span><span class="sxs-lookup"><span data-stu-id="ec1c8-113">Using a configuration file with [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span> <span data-ttu-id="ec1c8-114">Aşağıdaki yordamlara bakın.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-114">See the following procedures.</span></span>  
  
5.  <span data-ttu-id="ec1c8-115">Program aracılığıyla ilke alma ekleniyor.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-115">Programmatically inserting the policy importer.</span></span> <span data-ttu-id="ec1c8-116">Aşağıdaki yordamlara bakın.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-116">See the following procedures.</span></span>  
  
### <a name="to-implement-the-systemservicemodeldescriptionipolicyimportextension-interface-on-any-class"></a><span data-ttu-id="ec1c8-117">Herhangi bir sınıf System.ServiceModel.Description.IPolicyImportExtension arabirimi uygulamak için</span><span class="sxs-lookup"><span data-stu-id="ec1c8-117">To implement the System.ServiceModel.Description.IPolicyImportExtension interface on any class</span></span>  
  
1.  <span data-ttu-id="ec1c8-118">İçinde <xref:System.ServiceModel.Description.IPolicyImportExtension.ImportPolicy%2A?displayProperty=nameWithType> yöntemi için ilgilendiğiniz her ilke konu bulun (istediğiniz onaylama kapsamını bağlı olarak) uygun yöntemini çağırarak içeri aktarmak istediğiniz ilke onaylamalarını üzerinde <xref:System.ServiceModel.Description.PolicyConversionContext?displayProperty=nameWithType> nesnesi geçirildi yöntem.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-118">In the <xref:System.ServiceModel.Description.IPolicyImportExtension.ImportPolicy%2A?displayProperty=nameWithType> method, for each policy subject that you are interested in, find the policy assertions that you want to import by calling the appropriate method (depending upon the scope of the assertion that you want) on the <xref:System.ServiceModel.Description.PolicyConversionContext?displayProperty=nameWithType> object passed to the method.</span></span> <span data-ttu-id="ec1c8-119">Aşağıdaki kod örneğinde nasıl kullanılacağını gösterir <xref:System.ServiceModel.Description.PolicyAssertionCollection.Remove%2A?displayProperty=nameWithType> özel ilke onaylama bulun ve tek bir adımda koleksiyondan kaldırmak için yöntem.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-119">The following code example shows how to use the <xref:System.ServiceModel.Description.PolicyAssertionCollection.Remove%2A?displayProperty=nameWithType> method to locate the custom policy assertion and remove it from the collection in one step.</span></span> <span data-ttu-id="ec1c8-120">Bulun ve onay kaldırmak için Kaldır yöntemi kullanırsanız, 4. adım gerçekleştirmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-120">If you use the remove method to locate and remove the assertion, you do not have to perform step 4.</span></span>  
  
     [!code-csharp[CustomPolicySample#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/custompolicysample/cs/policyimporter.cs#9)]
     [!code-vb[CustomPolicySample#9](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/custompolicysample/vb/policyimporter.vb#9)]  
  
2.  <span data-ttu-id="ec1c8-121">İlke onaylamalarını işleyin.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-121">Process the policy assertions.</span></span> <span data-ttu-id="ec1c8-122">İlke sistemi değil normalleştirin Not iç içe ilkeleri ve `wsp:optional`.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-122">Note that the policy system does not normalize nested policies and `wsp:optional`.</span></span> <span data-ttu-id="ec1c8-123">İlke içeri aktarma uzantısı uygulamanızda bu yapıları işlemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-123">You must process these constructs in your policy import extension implementation.</span></span>  
  
3.  <span data-ttu-id="ec1c8-124">Bağlama veya yetenek veya ilke onaylama işlemi tarafından belirtilen gereksinim destekleyen sözleşme özelleştirme gerçekleştirin.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-124">Perform the customization to the binding or contract that supports the capability or requirement specified by the policy assertion.</span></span> <span data-ttu-id="ec1c8-125">Genellikle bir bağlama belirli bir yapılandırma veya belirli bağlama öğesi gerektiriyor onaylar gösterir.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-125">Typically assertions indicate that a binding requires a particular configuration or a specific binding element.</span></span> <span data-ttu-id="ec1c8-126">Erişerek bu değişiklikleri yapmak <xref:System.ServiceModel.Description.PolicyConversionContext.BindingElements%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-126">Make these modifications by accessing the <xref:System.ServiceModel.Description.PolicyConversionContext.BindingElements%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="ec1c8-127">Diğer onaylar sözleşme değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-127">Other assertions require that you modify the contract.</span></span>  <span data-ttu-id="ec1c8-128">Erişim ve sözleşme kullanarak değiştirme <xref:System.ServiceModel.Description.PolicyConversionContext.Contract%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-128">You can access and modify the contract using the <xref:System.ServiceModel.Description.PolicyConversionContext.Contract%2A?displayProperty=nameWithType> property.</span></span>  <span data-ttu-id="ec1c8-129">İlke içeri Aktarıcı birden çok kez aynı bağlama ve sözleşme için çağrılmadığı, ancak bir ilke alternatif alınıyorsa farklı ilke alternatifleri başarısız unutmayın.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-129">Note that your policy importer may get called multiple times for the same binding and contract, but different policy alternatives if importing a policy alternative fails.</span></span> <span data-ttu-id="ec1c8-130">Kodunuzu bu davranış dayanıklı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-130">Your code should be resilient to this behavior.</span></span>  
  
4.  <span data-ttu-id="ec1c8-131">Özel ilke onaylama onaylama koleksiyondan kaldırın.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-131">Remove the custom policy assertion from the assertion collection.</span></span> <span data-ttu-id="ec1c8-132">Onaylama işlemi kaldırmazsanız [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] ilke alma işlemi başarısız oldu ve ilişkili bağlama almaz varsayar.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-132">If you do not remove the assertion [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] assumes that the policy import was unsuccessful and does not import the associated binding.</span></span> <span data-ttu-id="ec1c8-133">Kullandıysanız <xref:System.ServiceModel.Description.PolicyAssertionCollection.Remove%2A?displayProperty=nameWithType> özel ilke onaylama bulun ve bu adımı gerçekleştirmeniz gerekmez tek bir adımda koleksiyondan kaldırmak için yöntem.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-133">If you used the <xref:System.ServiceModel.Description.PolicyAssertionCollection.Remove%2A?displayProperty=nameWithType> method to locate the custom policy assertion and remove it from the collection in one step you do not have to perform this step.</span></span>  
  
### <a name="to-insert-the-custom-policy-importer-into-the-metadata-system-using-a-configuration-file"></a><span data-ttu-id="ec1c8-134">Bir yapılandırma dosyası kullanarak sistem meta veri özel ilkesine içeri Aktarıcı eklemek için</span><span class="sxs-lookup"><span data-stu-id="ec1c8-134">To insert the custom policy importer into the metadata System using a configuration file</span></span>  
  
1.  <span data-ttu-id="ec1c8-135">Alıcı türü eklemek `<extensions>` öğesi içinde [ \<policyImporters >](../../../../docs/framework/configure-apps/file-schema/wcf/policyimporters.md) istemci yapılandırma dosyası öğesi.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-135">Add the importer type to the `<extensions>` element inside the [\<policyImporters>](../../../../docs/framework/configure-apps/file-schema/wcf/policyimporters.md) element in the client configuration file.</span></span>  
  
     [!code-xml[CustomPolicySample#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/custompolicysample/cs/client.exe.config#7)]   
  
2.  <span data-ttu-id="ec1c8-136">İstemci uygulamada kullanmak <xref:System.ServiceModel.Description.MetadataResolver?displayProperty=nameWithType> veya <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> meta verileri ve içeri Aktarıcı çağrılır otomatik olarak çözümlenecek.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-136">In the client application, use the <xref:System.ServiceModel.Description.MetadataResolver?displayProperty=nameWithType> or <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType> to resolve the metadata and the importer is invoked automatically.</span></span>  
  
     [!code-csharp[CustomPolicySample#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/custompolicysample/cs/client.cs#10)]
     [!code-vb[CustomPolicySample#10](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/custompolicysample/vb/client.vb#10)]  
  
### <a name="to-insert-the-custom-policy-importer-into-the-metadata-system-using-svcutilexe"></a><span data-ttu-id="ec1c8-137">Özel ilke alma Svcutil.exe kullanarak meta verileri sistemine eklemek için</span><span class="sxs-lookup"><span data-stu-id="ec1c8-137">To insert the custom policy importer into the metadata system using Svcutil.exe</span></span>  
  
1.  <span data-ttu-id="ec1c8-138">Alıcı türü eklemek `<extensions>` öğesi içinde [ \<policyImporters >](../../../../docs/framework/configure-apps/file-schema/wcf/policyimporters.md) Svcutil.exe.config yapılandırma dosyası öğesi.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-138">Add the importer type to the `<extensions>` element inside the [\<policyImporters>](../../../../docs/framework/configure-apps/file-schema/wcf/policyimporters.md) element in the Svcutil.exe.config configuration file.</span></span> <span data-ttu-id="ec1c8-139">Noktası kullanarak farklı yapılandırma dosyasında kayıtlı ilke alma türleri yüklemek için Svcutil.exe kullanabileceğiniz `/svcutilConfig` seçeneği.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-139">You can also point Svcutil.exe to load policy importer types registered in a different configuration file by using the `/svcutilConfig` option.</span></span>  
  
2.  <span data-ttu-id="ec1c8-140">Kullanım [ServiceModel meta veri yardımcı Programracı (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) meta verileri ve içeri Aktarıcı almak için otomatik olarak çağrılır.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-140">Use [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to import the metadata and the importer is invoked automatically.</span></span>  
  
### <a name="to-insert-the-custom-policy-importer-into-the-metadata-system-programmatically"></a><span data-ttu-id="ec1c8-141">Özel ilke alma meta verileri sisteme programlı olarak eklemek için</span><span class="sxs-lookup"><span data-stu-id="ec1c8-141">To insert the custom policy importer into the metadata system programmatically</span></span>  
  
1.  <span data-ttu-id="ec1c8-142">Alma için ekleme <xref:System.ServiceModel.Description.MetadataImporter.PolicyImportExtensions%2A?displayProperty=nameWithType> özelliği (örneğin, kullanıyorsanız <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType>) meta verileri içe aktarma önce.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-142">Add the importer to the <xref:System.ServiceModel.Description.MetadataImporter.PolicyImportExtensions%2A?displayProperty=nameWithType> property (for example, if you are using the <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType>) prior to importing the metadata.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ec1c8-143">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="ec1c8-143">See Also</span></span>  
 <xref:System.ServiceModel.Description.MetadataResolver?displayProperty=nameWithType>  
 <xref:System.ServiceModel.Description.WsdlImporter?displayProperty=nameWithType>  
 <xref:System.ServiceModel.Description.MetadataResolver?displayProperty=nameWithType>  
 [<span data-ttu-id="ec1c8-144">Meta veri sistemini genişletme</span><span class="sxs-lookup"><span data-stu-id="ec1c8-144">Extending the Metadata System</span></span>](../../../../docs/framework/wcf/extending/extending-the-metadata-system.md)
