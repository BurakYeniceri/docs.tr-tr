---
title: "Dinamik değişkenleri"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 122ad479-d306-4602-a943-5aefe711329d
caps.latest.revision: "9"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 582f8815bd121199e564af7d1806f2e76f4595cd
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/02/2017
---
# <a name="dynamic-arguments"></a><span data-ttu-id="864f0-102">Dinamik değişkenleri</span><span class="sxs-lookup"><span data-stu-id="864f0-102">Dynamic Arguments</span></span>
<span data-ttu-id="864f0-103">Bu örnek, bağımsız değişkenler etkinlik Yazar yerine etkinlik tüketici tarafından tanımlanan bir etkinlik uygulayan gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="864f0-103">This sample demonstrates how to implement an activity for which the arguments are defined by the activity consumer rather than the activity author.</span></span> <span data-ttu-id="864f0-104">Çalışma zamanı etkinliğe ilişkin meta veri yapılarını yolu geçersiz kılarak bunu yapar.</span><span class="sxs-lookup"><span data-stu-id="864f0-104">It does this by overriding the way the runtime constructs the activity’s metadata.</span></span>  
  
## <a name="sample-details"></a><span data-ttu-id="864f0-105">Örnek Ayrıntıları</span><span class="sxs-lookup"><span data-stu-id="864f0-105">Sample details</span></span>  
 <span data-ttu-id="864f0-106">Yürütme önce çalışma zamanı etkinlik türü ortak üyelerine incelenerek ve bağımsız değişkenler, değişkenleri, alt etkinlikleri ve etkinlik temsilciler bir etkinliğin meta verilerinin bir parçası otomatik olarak bildirme tarafından bir etkinlik açıklamasını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="864f0-106">Prior to execution, the runtime builds a description of an activity by examining the public members of the activity type and automatically declaring arguments, variables, child activities, and activity delegates as part of an activity’s metadata.</span></span> <span data-ttu-id="864f0-107">Çalışma zamanı ilişkileri ve yaşam süresi kurallarını yönetmek için bir iş akışı da doğru yapımı emin olmak için bunu yapar.</span><span class="sxs-lookup"><span data-stu-id="864f0-107">It does this to ensure correct construction of a workflow as well as to manage run-time relationships and lifetime rules.</span></span> <span data-ttu-id="864f0-108">Öğesinden türetilen etkinlik türü üzerinde Genel üyeler belirterek bir etkinlik Yazar etkinliğin bağımsız değişkenler genellikle tanımlar <xref:System.Activities.Argument>.</span><span class="sxs-lookup"><span data-stu-id="864f0-108">Typically an activity author defines the arguments of an activity by specifying public members on the activity type that derive from <xref:System.Activities.Argument>.</span></span> <span data-ttu-id="864f0-109">Türetilen ortak her üye için <xref:System.Activities.Argument>, çalışma zamanı oluşturur bir <xref:System.Activities.RuntimeArgument> ve bu üyede ayarlamak kullanıcı tarafından sağlanan bağımsız değişken bağlar.</span><span class="sxs-lookup"><span data-stu-id="864f0-109">For each public member that derives from <xref:System.Activities.Argument>, the runtime creates a <xref:System.Activities.RuntimeArgument> and binds it to the user-provided argument set on that member.</span></span> <span data-ttu-id="864f0-110">Bazı durumlarda, ancak, bağımsız değişkenler kümesine belirler bazı yapılandırma etkinliğin tüketici sağlar.</span><span class="sxs-lookup"><span data-stu-id="864f0-110">In some cases, however, the consumer of the activity provides some configuration that determines the set of arguments.</span></span> <span data-ttu-id="864f0-111">Bir etkinlik Yazar geçersiz kılmaları <xref:System.Activities.Activity.CacheMetadata%2A> şekilde etkinlik özelleştirmek için meta verileri, etkinliği ile ilişkili bağımsız değişkenler kümesine içeren yerleşik olarak bulunur.</span><span class="sxs-lookup"><span data-stu-id="864f0-111">An activity author overrides <xref:System.Activities.Activity.CacheMetadata%2A> to customize the way activity metadata is built, which includes the set of arguments associated with the activity.</span></span>  
  
 <span data-ttu-id="864f0-112">Bu örnek bir bağımsız değişken listesi dinamik olarak yöntemini çağıran bir etkinliğin nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="864f0-112">This sample demonstrates how to build an argument list dynamically for an activity that invokes a method.</span></span> <span data-ttu-id="864f0-113">Etkinlik tüketici türü ve bu yönteme geçirilecek bağımsız değişkenler koleksiyonu birlikte çağrılacak istedikleri yöntem adını belirtir.</span><span class="sxs-lookup"><span data-stu-id="864f0-113">The activity consumer specifies the type and the method name they want to invoke along with a collection of arguments to be passed to that method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="864f0-114">Bu örnek amacı nasıl geçersiz kılınacağı göstermektir <xref:System.Activities.CodeActivity.CacheMetadata%2A> ve nasıl kullanılacağını <xref:System.Activities.RuntimeArgument>.</span><span class="sxs-lookup"><span data-stu-id="864f0-114">The purpose of this sample is to demonstrate how to override <xref:System.Activities.CodeActivity.CacheMetadata%2A> and how to use <xref:System.Activities.RuntimeArgument>.</span></span> <span data-ttu-id="864f0-115">Bu etkinlik çağırabileceği yöntemleri türlerini göre çeşitli uyarılar vardır.</span><span class="sxs-lookup"><span data-stu-id="864f0-115">There are several caveats with respect to the kinds of methods that this activity can invoke.</span></span> <span data-ttu-id="864f0-116">Örneğin, genel türler veya parametre dizileri ile çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="864f0-116">For example, it does not work with generics or parameter arrays.</span></span> <span data-ttu-id="864f0-117"><xref:System.Activities.Statements.InvokeMethod> İn.NET Framework birlikte gelen etkinlik bu durumlar ve daha fazlasını işler.</span><span class="sxs-lookup"><span data-stu-id="864f0-117">The <xref:System.Activities.Statements.InvokeMethod> activity that ships in.NET Framework handles these cases and more.</span></span>  
  
 <span data-ttu-id="864f0-118">`MethodInvoke` Etkinliği geçersiz kılmaları <xref:System.Activities.CodeActivity.CacheMetadata%2A> ve oluşturarak başlar bir <xref:System.Activities.RuntimeArgument> yöntemi çağırma herhangi sonucundan işlemek için.</span><span class="sxs-lookup"><span data-stu-id="864f0-118">The `MethodInvoke` activity overrides <xref:System.Activities.CodeActivity.CacheMetadata%2A> and begins by creating a <xref:System.Activities.RuntimeArgument> to handle any result from the method invocation.</span></span> <span data-ttu-id="864f0-119">Bu bağlar <xref:System.Activities.RuntimeArgument> herkese açık şekilde ayarlanabilir için <xref:System.Activities.OutArgument> adlı `Result`.</span><span class="sxs-lookup"><span data-stu-id="864f0-119">It binds this <xref:System.Activities.RuntimeArgument> to the publicly settable <xref:System.Activities.OutArgument> named `Result`.</span></span> <span data-ttu-id="864f0-120">Varsa `MethodInvoke.Result` olan `null`, çalışma zamanı ile otomatik olarak doldurur bir <xref:System.Activities.OutArgument> kendi türü için varsayılan ifadesi ile yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="864f0-120">If `MethodInvoke.Result` is `null`, the runtime automatically populates it with an <xref:System.Activities.OutArgument> configured with the default expression for its type.</span></span> <span data-ttu-id="864f0-121">Bir etkinlik Yazar hiçbir zaman sahip bir bağımsız değişken özelliği olup olmadığını denetlemek Bu davranış anlamına gelir `null`.</span><span class="sxs-lookup"><span data-stu-id="864f0-121">This behavior means an activity author never has to check whether an argument property is `null`.</span></span>  
  
 <span data-ttu-id="864f0-122">Ardından, <xref:System.Activities.CodeActivity.CacheMetadata%2A> geçersiz kılma belirler `MethodInfo` kullanıcı tarafından sağlanan çağrısından kullanacağı `MethodName` ve `TargetType`.</span><span class="sxs-lookup"><span data-stu-id="864f0-122">Next, the <xref:System.Activities.CodeActivity.CacheMetadata%2A> override determines the `MethodInfo` it uses for invocation from the user-provided `MethodName` and `TargetType`.</span></span> <span data-ttu-id="864f0-123">`DetermineMethodInfo` Yöntemi alır <xref:System.Activities.CodeActivityMetadata> parametresi geçirilen <xref:System.Activities.CodeActivity.CacheMetadata%2A> doğrulama hataları bildirilebilir. yapılandırma hataları böylece geçersiz kıl.</span><span class="sxs-lookup"><span data-stu-id="864f0-123">The `DetermineMethodInfo` method takes the <xref:System.Activities.CodeActivityMetadata> parameter passed to the <xref:System.Activities.CodeActivity.CacheMetadata%2A> override so that any configuration errors can be reported as validation errors.</span></span> <span data-ttu-id="864f0-124">Bu çağırarak yapılır `metadata.AddValidationError`.</span><span class="sxs-lookup"><span data-stu-id="864f0-124">This is done by calling `metadata.AddValidationError`.</span></span>  
  
 <span data-ttu-id="864f0-125">Bir kez `MethodInfo` , örnek tekrarlanan üzerinden ayarlanmadı `MethodInfo` parametreleri.</span><span class="sxs-lookup"><span data-stu-id="864f0-125">Once the `MethodInfo` has been set, the sample iterates over the `MethodInfo` parameters.</span></span> <span data-ttu-id="864f0-126">Her bir parametreyi oluşturduğu bir <xref:System.Activities.RuntimeArgument> ve kullanıcı tarafından sağlanan koleksiyondan karşılık gelen değişkeninde bağlandığı `Parameters` özelliği.</span><span class="sxs-lookup"><span data-stu-id="864f0-126">For each parameter, it creates a <xref:System.Activities.RuntimeArgument> and binds it to the corresponding argument in the user-provided collection from the `Parameters` property.</span></span> <span data-ttu-id="864f0-127">Son olarak, koleksiyonunu <xref:System.Activities.RuntimeArgument>s etkinliği ile ilişkili çağırarak `metadata.SetArgumentsCollection`.</span><span class="sxs-lookup"><span data-stu-id="864f0-127">Finally, the collection of <xref:System.Activities.RuntimeArgument>s is associated with the activity by calling `metadata.SetArgumentsCollection`.</span></span>  
  
 <span data-ttu-id="864f0-128">Bağımsız değişken çözümleme yapılabilir Not kullanarak bir <xref:System.Activities.RuntimeArgument>, durumunda gibi `resultArgument` veya durumunda olduğu gibi kullanıcı tarafından sağlanan bağımsız değişken `Parameters` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="864f0-128">Note that argument resolution can be done using a <xref:System.Activities.RuntimeArgument>, as in the case of `resultArgument` or the user-provided argument, as in the case of the `Parameters` collection.</span></span>  
  
#### <a name="to-use-this-sample"></a><span data-ttu-id="864f0-129">Bu örneği kullanmak için</span><span class="sxs-lookup"><span data-stu-id="864f0-129">To use this sample</span></span>  
  
1.  <span data-ttu-id="864f0-130">Kullanarak [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], DynamicArguments.sln dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="864f0-130">Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the DynamicArguments.sln file.</span></span>  
  
2.  <span data-ttu-id="864f0-131">Çözümü derlemek için CTRL + SHIFT + B tuşuna basın.</span><span class="sxs-lookup"><span data-stu-id="864f0-131">To build the solution, press CTRL+SHIFT+B.</span></span>  
  
3.  <span data-ttu-id="864f0-132">Çözümü çalıştırmak için CTRL + F5 tuşuna basın.</span><span class="sxs-lookup"><span data-stu-id="864f0-132">To run the solution, press CTRL+F5.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="864f0-133">Örnekler, makinenizde zaten yüklü olabilir.</span><span class="sxs-lookup"><span data-stu-id="864f0-133">The samples may already be installed on your machine.</span></span> <span data-ttu-id="864f0-134">Devam etmeden önce aşağıdaki (varsayılan) dizin denetleyin.</span><span class="sxs-lookup"><span data-stu-id="864f0-134">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="864f0-135">Bu dizin mevcut değilse, Git [Windows Communication Foundation (WCF) ve .NET Framework 4 için Windows Workflow Foundation (WF) örnek](http://go.microsoft.com/fwlink/?LinkId=150780) tüm indirmek için [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] ve [!INCLUDE[wf1](../../../../includes/wf1-md.md)] örnekleri.</span><span class="sxs-lookup"><span data-stu-id="864f0-135">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="864f0-136">Bu örnek aşağıdaki dizinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="864f0-136">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\CustomActivities\Code-Bodied\DynamicArguments`