---
title: "Gözlemci Tasarım Deseni"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- IObserver(Of T) interface
- IObservable<T> interface
- IObserver<T> interface
- IObservable(Of T) interface
- observer design pattern [.NET Framework]
ms.assetid: 3680171f-f522-453c-aa4a-54f755a78f88
caps.latest.revision: "14"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: 83663a28ac7ae19848552583f2ec39a5e96c7fdc
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/18/2017
---
# <a name="observer-design-pattern"></a><span data-ttu-id="2a9ba-102">Gözlemci Tasarım Deseni</span><span class="sxs-lookup"><span data-stu-id="2a9ba-102">Observer Design Pattern</span></span>
<span data-ttu-id="2a9ba-103">Gözlemci tasarım deseni ile kaydetmek ve bir sağlayıcıdan bildirimleri almak abone sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-103">The observer design pattern enables a subscriber to register with and receive notifications from a provider.</span></span> <span data-ttu-id="2a9ba-104">Gönderim tabanlı bildirim gerektiren her senaryo için uygundur.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-104">It is suitable for any scenario that requires push-based notification.</span></span> <span data-ttu-id="2a9ba-105">Deseni tanımlayan bir *sağlayıcı* (olarak da bilinen bir *konu* veya bir *observable*) ve sıfır, bir veya daha fazla *gözlemcilerin*.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-105">The pattern defines a *provider* (also known as a *subject* or an *observable*) and zero, one, or more *observers*.</span></span> <span data-ttu-id="2a9ba-106">Sağlayıcının gözlemcilerin kaydı ve önceden tanımlı bir koşul olduğunda, olay veya durum değişikliği, sağlayıcı, tüm gözlemcilerin otomatik olarak kendi yöntemlerini çağıran biri tarafından size bildirir. oluşur.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-106">Observers register with the provider, and whenever a predefined condition, event, or state change occurs, the provider automatically notifies all observers by calling one of their methods.</span></span> <span data-ttu-id="2a9ba-107">Bu yöntem çağrısı sağlayıcı gözlemcilerin için geçerli durum bilgisini de sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-107">In this method call, the provider can also provide current state information to observers.</span></span> <span data-ttu-id="2a9ba-108">.NET Framework'teki genel uygulayarak gözlemci tasarım deseni uygulanan <xref:System.IObservable%601?displayProperty=nameWithType> ve <xref:System.IObserver%601?displayProperty=nameWithType> arabirimleri.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-108">In the .NET Framework, the observer design pattern is applied by implementing the generic <xref:System.IObservable%601?displayProperty=nameWithType> and <xref:System.IObserver%601?displayProperty=nameWithType> interfaces.</span></span> <span data-ttu-id="2a9ba-109">Genel tür parametresi, bildirimi bilgi sağlayan türünü temsil eder.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-109">The generic type parameter represents the type that provides notification information.</span></span>  
  
## <a name="applying-the-pattern"></a><span data-ttu-id="2a9ba-110">Düzeni uygulama</span><span class="sxs-lookup"><span data-stu-id="2a9ba-110">Applying the Pattern</span></span>  
 <span data-ttu-id="2a9ba-111">İki farklı bileşenler veya bir veri kaynağı (iş mantığı) katmanı ve bir kullanıcı arabirimi (Görüntüle) katmanı gibi uygulama katmanları arasında temiz bir ayrım desteklediğinden gözlemci tasarım deseni dağıtılmış gönderme temelli bildirimleri için uygundur.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-111">The observer design pattern is suitable for distributed push-based notifications, because it supports a clean separation between two different components or application layers, such as a data source (business logic) layer and a user interface (display) layer.</span></span> <span data-ttu-id="2a9ba-112">Bir sağlayıcı, istemcilere geçerli bilgileri sağlamak için geri çağırmaları kullandığında düzeni uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-112">The pattern can be implemented whenever a provider uses callbacks to supply its clients with current information.</span></span>  
  
 <span data-ttu-id="2a9ba-113">Düzeni uygulama aşağıdakileri sağlamak gerektirir:</span><span class="sxs-lookup"><span data-stu-id="2a9ba-113">Implementing the pattern requires that you provide the following:</span></span>  
  
-   <span data-ttu-id="2a9ba-114">Bir sağlayıcı veya gözlemcilerin için bildirimleri gönderen nesne konu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-114">A provider or subject, which is the object that sends notifications to observers.</span></span> <span data-ttu-id="2a9ba-115">Bir sınıf veya uygulayan yapısı sağlayıcısıdır <xref:System.IObservable%601> arabirimi.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-115">A provider is a class or structure that implements the <xref:System.IObservable%601> interface.</span></span> <span data-ttu-id="2a9ba-116">Sağlayıcı tek bir yöntem uygulamalıdır <xref:System.IObservable%601.Subscribe%2A?displayProperty=nameWithType>, bildirimleri sağlayıcıdan almak istediğiniz gözlemcilerin tarafından çağrılır.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-116">The provider must implement a single method, <xref:System.IObservable%601.Subscribe%2A?displayProperty=nameWithType>, which is called by observers that wish to receive notifications from the provider.</span></span>  
  
-   <span data-ttu-id="2a9ba-117">Bir sağlayıcıdan bildirimleri alan bir nesne olan bir gözlemci.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-117">An observer, which is an object that receives notifications from a provider.</span></span> <span data-ttu-id="2a9ba-118">Bir sınıf veya uygulayan yapısı bir gözlemci olduğu <xref:System.IObserver%601> arabirimi.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-118">An observer is a class or structure that implements the <xref:System.IObserver%601> interface.</span></span> <span data-ttu-id="2a9ba-119">Gözlemci üç yöntem, her biri sağlayıcı tarafından adlı uygulamanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="2a9ba-119">The observer must implement three methods, all of which are called by the provider:</span></span>  
  
    -   <span data-ttu-id="2a9ba-120"><xref:System.IObserver%601.OnNext%2A?displayProperty=nameWithType>, mevcut veya yeni bilgilerle gözlemci sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-120"><xref:System.IObserver%601.OnNext%2A?displayProperty=nameWithType>, which supplies the observer with new or current information.</span></span>  
  
    -   <span data-ttu-id="2a9ba-121"><xref:System.IObserver%601.OnError%2A?displayProperty=nameWithType>, bir hata oluştu gözlemci sizi bilgilendirir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-121"><xref:System.IObserver%601.OnError%2A?displayProperty=nameWithType>, which informs the observer that an error has occurred.</span></span>  
  
    -   <span data-ttu-id="2a9ba-122"><xref:System.IObserver%601.OnCompleted%2A?displayProperty=nameWithType>, sağlayıcı bildirimleri gönderme tamamladığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-122"><xref:System.IObserver%601.OnCompleted%2A?displayProperty=nameWithType>, which indicates that the provider has finished sending notifications.</span></span>  
  
-   <span data-ttu-id="2a9ba-123">Gözlemcilerin izlemek sağlayıcı izin mekanizması.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-123">A mechanism that allows the provider to keep track of observers.</span></span> <span data-ttu-id="2a9ba-124">Genellikle, sağlayıcı bir kapsayıcı nesne gibi kullanan bir <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> başvuruları tutmak için nesne <xref:System.IObserver%601> bildirimlerine abone olan uygulamalar.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-124">Typically, the provider uses a container object, such as a <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> object, to hold references to the <xref:System.IObserver%601> implementations that have subscribed to notifications.</span></span> <span data-ttu-id="2a9ba-125">Bu amaç için bir depolama kapsayıcısı kullanarak gözlemcilerin sınırsız sayıda sıfıra işlemek sağlayıcıyı etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-125">Using a storage container for this purpose enables the provider to handle zero to an unlimited number of observers.</span></span> <span data-ttu-id="2a9ba-126">Gözlemcilerin bildirimleri alma sırasını tanımlı değil; Sağlayıcı sırayı belirlemek için herhangi bir yöntemi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-126">The order in which observers receive notifications is not defined; the provider is free to use any method to determine the order.</span></span>  
  
-   <span data-ttu-id="2a9ba-127">Bir <xref:System.IDisposable> uygulamasında, bildirim tamamlandığında gözlemcilerin kaldırmak sağlayıcıyı etkinleştirir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-127">An <xref:System.IDisposable> implementation that enables the provider to remove observers when notification is complete.</span></span> <span data-ttu-id="2a9ba-128">Gözlemcilerin almak için bir başvuru <xref:System.IDisposable> uygulamasından <xref:System.IObservable%601.Subscribe%2A> da çağırabilir şekilde yöntemi <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> sağlayıcı bildirimleri gönderme bitmeden aboneliğinizi iptal etmek için yöntem.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-128">Observers receive a reference to the <xref:System.IDisposable> implementation from the <xref:System.IObservable%601.Subscribe%2A> method, so they can also call the <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> method to unsubscribe before the provider has finished sending notifications.</span></span>  
  
-   <span data-ttu-id="2a9ba-129">Sağlayıcı için kendi gözlemcilerin gönderir verileri içeren bir nesne.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-129">An object that contains the data that the provider sends to its observers.</span></span> <span data-ttu-id="2a9ba-130">Bu nesne türü için genel tür parametresinin karşılık gelen <xref:System.IObservable%601> ve <xref:System.IObserver%601> arabirimleri.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-130">The type of this object corresponds to the generic type parameter of the <xref:System.IObservable%601> and <xref:System.IObserver%601> interfaces.</span></span> <span data-ttu-id="2a9ba-131">Bu nesnenin aynı olsa da <xref:System.IObservable%601> uygulama, en yaygın olarak ayrı bir tür değil.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-131">Although this object can be the same as the <xref:System.IObservable%601> implementation, most commonly it is a separate type.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="2a9ba-132">Gözlemci tasarım deseni uygulama yanı sıra, kullanılarak oluşturulan kitaplıkları keşfetme ilgilenebilirsiniz <xref:System.IObservable%601> ve <xref:System.IObserver%601> arabirimleri.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-132">In addition to implementing the observer design pattern, you may be interested in exploring libraries that are built using the <xref:System.IObservable%601> and <xref:System.IObserver%601> interfaces.</span></span> <span data-ttu-id="2a9ba-133">Örneğin, [.NET (Rx) için geriye dönük uzantıları](http://go.microsoft.com/fwlink/?LinkId=186345) genişletme yöntemleri ve zaman uyumsuz programlama desteklemek için LINQ standart dizisi işleçleri kümesinden oluşur.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-133">For example, [Reactive Extensions for .NET (Rx)](http://go.microsoft.com/fwlink/?LinkId=186345) consist of a set of extension methods and LINQ standard sequence operators to support asynchronous programming.</span></span>  
  
## <a name="implementing-the-pattern"></a><span data-ttu-id="2a9ba-134">Düzeni uygulama</span><span class="sxs-lookup"><span data-stu-id="2a9ba-134">Implementing the Pattern</span></span>  
 <span data-ttu-id="2a9ba-135">Aşağıdaki örnek, bir havaalanı bagaj talep bilgi sistemi uygulamak için gözlemci tasarım deseni kullanır.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-135">The following example uses the observer design pattern to implement an airport baggage claim information system.</span></span> <span data-ttu-id="2a9ba-136">A `BaggageInfo` sınıfı, her uçuş gelen bagaj olduğu için alımı kullanılabilir karusel'leri ve gelen uçuşlar hakkında bilgi sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-136">A `BaggageInfo` class provides information about arriving flights and the carousels where baggage from each flight is available for pickup.</span></span> <span data-ttu-id="2a9ba-137">Aşağıdaki örnekte gösterilir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-137">It is shown in the following example.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#1)]
 [!code-vb[Conceptual.ObserverDesignPattern#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#1)]  
  
 <span data-ttu-id="2a9ba-138">A `BaggageHandler` sınıftır hakkında gelen uçuşlar ve bagaj talep karusel'leri bilgi almak için sorumlu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-138">A `BaggageHandler` class is responsible for receiving information about arriving flights and baggage claim carousels.</span></span> <span data-ttu-id="2a9ba-139">Dahili olarak, iki koleksiyon tutar:</span><span class="sxs-lookup"><span data-stu-id="2a9ba-139">Internally, it maintains two collections:</span></span>  
  
-   <span data-ttu-id="2a9ba-140">`observers`-Güncelleştirilmiş bilgileri alacak olan istemcileri bir koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-140">`observers` - A collection of clients that will receive updated information.</span></span>  
  
-   <span data-ttu-id="2a9ba-141">`flights`-Uçuşlar ve bunların atanmış karusel'lerin bir koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-141">`flights` - A collection of flights and their assigned carousels.</span></span>  
  
 <span data-ttu-id="2a9ba-142">Her iki koleksiyon genel tarafından temsil edilen <xref:System.Collections.Generic.List%601> içinde örneği nesneleri `BaggageHandler` sınıfı oluşturucusu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-142">Both collections are represented by generic <xref:System.Collections.Generic.List%601> objects that are instantiated in the `BaggageHandler` class constructor.</span></span> <span data-ttu-id="2a9ba-143">Kaynak kodu `BaggageHandler` sınıfı, aşağıdaki örnekte gösterilir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-143">The source code for the `BaggageHandler` class is shown in the following example.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#2)]
 [!code-vb[Conceptual.ObserverDesignPattern#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#2)]  
  
 <span data-ttu-id="2a9ba-144">Güncelleştirilmiş bilgileri almak istediğiniz istemcileri aramak `BaggageHandler.Subscribe` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-144">Clients that wish to receive updated information call the `BaggageHandler.Subscribe` method.</span></span> <span data-ttu-id="2a9ba-145">İstemci daha önce bildirimleri, istemcinin başvuru abone değil, <xref:System.IObserver%601> uygulaması eklenir `observers` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-145">If the client has not previously subscribed to notifications, a reference to the client's <xref:System.IObserver%601> implementation is added to the `observers` collection.</span></span>  
  
 <span data-ttu-id="2a9ba-146">Aşırı yüklenmiş `BaggageHandler.BaggageStatus` yöntemi, bir uçuş gelen bagaj boşaltılıyor veya artık kaldırılıyor göstermek için çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-146">The overloaded `BaggageHandler.BaggageStatus` method can be called to indicate that baggage from a flight either is being unloaded or is no longer being unloaded.</span></span> <span data-ttu-id="2a9ba-147">İlk durumda yöntemi uçuş numarası, uçuş kaynaklandığı havaalanı ve Karusel bagaj burada kaldırılıyor geçirilir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-147">In the first case, the method is passed a flight number, the airport from which the flight originated, and the carousel where baggage is being unloaded.</span></span> <span data-ttu-id="2a9ba-148">İkinci durumda, yöntem yalnızca uçuş numarası geçirilir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-148">In the second case, the method is passed only a flight number.</span></span> <span data-ttu-id="2a9ba-149">Yüklenmekte olan bagaj için kaldırıldığında, yöntemi denetimleri olup `BaggageInfo` yönteme geçirilen bilgileri bulunmaktadır `flights` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-149">For baggage that is being unloaded, the method checks whether the `BaggageInfo` information passed to the method exists in the `flights` collection.</span></span> <span data-ttu-id="2a9ba-150">Yoksa, yöntem bilgileri ekler ve her gözlemci 's çağırır `OnNext` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-150">If it does not, the method adds the information and calls each observer's `OnNext` method.</span></span> <span data-ttu-id="2a9ba-151">Bu uçuş hakkında bilgi depolanan olup olmadığını yöntemi, bagaj artık boşaltılıyor uçuşlar için denetler `flights` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-151">For flights whose baggage is no longer being unloaded, the method checks whether information on that flight is stored in the `flights` collection.</span></span> <span data-ttu-id="2a9ba-152">İse, her gözlemci 's yöntemini çağırır `OnNext` yöntemi ve kaldırır `BaggageInfo` nesnesinin `flights` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-152">If it is, the method calls each observer's `OnNext` method and removes the `BaggageInfo` object from the `flights` collection.</span></span>  
  
 <span data-ttu-id="2a9ba-153">Günün son uçuş aldı ve onun bagaj işlendi, `BaggageHandler.LastBaggageClaimed` yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-153">When the last flight of the day has landed and its baggage has been processed, the `BaggageHandler.LastBaggageClaimed` method is called.</span></span> <span data-ttu-id="2a9ba-154">Bu yöntem her gözlemci 's çağırır `OnCompleted` tüm bildirimleri tamamlandığını göstermek için yöntem ve ardından temizler `observers` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-154">This method calls each observer's `OnCompleted` method to indicate that all notifications have completed, and then clears the `observers` collection.</span></span>  
  
 <span data-ttu-id="2a9ba-155">Sağlayıcının <xref:System.IObservable%601.Subscribe%2A> yöntemi döndürür bir <xref:System.IDisposable> gözlemcilerin önce bildirimleri almayı durdurmasını sağlayan uygulama <xref:System.IObserver%601.OnCompleted%2A> yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-155">The provider's <xref:System.IObservable%601.Subscribe%2A> method returns an <xref:System.IDisposable> implementation that enables observers to stop receiving notifications before the <xref:System.IObserver%601.OnCompleted%2A> method is called.</span></span> <span data-ttu-id="2a9ba-156">Bu kaynak kodu `Unsubscriber(Of BaggageInfo)` sınıfı, aşağıdaki örnekte gösterilir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-156">The source code for this `Unsubscriber(Of BaggageInfo)` class is shown in the following example.</span></span> <span data-ttu-id="2a9ba-157">Ne zaman sınıfı örneği içinde `BaggageHandler.Subscribe` yöntemi, onu bir başvuru geçirilir `observers` toplama ve koleksiyonuna eklenen gözlemci başvuru.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-157">When the class is instantiated in the `BaggageHandler.Subscribe` method, it is passed a reference to the `observers` collection and a reference to the observer that is added to the collection.</span></span> <span data-ttu-id="2a9ba-158">Bu başvurular için yerel değişkenler atanır.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-158">These references are assigned to local variables.</span></span> <span data-ttu-id="2a9ba-159">Nesnenin `Dispose` yöntemi çağrıldığında, gözlemci hala var olup olmadığını denetler `observers` koleksiyonu ve aşması durumunda gözlemci kaldırır.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-159">When the object's `Dispose` method is called, it checks whether the observer still exists in the `observers` collection, and, if it does, removes the observer.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#3)]
 [!code-vb[Conceptual.ObserverDesignPattern#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#3)]  
  
 <span data-ttu-id="2a9ba-160">Aşağıdaki örnek sağlayan bir <xref:System.IObserver%601> adlı uygulama `ArrivalsMonitor`, bagaj talep bilgilerini görüntüleyen bir taban sınıf olduğu.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-160">The following example provides an <xref:System.IObserver%601> implementation named `ArrivalsMonitor`, which is a base class that displays baggage claim information.</span></span> <span data-ttu-id="2a9ba-161">Bilgiler, kaynak Şehir adına göre alfabetik olarak görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-161">The information is displayed alphabetically, by the name of the originating city.</span></span> <span data-ttu-id="2a9ba-162">Yöntemlerinin `ArrivalsMonitor` olarak işaretlenmiş `overridable` (Visual Basic'te) veya `virtual` (C# '), bu nedenle bunlar tüm geçersiz kılınmış türetilmiş sınıf tarafından.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-162">The methods of `ArrivalsMonitor` are marked as `overridable` (in Visual Basic) or `virtual` (in C#), so they can all be overridden by a derived class.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/observer.cs#4)]
 [!code-vb[Conceptual.ObserverDesignPattern#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/observer.vb#4)]  
  
 <span data-ttu-id="2a9ba-163">`ArrivalsMonitor` Sınıfı içerir `Subscribe` ve `Unsubscribe` yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-163">The `ArrivalsMonitor` class includes the `Subscribe` and `Unsubscribe` methods.</span></span> <span data-ttu-id="2a9ba-164">`Subscribe` Yöntemi etkinleştirir kaydetmek için sınıf <xref:System.IDisposable> çağrısı tarafından döndürülen uygulama <xref:System.IObservable%601.Subscribe%2A> özel bir değişken için.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-164">The `Subscribe` method enables the class to save the <xref:System.IDisposable> implementation returned by the call to <xref:System.IObservable%601.Subscribe%2A> to a private variable.</span></span> <span data-ttu-id="2a9ba-165">`Unsubscribe` Yöntemi etkinleştirir sağlayıcının çağırarak bildirim aboneliği için sınıf <xref:System.IDisposable.Dispose%2A> uygulaması.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-165">The `Unsubscribe` method enables the class to unsubscribe from notifications by calling the provider's <xref:System.IDisposable.Dispose%2A> implementation.</span></span> <span data-ttu-id="2a9ba-166">`ArrivalsMonitor`Ayrıca uygulamaları sağlar <xref:System.IObserver%601.OnNext%2A>, <xref:System.IObserver%601.OnError%2A>, ve <xref:System.IObserver%601.OnCompleted%2A> yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-166">`ArrivalsMonitor` also provides implementations of the <xref:System.IObserver%601.OnNext%2A>, <xref:System.IObserver%601.OnError%2A>, and <xref:System.IObserver%601.OnCompleted%2A> methods.</span></span> <span data-ttu-id="2a9ba-167">Yalnızca <xref:System.IObserver%601.OnNext%2A> uygulama kodu önemli miktarda içerir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-167">Only the <xref:System.IObserver%601.OnNext%2A> implementation contains a significant amount of code.</span></span> <span data-ttu-id="2a9ba-168">Yöntem ile özel, sıralanmış, genel çalışır <xref:System.Collections.Generic.List%601> gelen uçuşlar başlangıcı havaalanları hakkında bilgileri tutan nesne ve bunların bagaj olduğu kullanılabilir karusel'lerin.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-168">The method works with a private, sorted, generic <xref:System.Collections.Generic.List%601> object that maintains information about the airports of origin for arriving flights and the carousels on which their baggage is available.</span></span> <span data-ttu-id="2a9ba-169">Varsa `BaggageHandler` sınıfı raporlar yeni uçuş varış <xref:System.IObserver%601.OnNext%2A> yöntem uygulaması, uçuş bilgilerini listesine ekler.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-169">If the `BaggageHandler` class reports a new flight arrival, the <xref:System.IObserver%601.OnNext%2A> method implementation adds information about that flight to the list.</span></span> <span data-ttu-id="2a9ba-170">Varsa `BaggageHandler` sınıfı raporlar uçuş 's bagaj kaldırıldı, <xref:System.IObserver%601.OnNext%2A> yöntemi, uçuş listeden kaldırır.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-170">If the `BaggageHandler` class reports that the flight's baggage has been unloaded, the <xref:System.IObserver%601.OnNext%2A> method removes that flight from the list.</span></span> <span data-ttu-id="2a9ba-171">Bir değişiklik yapıldığında, listesi sıralanır ve konsolda görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-171">Whenever a change is made, the list is sorted and displayed to the console.</span></span>  
  
 <span data-ttu-id="2a9ba-172">Aşağıdaki örnek, başlatır uygulama giriş noktası içerir `BaggageHandler` sınıf yanı sıra iki örneğini `ArrivalsMonitor` sınıfı ve kullandığı `BaggageHandler.BaggageStatus` eklemek ve gelen uçuşlar ilgili bilgileri kaldırmak için yöntemi.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-172">The following example contains the application entry point that instantiates the `BaggageHandler` class as well as two instances of the `ArrivalsMonitor` class, and uses the `BaggageHandler.BaggageStatus` method to add and remove information about arriving flights.</span></span> <span data-ttu-id="2a9ba-173">Her durumda gözlemcilerin güncelleştirmeleri almak ve doğru şekilde bagaj talep bilgilerini görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-173">In each case, the observers receive updates and correctly display baggage claim information.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/program.cs#5)]
 [!code-vb[Conceptual.ObserverDesignPattern#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/module1.vb#5)]  
  
## <a name="related-topics"></a><span data-ttu-id="2a9ba-174">İlgili Konular</span><span class="sxs-lookup"><span data-stu-id="2a9ba-174">Related Topics</span></span>  
  
|<span data-ttu-id="2a9ba-175">Başlık</span><span class="sxs-lookup"><span data-stu-id="2a9ba-175">Title</span></span>|<span data-ttu-id="2a9ba-176">Açıklama</span><span class="sxs-lookup"><span data-stu-id="2a9ba-176">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="2a9ba-177">Gözlemci tasarım deseni en iyi yöntemleri</span><span class="sxs-lookup"><span data-stu-id="2a9ba-177">Observer Design Pattern Best Practices</span></span>](../../../docs/standard/events/observer-design-pattern-best-practices.md)|<span data-ttu-id="2a9ba-178">Gözlemci tasarım deseni uygulamak uygulamaları geliştirirken benimsemek için en iyi uygulamaları açıklar.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-178">Describes best practices to adopt when developing applications that implement the observer design pattern.</span></span>|  
|[<span data-ttu-id="2a9ba-179">Nasıl yapılır: sağlayıcıyı uygulama</span><span class="sxs-lookup"><span data-stu-id="2a9ba-179">How to: Implement a Provider</span></span>](../../../docs/standard/events/how-to-implement-a-provider.md)|<span data-ttu-id="2a9ba-180">Uygulama izleme sıcaklık için bir sağlayıcının adım adım bir uygulama sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-180">Provides a step-by-step implementation of a provider for a temperature monitoring application.</span></span>|  
|[<span data-ttu-id="2a9ba-181">Nasıl yapılır: gözlemci uygulama</span><span class="sxs-lookup"><span data-stu-id="2a9ba-181">How to: Implement an Observer</span></span>](../../../docs/standard/events/how-to-implement-an-observer.md)|<span data-ttu-id="2a9ba-182">Bir adım adım uygulamasını bir gözlemci uygulama izleme sıcaklık için sağlar.</span><span class="sxs-lookup"><span data-stu-id="2a9ba-182">Provides a step-by-step implementation of an observer for a temperature monitoring application.</span></span>|
