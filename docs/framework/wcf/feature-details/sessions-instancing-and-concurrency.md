---
title: "Oturumlar, Örnek Oluşturma ve Eşzamanlılık"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 50797a3b-7678-44ed-8138-49ac1602f35b
caps.latest.revision: "16"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: f188bc85ae3c2601e98ad29b275c6bb8b698522f
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/21/2017
---
# <a name="sessions-instancing-and-concurrency"></a><span data-ttu-id="af848-102">Oturumlar, Örnek Oluşturma ve Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="af848-102">Sessions, Instancing, and Concurrency</span></span>
<span data-ttu-id="af848-103">A *oturum* iki uç noktaları arasında gönderilen tüm iletiler bağıntı değil.</span><span class="sxs-lookup"><span data-stu-id="af848-103">A *session* is a correlation of all messages sent between two endpoints.</span></span> <span data-ttu-id="af848-104">*Örnek oluşturma* kullanıcı tanımlı bir hizmet nesneleri ve bunların ilgili ömrü denetlenmesi için başvuruyor <xref:System.ServiceModel.InstanceContext> nesneleri.</span><span class="sxs-lookup"><span data-stu-id="af848-104">*Instancing* refers to controlling the lifetime of user-defined service objects and their related <xref:System.ServiceModel.InstanceContext> objects.</span></span> <span data-ttu-id="af848-105">*Eşzamanlılık* olan içinde çalışan iş parçacıklarının sayısını denetlemek için belirtilen terimin bir <xref:System.ServiceModel.InstanceContext> aynı anda.</span><span class="sxs-lookup"><span data-stu-id="af848-105">*Concurrency* is the term given to the control of the number of threads executing in an <xref:System.ServiceModel.InstanceContext> at the same time.</span></span>  
  
 <span data-ttu-id="af848-106">Bu konuda, bu ayarları açıklanmaktadır bunları ve bunların arasındaki çeşitli etkileşimleri kullanma.</span><span class="sxs-lookup"><span data-stu-id="af848-106">This topic describes these settings, how to use them, and the various interactions between them.</span></span>  
  
## <a name="sessions"></a><span data-ttu-id="af848-107">Oturumlar</span><span class="sxs-lookup"><span data-stu-id="af848-107">Sessions</span></span>  
 <span data-ttu-id="af848-108">Ne zaman bir hizmet sözleşmesini ayarlar <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> özelliğine <xref:System.ServiceModel.SessionMode.Required?displayProperty=nameWithType>, bu sözleşme tüm çağrıları (çağrıları destekleyen başka bir deyişle, temel alınan ileti alışverişlerinde) aynı konuşmada bir parçası olması gerektiğini söyleyen.</span><span class="sxs-lookup"><span data-stu-id="af848-108">When a service contract sets the <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.SessionMode.Required?displayProperty=nameWithType>, that contract is saying that all calls (that is, the underlying message exchanges that support the calls) must be part of the same conversation.</span></span> <span data-ttu-id="af848-109">Bir sözleşme oturumları sağlar ancak bir gerektirmez, istemcilerin bağlanabileceği ya da bir veya oturumu belirtirse.</span><span class="sxs-lookup"><span data-stu-id="af848-109">If a contract specifies that it allows sessions but does not require one, clients can connect and either establish a session or not.</span></span> <span data-ttu-id="af848-110">Sona ererse ve bir ileti aynı oturum tabanlı kanal bir özel durum atılır gönderilir.</span><span class="sxs-lookup"><span data-stu-id="af848-110">If the session ends and a message is sent over the same session-based channel an exception is thrown.</span></span>  
  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="af848-111">oturumları aşağıdaki ana kavramsal özelliklere sahiptir:</span><span class="sxs-lookup"><span data-stu-id="af848-111"> sessions have the following main conceptual features:</span></span>  
  
-   <span data-ttu-id="af848-112">Bunlar açıkça başlatılan ve çağıran uygulama tarafından sonlandırıldı.</span><span class="sxs-lookup"><span data-stu-id="af848-112">They are explicitly initiated and terminated by the calling application.</span></span>  
  
-   <span data-ttu-id="af848-113">Bir oturumda teslim edilen ileti bunlar alındığı sırada işlenir.</span><span class="sxs-lookup"><span data-stu-id="af848-113">Messages delivered during a session are processed in the order in which they are received.</span></span>  
  
-   <span data-ttu-id="af848-114">Oturumları iletileri bir grup konuşma bağıntısını.</span><span class="sxs-lookup"><span data-stu-id="af848-114">Sessions correlate a group of messages into a conversation.</span></span> <span data-ttu-id="af848-115">Bu bağıntı anlamını bir soyutlamadır.</span><span class="sxs-lookup"><span data-stu-id="af848-115">The meaning of that correlation is an abstraction.</span></span> <span data-ttu-id="af848-116">Örneğin, bir oturum tabanlı kanalı başka bir oturum tabanlı kanal ileti gövdesinde paylaşılan bir etiket dayanan iletilerin ilişkilendirilebilir bir paylaşılan ağ bağlantısı üzerinde tabanlı iletileri ilişkilendirilebilir.</span><span class="sxs-lookup"><span data-stu-id="af848-116">For instance, one session-based channel may correlate messages based on a shared network connection while another session-based channel may correlate messages based on a shared tag in the message body.</span></span> <span data-ttu-id="af848-117">Oturumdan elde edilebilir özelliklerine bağıntı yapısına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="af848-117">The features that can be derived from the session depend on the nature of the correlation.</span></span>  
  
-   <span data-ttu-id="af848-118">İle ilişkili bir genel veri depo bir [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] oturumu.</span><span class="sxs-lookup"><span data-stu-id="af848-118">There is no general data store associated with a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] session.</span></span>  
  
 <span data-ttu-id="af848-119">Hakkında bilginiz varsa <xref:System.Web.SessionState.HttpSessionState?displayProperty=nameWithType> sınıfını [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] uygulamaları ve işlevselliği sağlar, bu tür bir oturum arasındaki aşağıdaki farkları görebilirsiniz ve [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] oturumları:</span><span class="sxs-lookup"><span data-stu-id="af848-119">If you are familiar with the <xref:System.Web.SessionState.HttpSessionState?displayProperty=nameWithType> class in [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)] applications and the functionality it provides, you might notice the following differences between that kind of session and [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sessions:</span></span>  
  
-   [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]<span data-ttu-id="af848-120">oturumları her zaman sunucu-başlatılır.</span><span class="sxs-lookup"><span data-stu-id="af848-120"> sessions are always server-initiated.</span></span>  
  
-   [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]<span data-ttu-id="af848-121">oturumları örtük olarak sıralanmamış.</span><span class="sxs-lookup"><span data-stu-id="af848-121"> sessions are implicitly unordered.</span></span>  
  
-   [!INCLUDE[vstecasp](../../../../includes/vstecasp-md.md)]<span data-ttu-id="af848-122">oturumları istekler genelinde bir genel veri depolama mekanizması sağlar.</span><span class="sxs-lookup"><span data-stu-id="af848-122"> sessions provide a general data storage mechanism across requests.</span></span>  
  
 <span data-ttu-id="af848-123">İstemci uygulamaları ve hizmet uygulamaları oturumlarıyla farklı şekillerde etkileşim.</span><span class="sxs-lookup"><span data-stu-id="af848-123">Client applications and service applications interact with sessions in different ways.</span></span> <span data-ttu-id="af848-124">İstemci uygulamaları oturumlarını başlatmak ve ardından almak ve oturum içinde gönderilen iletileri işleme.</span><span class="sxs-lookup"><span data-stu-id="af848-124">Client applications initiate sessions and then receive and process the messages sent within the session.</span></span> <span data-ttu-id="af848-125">Hizmet uygulamaları oturumları ek davranış eklemek için bir genişletilebilirlik noktası olarak kullanın.</span><span class="sxs-lookup"><span data-stu-id="af848-125">Service applications can use sessions as an extensibility point to add additional behavior.</span></span> <span data-ttu-id="af848-126">Bu doğrudan ile çalışarak yapılır <xref:System.ServiceModel.InstanceContext> veya özel örnek bağlamı sağlayıcıyı uygulama.</span><span class="sxs-lookup"><span data-stu-id="af848-126">This is done by working directly with the <xref:System.ServiceModel.InstanceContext> or implementing a custom instance context provider.</span></span>  
  
## <a name="instancing"></a><span data-ttu-id="af848-127">Örnek Oluşturma</span><span class="sxs-lookup"><span data-stu-id="af848-127">Instancing</span></span>  
 <span data-ttu-id="af848-128">Örneklemesini davranış (kullanarak ayarlamak <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> özelliği) denetimleri nasıl <xref:System.ServiceModel.InstanceContext> gelen iletilere yanıt olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="af848-128">The instancing behavior (set by using the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property) controls how the <xref:System.ServiceModel.InstanceContext> is created in response to incoming messages.</span></span> <span data-ttu-id="af848-129">Varsayılan olarak, her <xref:System.ServiceModel.InstanceContext> bir kullanıcı tanımlı bir hizmet nesnesiyle ilişkili bunu (varsayılan durumda) ayarı <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> özelliği de denetler depolamasına kullanıcı tanımlı hizmet nesneleri.</span><span class="sxs-lookup"><span data-stu-id="af848-129">By default, each <xref:System.ServiceModel.InstanceContext> is associated with one user-defined service object, so (in the default case) setting the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A> property also controls the instancing of user-defined service objects.</span></span> <span data-ttu-id="af848-130"><xref:System.ServiceModel.InstanceContextMode> Numaralandırma örneklemesini modlarını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="af848-130">The <xref:System.ServiceModel.InstanceContextMode> enumeration defines the instancing modes.</span></span>  
  
 <span data-ttu-id="af848-131">Aşağıdaki örneklemesini modları kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="af848-131">The following instancing modes are available:</span></span>  
  
-   <span data-ttu-id="af848-132"><xref:System.ServiceModel.InstanceContextMode.PerCall>: Yeni bir <xref:System.ServiceModel.InstanceContext> (ve bu nedenle nesne servis) her istemci isteği için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="af848-132"><xref:System.ServiceModel.InstanceContextMode.PerCall>: A new <xref:System.ServiceModel.InstanceContext> (and therefore service object) is created for each client request.</span></span>  
  
-   <span data-ttu-id="af848-133"><xref:System.ServiceModel.InstanceContextMode.PerSession>: Yeni bir <xref:System.ServiceModel.InstanceContext> (ve bu nedenle nesne servis) her yeni istemci oturumu için oluşturulur ve bu oturuma (Bu gerektirir oturumları destekleyen bir bağlama) ömrü boyunca saklanır.</span><span class="sxs-lookup"><span data-stu-id="af848-133"><xref:System.ServiceModel.InstanceContextMode.PerSession>: A new <xref:System.ServiceModel.InstanceContext> (and therefore service object) is created for each new client session and maintained for the lifetime of that session (this requires a binding that supports sessions).</span></span>  
  
-   <span data-ttu-id="af848-134"><xref:System.ServiceModel.InstanceContextMode.Single>: Bir tek <xref:System.ServiceModel.InstanceContext> (ve bu nedenle nesne servis) uygulama ömrü boyunca tüm istemci isteklerini işler.</span><span class="sxs-lookup"><span data-stu-id="af848-134"><xref:System.ServiceModel.InstanceContextMode.Single>: A single <xref:System.ServiceModel.InstanceContext> (and therefore service object) handles all client requests for the lifetime of the application.</span></span>  
  
 <span data-ttu-id="af848-135">Aşağıdaki kod örneğinde varsayılan gösterir <xref:System.ServiceModel.InstanceContextMode> değeri <xref:System.ServiceModel.InstanceContextMode.PerSession> açıkça bir hizmet sınıfında ayarlanan.</span><span class="sxs-lookup"><span data-stu-id="af848-135">The following code example shows the default <xref:System.ServiceModel.InstanceContextMode> value, <xref:System.ServiceModel.InstanceContextMode.PerSession> being explicitly set on a service class.</span></span>  
  
```  
[ServiceBehavior(InstanceContextMode=InstanceContextMode.PerSession)]   
public class CalculatorService : ICalculatorInstance   
{   
    ...  
}  
```  
  
 <span data-ttu-id="af848-136">Ve while <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> özelliği denetler ne sıklıkta <xref:System.ServiceModel.InstanceContext> yayımlandığı <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> ve <xref:System.ServiceModel.ServiceBehaviorAttribute.ReleaseServiceInstanceOnTransactionComplete%2A?displayProperty=nameWithType> denetim özelliklerini hizmet nesnesi serbest bırakıldığında.</span><span class="sxs-lookup"><span data-stu-id="af848-136">And while the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property controls how often the <xref:System.ServiceModel.InstanceContext> is released, the <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.ServiceBehaviorAttribute.ReleaseServiceInstanceOnTransactionComplete%2A?displayProperty=nameWithType> properties control when the service object is released.</span></span>  
  
### <a name="well-known-singleton-services"></a><span data-ttu-id="af848-137">İyi bilinen Singleton Hizmetleri</span><span class="sxs-lookup"><span data-stu-id="af848-137">Well-Known Singleton Services</span></span>  
 <span data-ttu-id="af848-138">Tek örnek hizmet nesneler üzerinde bir değişim bazen faydalıdır: bir hizmet nesnesi kendiniz oluşturmanız ve bu nesneyi kullanarak hizmet ana bilgisayarını oluşturun.</span><span class="sxs-lookup"><span data-stu-id="af848-138">One variation on single instance service objects is sometimes useful: you can create a service object yourself and create the service host using that object.</span></span> <span data-ttu-id="af848-139">Bunu yapmak için de ayarlamalısınız <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> özelliğine <xref:System.ServiceModel.InstanceContextMode.Single> ya da hizmet konağı açıldığında bir özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="af848-139">To do so, you must also set the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property to <xref:System.ServiceModel.InstanceContextMode.Single> or an exception is thrown when the service host is opened.</span></span>  
  
 <span data-ttu-id="af848-140">Kullanım <xref:System.ServiceModel.ServiceHost.%23ctor%28System.Object%2CSystem.Uri%5B%5D%29?displayProperty=nameWithType> gibi bir hizmet oluşturmak için Oluşturucusu.</span><span class="sxs-lookup"><span data-stu-id="af848-140">Use the <xref:System.ServiceModel.ServiceHost.%23ctor%28System.Object%2CSystem.Uri%5B%5D%29?displayProperty=nameWithType> constructor to create such a service.</span></span> <span data-ttu-id="af848-141">Özel bir uygulama için bir alternatif sağlayan <xref:System.ServiceModel.Dispatcher.IInstanceContextInitializer?displayProperty=nameWithType> belirli nesne örneği bir singleton hizmeti tarafından kullanım için sağlamak istediğiniz zaman.</span><span class="sxs-lookup"><span data-stu-id="af848-141">It provides an alternative to implementing a custom <xref:System.ServiceModel.Dispatcher.IInstanceContextInitializer?displayProperty=nameWithType> when you wish to provide a specific object instance for use by a singleton service.</span></span> <span data-ttu-id="af848-142">Hizmet uygulama türü (örneğin, onu varsayılan parametresiz ortak oluşturucu uygulamadığında) oluşturmak zor olduğu durumlarda, bu aşırı yüklemesini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="af848-142">You can use this overload when your service implementation type is difficult to construct (for example, if it does not implement a default parameterless public constructor).</span></span>  
  
 <span data-ttu-id="af848-143">Bu oluşturucuya bir nesne sağlandığında, bazı özellikler için ilgili [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] davranışı iş farklı depolamasına.</span><span class="sxs-lookup"><span data-stu-id="af848-143">Note that when an object is provided to this constructor, some features related to the [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] instancing behavior work differently.</span></span> <span data-ttu-id="af848-144">Örneğin, arama <xref:System.ServiceModel.InstanceContext.ReleaseServiceInstance%2A?displayProperty=nameWithType> singleton nesne örneği sağlandığında hiçbir etkisi olmaz.</span><span class="sxs-lookup"><span data-stu-id="af848-144">For example, calling <xref:System.ServiceModel.InstanceContext.ReleaseServiceInstance%2A?displayProperty=nameWithType> has no effect when a singleton object instance is provided.</span></span> <span data-ttu-id="af848-145">Benzer şekilde, başka bir örneğinin yayın mekanizma göz ardı edilir.</span><span class="sxs-lookup"><span data-stu-id="af848-145">Similarly, any other instance-release mechanism is ignored.</span></span> <span data-ttu-id="af848-146"><xref:System.ServiceModel.ServiceHost> Her zaman davranır gibi <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> özelliği ayarlanmış <xref:System.ServiceModel.ReleaseInstanceMode.None?displayProperty=nameWithType> tüm işlemleri için.</span><span class="sxs-lookup"><span data-stu-id="af848-146">The <xref:System.ServiceModel.ServiceHost> always behaves as if the <xref:System.ServiceModel.OperationBehaviorAttribute.ReleaseInstanceMode%2A?displayProperty=nameWithType> property is set to <xref:System.ServiceModel.ReleaseInstanceMode.None?displayProperty=nameWithType> for all operations.</span></span>  
  
### <a name="sharing-instancecontext-objects"></a><span data-ttu-id="af848-147">InstanceContext nesneleri paylaşımı</span><span class="sxs-lookup"><span data-stu-id="af848-147">Sharing InstanceContext Objects</span></span>  
 <span data-ttu-id="af848-148">Hangi süre sonuyla kanalı kontrol edebilirsiniz veya çağrı, kendisiyle ilişkilendirilmiş <xref:System.ServiceModel.InstanceContext> kendiniz bu ilişkiyi gerçekleştirerek nesnesi.</span><span class="sxs-lookup"><span data-stu-id="af848-148">You can also control which sessionful channel or call is associated with which <xref:System.ServiceModel.InstanceContext> object by performing that association yourself.</span></span>  
  
## <a name="concurrency"></a><span data-ttu-id="af848-149">Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="af848-149">Concurrency</span></span>  
 <span data-ttu-id="af848-150">Eşzamanlılık denetimi etkin iş parçacığı sayısı olan bir <xref:System.ServiceModel.InstanceContext> herhangi bir zamanda.</span><span class="sxs-lookup"><span data-stu-id="af848-150">Concurrency is the control of the number of threads active in an <xref:System.ServiceModel.InstanceContext> at any one time.</span></span> <span data-ttu-id="af848-151">Bu kullanılarak denetlenir <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A?displayProperty=nameWithType> ile <xref:System.ServiceModel.ConcurrencyMode> numaralandırması.</span><span class="sxs-lookup"><span data-stu-id="af848-151">This is controlled by using the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A?displayProperty=nameWithType> with the <xref:System.ServiceModel.ConcurrencyMode> enumeration.</span></span>  
  
 <span data-ttu-id="af848-152">Aşağıdaki üç eşzamanlılık modu kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="af848-152">The following three concurrency modes are available:</span></span>  
  
-   <span data-ttu-id="af848-153"><xref:System.ServiceModel.ConcurrencyMode.Single>: Her örnek bağlamı en fazla bir iş parçacığı aynı anda örneği bağlamında iletileri işleme izin verilmez.</span><span class="sxs-lookup"><span data-stu-id="af848-153"><xref:System.ServiceModel.ConcurrencyMode.Single>: Each instance context is allowed to have a maximum of one thread processing messages in the instance context at a time.</span></span> <span data-ttu-id="af848-154">Örnek bağlamı özgün iş parçacığı çıkar kadar aynı örnek bağlamı kullanmak isteyen başka bir iş parçacığı engellemelidir.</span><span class="sxs-lookup"><span data-stu-id="af848-154">Other threads wishing to use the same instance context must block until the original thread exits the instance context.</span></span>  
  
-   <span data-ttu-id="af848-155"><xref:System.ServiceModel.ConcurrencyMode.Multiple>: Her hizmet örneği birden çok iş parçacığı iletileri aynı anda işleme sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="af848-155"><xref:System.ServiceModel.ConcurrencyMode.Multiple>: Each service instance can have multiple threads processing messages concurrently.</span></span> <span data-ttu-id="af848-156">Hizmet uygulaması bu eşzamanlılık modunu kullanmak için iş parçacığı açısından güvenli olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="af848-156">The service implementation must be thread-safe to use this concurrency mode.</span></span>  
  
-   <span data-ttu-id="af848-157"><xref:System.ServiceModel.ConcurrencyMode.Reentrant>: Her hizmet örneği aynı anda tek bir ileti işler, ancak içe işlemi çağrılarını kabul eder.</span><span class="sxs-lookup"><span data-stu-id="af848-157"><xref:System.ServiceModel.ConcurrencyMode.Reentrant>: Each service instance processes one message at a time, but accepts re-entrant operation calls.</span></span> <span data-ttu-id="af848-158">Bunu aracılığıyla çağrılırken hizmet yalnızca bu çağrıları kabul bir [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] istemci nesnesi.</span><span class="sxs-lookup"><span data-stu-id="af848-158">The service only accepts these calls when it is calling out through a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client object.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="af848-159">Anlama ve güvenli bir şekilde birden çok iş parçacığı kullanan kodu geliştirme başarıyla yazmak zor olabilir.</span><span class="sxs-lookup"><span data-stu-id="af848-159">Understanding and developing code that safely uses more than one thread can be difficult to write successfully.</span></span> <span data-ttu-id="af848-160">Kullanmadan önce <xref:System.ServiceModel.ConcurrencyMode.Multiple> veya <xref:System.ServiceModel.ConcurrencyMode.Reentrant> değerleri emin olun, hizmeti bu modları için düzgün şekilde tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="af848-160">Before using <xref:System.ServiceModel.ConcurrencyMode.Multiple> or <xref:System.ServiceModel.ConcurrencyMode.Reentrant> values, ensure that your service is properly designed for these modes.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="af848-161"> <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A>.</span><span class="sxs-lookup"><span data-stu-id="af848-161"> <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A>.</span></span>  
  
 <span data-ttu-id="af848-162">Eşzamanlılık kullanımını örnekleme modunu ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="af848-162">The use of concurrency is related to the instancing mode.</span></span> <span data-ttu-id="af848-163">İçinde <xref:System.ServiceModel.InstanceContextMode.PerCall> her ileti yeni tarafından işlenir depolamasına, eşzamanlılık ilgili, olmadığından <xref:System.ServiceModel.InstanceContext> ve bu nedenle, hiçbir zaman birden fazla iş parçacığının etkin olduğu <xref:System.ServiceModel.InstanceContext>.</span><span class="sxs-lookup"><span data-stu-id="af848-163">In <xref:System.ServiceModel.InstanceContextMode.PerCall> instancing, concurrency is not relevant, because each message is processed by a new <xref:System.ServiceModel.InstanceContext> and, therefore, never more than one thread is active in the <xref:System.ServiceModel.InstanceContext>.</span></span>  
  
 <span data-ttu-id="af848-164">Aşağıdaki kod örneğinde ayarı gösterilmektedir <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> özelliğine <xref:System.ServiceModel.ConcurrencyMode.Multiple>.</span><span class="sxs-lookup"><span data-stu-id="af848-164">The following code example demonstrates setting the <xref:System.ServiceModel.ServiceBehaviorAttribute.ConcurrencyMode%2A> property to <xref:System.ServiceModel.ConcurrencyMode.Multiple>.</span></span>  
  
```  
[ServiceBehavior(ConcurrencyMode=ConcurrencyMode.Multiple, InstanceContextMode = InstanceContextMode.Single)]   
public class CalculatorService : ICalculatorConcurrency   
{   
    ...  
}  
```  
  
## <a name="sessions-interact-with-instancecontext-settings"></a><span data-ttu-id="af848-165">Oturumları InstanceContext ayarlarla etkileşim</span><span class="sxs-lookup"><span data-stu-id="af848-165">Sessions Interact with InstanceContext Settings</span></span>  
 <span data-ttu-id="af848-166">Oturumlar ve <xref:System.ServiceModel.InstanceContext> değerini birleşimi bağlı olarak etkileşim <xref:System.ServiceModel.SessionMode> bir sözleşme numaralandırmada ve <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> kanalları özel arasındaki ilişkiyi denetimleri hizmet uygulaması özelliği Hizmet nesneleri.</span><span class="sxs-lookup"><span data-stu-id="af848-166">Sessions and <xref:System.ServiceModel.InstanceContext> interact depending upon the combination of the value of the <xref:System.ServiceModel.SessionMode> enumeration in a contract and the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property on the service implementation, which controls the association between channels and specific service objects.</span></span>  
  
 <span data-ttu-id="af848-167">Aşağıdaki tabloda oturumları destekleme ya da bir hizmetin değerlerini birleşimi verilen oturumları desteklemediğinden gelen kanal sonucunu gösterir <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> özelliği ve <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> özelliği.</span><span class="sxs-lookup"><span data-stu-id="af848-167">The following table shows the result of an incoming channel either supporting sessions or not supporting sessions given a service's combination of the values of the <xref:System.ServiceModel.ServiceContractAttribute.SessionMode%2A?displayProperty=nameWithType> property and the <xref:System.ServiceModel.ServiceBehaviorAttribute.InstanceContextMode%2A?displayProperty=nameWithType> property.</span></span>  
  
|<span data-ttu-id="af848-168">InstanceContextMode değeri</span><span class="sxs-lookup"><span data-stu-id="af848-168">InstanceContextMode value</span></span>|<xref:System.ServiceModel.SessionMode.Required>|<xref:System.ServiceModel.SessionMode.Allowed>|<xref:System.ServiceModel.SessionMode.NotAllowed>|  
|-------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<span data-ttu-id="af848-169">PerCall</span><span class="sxs-lookup"><span data-stu-id="af848-169">PerCall</span></span>|<span data-ttu-id="af848-170">-Süre sonuyla kanal davranışa: bir oturum ve <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="af848-170">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each call.</span></span><br /><span data-ttu-id="af848-171">-Oturumsuz kanal davranışa: özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="af848-171">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="af848-172">-Süre sonuyla kanal davranışa: bir oturum ve <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="af848-172">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each call.</span></span><br /><span data-ttu-id="af848-173">-Oturumsuz kanal davranışa: bir <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="af848-173">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|<span data-ttu-id="af848-174">-Süre sonuyla kanal davranışa: özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="af848-174">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="af848-175">-Oturumsuz kanal davranışa: bir <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="af848-175">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|  
|<span data-ttu-id="af848-176">Değeri PerSession</span><span class="sxs-lookup"><span data-stu-id="af848-176">PerSession</span></span>|<span data-ttu-id="af848-177">-Süre sonuyla kanal davranışa: bir oturum ve <xref:System.ServiceModel.InstanceContext> her kanalı.</span><span class="sxs-lookup"><span data-stu-id="af848-177">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each channel.</span></span><br /><span data-ttu-id="af848-178">-Oturumsuz kanal davranışa: özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="af848-178">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="af848-179">-Süre sonuyla kanal davranışa: bir oturum ve <xref:System.ServiceModel.InstanceContext> her kanalı.</span><span class="sxs-lookup"><span data-stu-id="af848-179">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for each channel.</span></span><br /><span data-ttu-id="af848-180">-Oturumsuz kanal davranışa: bir <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="af848-180">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|<span data-ttu-id="af848-181">-Süre sonuyla kanal davranışa: özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="af848-181">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="af848-182">-Oturumsuz kanal davranışa: bir <xref:System.ServiceModel.InstanceContext> her çağrı için.</span><span class="sxs-lookup"><span data-stu-id="af848-182">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each call.</span></span>|  
|<span data-ttu-id="af848-183">Tek</span><span class="sxs-lookup"><span data-stu-id="af848-183">Single</span></span>|<span data-ttu-id="af848-184">-Süre sonuyla kanal davranışa: bir oturum ve bir <xref:System.ServiceModel.InstanceContext> tüm çağrıları için.</span><span class="sxs-lookup"><span data-stu-id="af848-184">-   Behavior with sessionful channel: A session and one <xref:System.ServiceModel.InstanceContext> for all calls.</span></span><br /><span data-ttu-id="af848-185">-Oturumsuz kanal davranışa: özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="af848-185">-   Behavior with sessionless channel: An exception is thrown.</span></span>|<span data-ttu-id="af848-186">-Süre sonuyla kanal davranışa: bir oturum ve <xref:System.ServiceModel.InstanceContext> oluşturulan ya da kullanıcı tarafından belirtilen tekli için.</span><span class="sxs-lookup"><span data-stu-id="af848-186">-   Behavior with sessionful channel: A session and <xref:System.ServiceModel.InstanceContext> for the created or user-specified singleton.</span></span><br /><span data-ttu-id="af848-187">-Oturumsuz kanal davranışa: bir <xref:System.ServiceModel.InstanceContext> oluşturulan ya da kullanıcı tarafından belirtilen tekli için.</span><span class="sxs-lookup"><span data-stu-id="af848-187">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for the created or user-specified singleton.</span></span>|<span data-ttu-id="af848-188">-Süre sonuyla kanal davranışa: özel durum oluşur.</span><span class="sxs-lookup"><span data-stu-id="af848-188">-   Behavior with sessionful channel: An exception is thrown.</span></span><br /><span data-ttu-id="af848-189">-Oturumsuz kanal davranışa: bir <xref:System.ServiceModel.InstanceContext> oluşturulan her singleton veya kullanıcı tarafından belirtilen tekli için.</span><span class="sxs-lookup"><span data-stu-id="af848-189">-   Behavior with sessionless channel: An <xref:System.ServiceModel.InstanceContext> for each created singleton or for the user-specified singleton.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="af848-190">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="af848-190">See Also</span></span>  
 [<span data-ttu-id="af848-191">Oturumları kullanma</span><span class="sxs-lookup"><span data-stu-id="af848-191">Using Sessions</span></span>](../../../../docs/framework/wcf/using-sessions.md)  
 [<span data-ttu-id="af848-192">Nasıl yapılır: oturum gerektiren bir hizmet oluşturma</span><span class="sxs-lookup"><span data-stu-id="af848-192">How to: Create a Service That Requires Sessions</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-service-that-requires-sessions.md)  
 [<span data-ttu-id="af848-193">Nasıl yapılır: Hizmet örneği oluşturmayı denetleme</span><span class="sxs-lookup"><span data-stu-id="af848-193">How to: Control Service Instancing</span></span>](../../../../docs/framework/wcf/feature-details/how-to-control-service-instancing.md)  
 [<span data-ttu-id="af848-194">Eşzamanlılık</span><span class="sxs-lookup"><span data-stu-id="af848-194">Concurrency</span></span>](../../../../docs/framework/wcf/samples/concurrency.md)  
 [<span data-ttu-id="af848-195">Örnek oluşturma</span><span class="sxs-lookup"><span data-stu-id="af848-195">Instancing</span></span>](../../../../docs/framework/wcf/samples/instancing.md)  
 [<span data-ttu-id="af848-196">Oturumu</span><span class="sxs-lookup"><span data-stu-id="af848-196">Session</span></span>](../../../../docs/framework/wcf/samples/session.md)
