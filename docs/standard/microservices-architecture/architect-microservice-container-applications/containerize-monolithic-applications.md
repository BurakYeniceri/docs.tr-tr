---
title: "Containerizing tek yapılı uygulamaları"
description: "Kapsayıcılı .NET uygulamaları için .NET mikro mimarisi | Containerizing tek yapılı uygulamaları"
keywords: "Docker, mikro, ASP.NET, kapsayıcı"
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.openlocfilehash: 11e2c24403b9b61584e424696c844e00e5d34b03
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/21/2017
---
# <a name="containerizing-monolithic-applications"></a><span data-ttu-id="d0306-104">Containerizing tek yapılı uygulamaları</span><span class="sxs-lookup"><span data-stu-id="d0306-104">Containerizing monolithic applications</span></span>

<span data-ttu-id="d0306-105">Bir tek, monolithically dağıtılan web uygulaması veya hizmeti geliştirmek ve kapsayıcı olarak dağıtmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d0306-105">You might want to build a single, monolithically deployed web application or service and deploy it as a container.</span></span> <span data-ttu-id="d0306-106">Uygulama dahili olarak tek yapılı olmayabilir ancak gibi birkaç kitaplıkları, bileşenler veya hatta Katmanlar (uygulama katmanı, etki alanı katman, veri erişim katmanı, vb.) yapılandırılmış.</span><span class="sxs-lookup"><span data-stu-id="d0306-106">The application itself might not be internally monolithic, but structured as several libraries, components, or even layers (application layer, domain layer, data-access layer, etc.).</span></span> <span data-ttu-id="d0306-107">Harici olarak ancak, tek bir kapsayıcı değildir — tek bir işlem, bir tek bir web uygulaması veya bir hizmettir.</span><span class="sxs-lookup"><span data-stu-id="d0306-107">Externally, however, it is a single container—a single process, a single web application, or a single service.</span></span>

<span data-ttu-id="d0306-108">Bu model yönetmek için uygulamayı temsil etmek için tek bir kapsayıcı dağıtın.</span><span class="sxs-lookup"><span data-stu-id="d0306-108">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="d0306-109">Ölçeği için yalnızca bir yük dengeleyici önde ile daha fazla kopyası ekleyin.</span><span class="sxs-lookup"><span data-stu-id="d0306-109">To scale up, you just add more copies with a load balancer in front.</span></span> <span data-ttu-id="d0306-110">Basitlik, tek bir dağıtım bir tek kapsayıcı veya VM yönetme gelir.</span><span class="sxs-lookup"><span data-stu-id="d0306-110">The simplicity comes from managing a single deployment in a single container or VM.</span></span>

![](./media/image1.png)

<span data-ttu-id="d0306-111">**Şekil 4-1**.</span><span class="sxs-lookup"><span data-stu-id="d0306-111">**Figure 4-1**.</span></span> <span data-ttu-id="d0306-112">Örnek kapsayıcılı tek yapılı uygulama mimarisi</span><span class="sxs-lookup"><span data-stu-id="d0306-112">Example of the architecture of a containerized monolithic application</span></span>

<span data-ttu-id="d0306-113">Şekil 4-1'de gösterildiği gibi her kapsayıcısında birden çok bileşenleri, kitaplıkları veya iç Katmanlar içerebilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-113">You can include multiple components, libraries, or internal layers in each container, as illustrated in Figure 4-1.</span></span> <span data-ttu-id="d0306-114">Ancak, bu tek yapılı deseni "bir kapsayıcı bir şeyi yapar ve tek bir işlemde mu", ancak olabilir kapsayıcı İlkesi ile çakışabilir için bazı durumlarda Tamam olabilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-114">However, this monolithic pattern might conflict with the container principle “a container does one thing, and does it in one process”, but might be ok for some cases.</span></span>

<span data-ttu-id="d0306-115">Bu yaklaşımın bir dezavantajı uygulama büyürse ölçeklendirmek için gerektiren korumalı hale gelir.</span><span class="sxs-lookup"><span data-stu-id="d0306-115">The downside of this approach becomes evident if the application grows, requiring it to scale.</span></span> <span data-ttu-id="d0306-116">Tüm uygulama ölçeklendirme yapabilir, onu gerçekten bir sorun değildir.</span><span class="sxs-lookup"><span data-stu-id="d0306-116">If the entire application can scale, it is not really a problem.</span></span> <span data-ttu-id="d0306-117">Bununla birlikte, çoğu durumda, yalnızca birkaç uygulama ölçeklendirme, diğer bileşenler durumdayken gerektiren daha az kullanılan sıkıştırma noktaları bölümlerdir.</span><span class="sxs-lookup"><span data-stu-id="d0306-117">However, in most cases, just a few parts of the application are the choke points that requiring scaling, while other components are used less.</span></span>

<span data-ttu-id="d0306-118">Bunları satın daha birçok daha fazla müşteri ürünleri gözatmak için örneğin, bir tipik e-ticaret uygulaması ürün bilgi alt ölçeklendirmek gerekmesi muhtemeldir.</span><span class="sxs-lookup"><span data-stu-id="d0306-118">For example, in a typical e-commerce application, you likely need to scale the product information subsystem, because many more customers browse products than purchase them.</span></span> <span data-ttu-id="d0306-119">Daha fazla müşteriler kendi Sepeti ödeme işlem hattını kullanma daha kullanın.</span><span class="sxs-lookup"><span data-stu-id="d0306-119">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="d0306-120">Daha az müşteriler, yorum eklemek veya satın alma geçmişlerini görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="d0306-120">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="d0306-121">Ve içerik ve pazarlama kampanyaları yönetmeniz gereken çalışanlar, sayıda olabilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-121">And you might have only a handful of employees, that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="d0306-122">Tek yapılı tasarım ölçeği, bu farklı görevler için tüm kod birden çok kez dağıtılır ve aynı düzeyde ölçeklendirilmiş.</span><span class="sxs-lookup"><span data-stu-id="d0306-122">If you scale the monolithic design, all the code for these different tasks is deployed multiple times and scaled at the same grade.</span></span>

<span data-ttu-id="d0306-123">Uygulama ölçeklendirme birden çok yolu vardır: uygulama ve bölümleme benzer iş kavramları ve verileri işleminin farklı alanları bölünmesinde yatay çoğaltma.</span><span class="sxs-lookup"><span data-stu-id="d0306-123">There are multiple ways to scale an application—horizontal duplication, splitting different areas of the application, and partitioning similar business concepts or data.</span></span> <span data-ttu-id="d0306-124">Ancak, tüm uygulama ve tüm örnekleri tam çözümünüzün yeniden dağıtımını tam retesting tüm bileşenleri ölçeklendirme sorun ek olarak, tek bir bileşen değişiklikler gerektirir.</span><span class="sxs-lookup"><span data-stu-id="d0306-124">But, in addition to the problem of scaling all components, changes to a single component require complete retesting of the entire application, and a complete redeployment of all the instances.</span></span>

<span data-ttu-id="d0306-125">Ancak, bir uygulamanın geliştirilmesi mikro yaklaşımlar için başlangıçta daha kolay olduğundan tek yapılı bir yaklaşım ortak değildir.</span><span class="sxs-lookup"><span data-stu-id="d0306-125">However, the monolithic approach is common, because the development of the application is initially easier than for microservices approaches.</span></span> <span data-ttu-id="d0306-126">Bu nedenle, birçok kuruluş mimari bu yaklaşımı kullanarak geliştirin.</span><span class="sxs-lookup"><span data-stu-id="d0306-126">Thus, many organizations develop using this architectural approach.</span></span> <span data-ttu-id="d0306-127">Bazı kuruluşlar iyi yeterli sonuçları olmuş olsa da, diğerlerinin sınırları devreyi.</span><span class="sxs-lookup"><span data-stu-id="d0306-127">While some organizations have had good enough results, others are hitting limits.</span></span> <span data-ttu-id="d0306-128">Birçok kuruluş araçları ve altyapı hizmeti oluşturmak için yıl önce mimarileri (SOA) yönelik ve gereken listelenmiyor çok zor yapıldığı için bu modeli kullanarak uygulamalarını tasarlanmış — uygulama büyüdü kadar.</span><span class="sxs-lookup"><span data-stu-id="d0306-128">Many organizations designed their applications using this model because tools and infrastructure made it too difficult to build service oriented architectures (SOA) years ago, and they did not see the need—until the application grew.</span></span>

<span data-ttu-id="d0306-129">Her sunucu altyapısı açısından bakıldığında, aynı ana içinde birçok uygulama çalıştırın ve Şekil 4-2'de gösterildiği gibi kaynak kullanımı kabul edilebilir bir oran verimlilik sahip.</span><span class="sxs-lookup"><span data-stu-id="d0306-129">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in resources usage, as shown in Figure 4-2.</span></span>

![](./media/image2.png)

<span data-ttu-id="d0306-130">**Şekil 4-2**.</span><span class="sxs-lookup"><span data-stu-id="d0306-130">**Figure 4-2**.</span></span> <span data-ttu-id="d0306-131">Tek yapılı bir yaklaşım: ana bilgisayar birden fazla uygulama çalıştıran bir kapsayıcı olarak çalışan her uygulama</span><span class="sxs-lookup"><span data-stu-id="d0306-131">Monolithic approach: Host running multiple apps, each app running as a container</span></span>

<span data-ttu-id="d0306-132">Microsoft Azure tek yapılı uygulamalarda özel VM'ler için her bir örneği kullanılarak dağıtılabilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-132">Monolithic applications in Microsoft Azure can be deployed using dedicated VMs for each instance.</span></span> <span data-ttu-id="d0306-133">Ayrıca, kullanarak [Azure VM ölçek kümesi](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), sanal makineleri kolayca ölçeklendirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d0306-133">Additionally, using [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), you can easily scale the VMs.</span></span> <span data-ttu-id="d0306-134">[Azure uygulama hizmeti](https://azure.microsoft.com/services/app-service/) ayrıca tek yapılı uygulamaları çalıştırabilir ve sanal makineleri yönetmek gerek kalmadan örnekleri kolayca ölçeklendirin.</span><span class="sxs-lookup"><span data-stu-id="d0306-134">[Azure App Service](https://azure.microsoft.com/services/app-service/) can also run monolithic applications and easily scale instances without requiring you to manage the VMs.</span></span> <span data-ttu-id="d0306-135">2016, Azure App Services Dağıtımı basitleştirme Docker kapsayıcıları de, tek tek örneklerini çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d0306-135">Since 2016, Azure App Services can run single instances of Docker containers as well, simplifying deployment.</span></span>

<span data-ttu-id="d0306-136">QA ortamında veya sınırlı üretim ortamında olarak, birden çok Docker ana bilgisayar sanal makineleri dağıtmak ve bunları Şekil 4-3'te gösterildiği gibi Azure dengeleyicisi kullanarak Dengeleme.</span><span class="sxs-lookup"><span data-stu-id="d0306-136">As a QA environment or a limited production environment, you can deploy multiple Docker host VMs and balance them using the Azure balancer, as shown in Figure 4-3.</span></span> <span data-ttu-id="d0306-137">Tüm uygulama tek bir kapsayıcıda durur çünkü bu, bir birimi kaba yaklaşımda ölçeklendirme yönetmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d0306-137">This lets you manage scaling with a coarse-grain approach, because the whole application lives within a single container.</span></span>

![](./media/image3.png)

<span data-ttu-id="d0306-138">**Şekil 4-3**.</span><span class="sxs-lookup"><span data-stu-id="d0306-138">**Figure 4-3**.</span></span> <span data-ttu-id="d0306-139">Bir tek kapsayıcı uygulamasını ölçeklendirme birden çok ana bilgisayar örneği</span><span class="sxs-lookup"><span data-stu-id="d0306-139">Example of multiple hosts scaling up a single container application</span></span>

<span data-ttu-id="d0306-140">Çeşitli konaklarına dağıtım geleneksel dağıtım teknikleri ile yönetilebilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-140">Deployment to the various hosts can be managed with traditional deployment techniques.</span></span> <span data-ttu-id="d0306-141">Docker ana bilgisayarları gibi komutlarla yönetilebilir `docker run` veya `docker-compose` el ile veya kesintisiz teslim (CD) ardışık düzen gibi automation aracılığıyla gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-141">Docker hosts can be managed with commands like `docker run` or `docker-compose` performed manually, or through automation such as continuous delivery (CD) pipelines.</span></span>

## <a name="deploying-a-monolithic-application-as-a-container"></a><span data-ttu-id="d0306-142">Tek yapılı bir uygulama bir kapsayıcı olarak dağıtma</span><span class="sxs-lookup"><span data-stu-id="d0306-142">Deploying a monolithic application as a container</span></span>

<span data-ttu-id="d0306-143">Tek yapılı uygulama dağıtımlarını yönetmek için kapsayıcıları kullanmanın avantajları vardır.</span><span class="sxs-lookup"><span data-stu-id="d0306-143">There are benefits to using containers to manage monolithic application deployments.</span></span> <span data-ttu-id="d0306-144">Kapsayıcı örnekleri ölçeklendirme çok daha hızlı ve ek sanal makineleri dağıtma daha kolay olur.</span><span class="sxs-lookup"><span data-stu-id="d0306-144">Scaling container instances is far faster and easier than deploying additional VMs.</span></span> <span data-ttu-id="d0306-145">VM ölçek kümesi kullansanız bile, sanal makineleri başlatmak için zaman ayırın.</span><span class="sxs-lookup"><span data-stu-id="d0306-145">Even if you use VM Scale Sets, VMs take time to start.</span></span> <span data-ttu-id="d0306-146">Geleneksel uygulama örnekleri kapsayıcıları yerine olarak dağıtıldığında, uygulama yapılandırmasını ideal olmayan VM bir parçası olarak yönetilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-146">When deployed as traditional application instances instead of containers, the configuration of the application is managed as part of the VM, which is not ideal.</span></span>

<span data-ttu-id="d0306-147">Şu ana kadar daha hızlı Docker görüntüleri olarak güncelleştirmeleri dağıtmak ve ağ verimli.</span><span class="sxs-lookup"><span data-stu-id="d0306-147">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="d0306-148">Docker görüntüleri hangi piyasa sürümlerini hızlandırır saniye cinsinden genellikle başlatın.</span><span class="sxs-lookup"><span data-stu-id="d0306-148">Docker images typically start in seconds, which speeds rollouts.</span></span> <span data-ttu-id="d0306-149">Docker görüntü örneği hattının kaldırılması veren olarak kadar kolay bir `docker stop` komut ve genellikle değerinden bir saniyede tamamlar.</span><span class="sxs-lookup"><span data-stu-id="d0306-149">Tearing down a Docker image instance is as easy as issuing a `docker stop` command, and typically completes in less than a second.</span></span>

<span data-ttu-id="d0306-150">Kapsayıcıları tasarım gereği değişmez olduğundan, hiçbir zaman bozuk VM'ler hakkında endişelenmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d0306-150">Because containers are immutable by design, you never need to worry about corrupted VMs.</span></span> <span data-ttu-id="d0306-151">Buna karşılık, bir VM için güncelleştirme kodları bazı belirli yapılandırma veya diskte dosya için hesap unuttunuz.</span><span class="sxs-lookup"><span data-stu-id="d0306-151">In contrast, update scripts for a VM might forget to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="d0306-152">Tek yapılı uygulamalar Docker yararlanabilir olsa da, biz yalnızca faydaları üzerine temas.</span><span class="sxs-lookup"><span data-stu-id="d0306-152">While monolithic applications can benefit from Docker, we are touching only on the benefits.</span></span> <span data-ttu-id="d0306-153">Kapsayıcıları yönetme ek avantajları çeşitli örnekleri ve her bir kapsayıcı örnek ömrünü yönetmek kapsayıcı orchestrators ile dağıtma gelir.</span><span class="sxs-lookup"><span data-stu-id="d0306-153">Additional benefits of managing containers come from deploying with container orchestrators, which manage the various instances and lifecycle of each container instance.</span></span> <span data-ttu-id="d0306-154">Ölçeği, geliştirilmiş ve tek tek dağıttığınız alt sistemleri tek yapılı uygulamasına parçalamak, giriş bölgesi içine mikro noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="d0306-154">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

## <a name="publishing-a-single-container-based-application-to-azure-app-service"></a><span data-ttu-id="d0306-155">Azure App Service'e tek kapsayıcı tabanlı bir uygulama yayımlama</span><span class="sxs-lookup"><span data-stu-id="d0306-155">Publishing a single-container-based application to Azure App Service</span></span>

<span data-ttu-id="d0306-156">Azure'a dağıtılan bir kapsayıcı doğrulanması almak istediğinizi veya bir uygulamayı yalnızca bir tek kapsayıcısı uygulamasına olduğunda, Azure uygulama hizmeti ölçeklenebilir tek kapsayıcı tabanlı hizmetler için harika bir yolu sağlar.</span><span class="sxs-lookup"><span data-stu-id="d0306-156">Whether you want to get validation of a container deployed to Azure or when an application is simply a single-container application, Azure App Service provides a great way to provide scalable single-container-based services.</span></span> <span data-ttu-id="d0306-157">Azure uygulama hizmeti kullanarak basit bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="d0306-157">Using Azure App Service is simple.</span></span> <span data-ttu-id="d0306-158">Kodunuzu almak, Visual Studio'da derleme ve doğrudan Azure dağıtma kolaylaştırmak için Git ile iyi tümleştirme sağlar.</span><span class="sxs-lookup"><span data-stu-id="d0306-158">It provides great integration with Git to make it easy to take your code, build it in Visual Studio, and deploy it directly to Azure.</span></span>

![](./media/image4.png)

<span data-ttu-id="d0306-159">**Şekil 4-4**.</span><span class="sxs-lookup"><span data-stu-id="d0306-159">**Figure 4-4**.</span></span> <span data-ttu-id="d0306-160">Visual Studio'da Azure App Service'e bir tek kapsayıcı uygulama yayımlama</span><span class="sxs-lookup"><span data-stu-id="d0306-160">Publishing a single-container application to Azure App Service from Visual Studio</span></span>

<span data-ttu-id="d0306-161">Docker diğer özellikleri, çerçeveleri veya Azure App Service'te desteklenmeyen bağımlılıkları gerekirse bu bağımlılıkların App Service'teki Azure ekibi güncelleştirilmiş kadar bekleyin vardı.</span><span class="sxs-lookup"><span data-stu-id="d0306-161">Without Docker, if you needed other capabilities, frameworks, or dependencies that are not supported in Azure App Service, you had to wait until the Azure team updated those dependencies in App Service.</span></span> <span data-ttu-id="d0306-162">Veya Azure Service Fabric, Azure bulut Hizmetleri veya burada daha fazla denetimi kaldı ve uygulamanız için gerekli bir bileşen veya framework yükleyebilir VM'ler bile, gibi diğer hizmetlere geçiş gerekiyordu.</span><span class="sxs-lookup"><span data-stu-id="d0306-162">Or you had to switch to other services like Azure Service Fabric, Azure Cloud Services, or even VMs, where you had further control and you could install a required component or framework for your application.</span></span>

<span data-ttu-id="d0306-163">Visual Studio 2017 kapsayıcı desteği Şekil 4-4'te gösterildiği gibi uygulama ortamınızda istediğiniz ekleme yeteneği verir.</span><span class="sxs-lookup"><span data-stu-id="d0306-163">Container support in Visual Studio 2017 gives you the ability to include whatever you want in your application environment, as shown in Figure 4-4.</span></span> <span data-ttu-id="d0306-164">Uygulamanıza bir bağımlılık eklerseniz, bir kapsayıcıda çalıştırılan olmadığından, bağımlılık Dockerfile veya Docker yansımanıza içerebilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-164">Since you are running it in a container, if you add a dependency to your application, you can include the dependency in your Dockerfile or Docker image.</span></span>

<span data-ttu-id="d0306-165">Yayımla akış de gösterildiği gibi Şekil 4-4'te, görüntüyü bir kapsayıcı kayıt defteri iter.</span><span class="sxs-lookup"><span data-stu-id="d0306-165">As also shown in Figure 4-4, the publish flow pushes an image through a container registry.</span></span> <span data-ttu-id="d0306-166">Bu, (kayıt defteri dağıtımlarınızda Azure kapatın ve Azure Active Directory grupları ve hesaplarını tarafından güvenliği sağlanan) Azure kapsayıcı kayıt defteri ya da, Docker hub'a veya bir şirket içi kayıt defteri gibi diğer Docker kayıt olabilir.</span><span class="sxs-lookup"><span data-stu-id="d0306-166">This can be the Azure Container Registry (a registry close to your deployments in Azure and secured by Azure Active Directory groups and accounts), or any other Docker registry, like Docker Hub or an on-premises registry.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="d0306-167">[Önceki] (index.md) [sonraki] (docker-uygulama-durumu-data.md)</span><span class="sxs-lookup"><span data-stu-id="d0306-167">[Previous] (index.md) [Next] (docker-application-state-data.md)</span></span>
