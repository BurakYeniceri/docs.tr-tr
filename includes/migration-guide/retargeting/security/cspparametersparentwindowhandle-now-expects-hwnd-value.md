### <a name="cspparametersparentwindowhandle-now-expects-hwnd-value"></a><span data-ttu-id="89b37-101">CspParameters.ParentWindowHandle şimdi HWND değer bekler</span><span class="sxs-lookup"><span data-stu-id="89b37-101">CspParameters.ParentWindowHandle now expects HWND value</span></span>

|   |   |
|---|---|
|<span data-ttu-id="89b37-102">Ayrıntılar</span><span class="sxs-lookup"><span data-stu-id="89b37-102">Details</span></span>|<span data-ttu-id="89b37-103"><xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> Değeri, .NET Framework 2. 0'sunulan sağlayacak şekilde hiç kullanıcı Arabirimi anahtara erişmek için gerekli bir üst pencere tanıtıcı değer kaydetmek bir uygulama sağlar (gibi bir PIN isteyebilir veya iletişim onayı) kalıcı alt belirtilen pencere öğesi olarak açar. .NET Framework 4.7 hedefleyen uygulamalar ile başlayarak, bir Windows Forms uygulaması ayarlayıp <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> özelliğini aşağıdaki gibi kod ile:</span><span class="sxs-lookup"><span data-stu-id="89b37-103">The <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> value, introduced in .NET Framework 2.0, allows an application to register a parent window handle value such that any UI required to access the key (such as a PIN prompt or consent dialog) opens as a modal child to the specified window.Starting with apps that target the .NET Framework 4.7, a Windows Forms application can set the <xref:System.Security.Cryptography.CspParameters.ParentWindowHandle> property with code like the following:</span></span><pre><code class="language-C#">cspParameters.ParentWindowHandle = form.Handle;&#13;&#10;</code></pre><span data-ttu-id="89b37-104">.NET Framework önceki sürümlerde değeri olması bekleniyordu bir <xref:System.IntPtr?displayProperty=name> bellekte bir konumu temsil eden nerede [HWND](https://msdn.microsoft.com/library/windows/desktop/aa383751.aspx#HWND) belgeler değeri.</span><span class="sxs-lookup"><span data-stu-id="89b37-104">In previous versions of the .NET Framework, the value was expected to be an <xref:System.IntPtr?displayProperty=name> representing a location in memory where the [HWND](https://msdn.microsoft.com/library/windows/desktop/aa383751.aspx#HWND) value resided.</span></span> <span data-ttu-id="89b37-105">Özellik forma ayarlama. Tanıtıcı Windows 7 ve önceki sürümleri olan herhangi bir etkisi, ancak Windows 8 ve sonraki sürümlerinde, sonuçları bir &quot; <xref:System.Security.Cryptography.CryptographicException?displayProperty=name>: parametre hatalı.&quot;</span><span class="sxs-lookup"><span data-stu-id="89b37-105">Setting the property to form.Handle on Windows 7 and earlier versions had no effect, but on Windows 8 and later versions, it results in a &quot;<xref:System.Security.Cryptography.CryptographicException?displayProperty=name>: The parameter is incorrect.&quot;</span></span>|
|<span data-ttu-id="89b37-106">Öneri</span><span class="sxs-lookup"><span data-stu-id="89b37-106">Suggestion</span></span>|<span data-ttu-id="89b37-107">.NET 4.7 hedefleme veya bir üst pencere ilişki kaydettirmek daha yüksek isteyen uygulamaları Basitleştirilmiş formu kullanmak için önerilir:</span><span class="sxs-lookup"><span data-stu-id="89b37-107">Applications targeting .NET 4.7 or higher wishing to register a parent window relationship are encouraged to use the simplified form:</span></span><pre><code class="language-C#">cspParameters.ParentWindowHandle = form.Handle;&#13;&#10;</code></pre><span data-ttu-id="89b37-108">Geçirmek için doğru değeri değeri tutulan bir bellek konumundan adresi olduğunu tanımlanmış kullanıcılar <code>form.Handle</code> dışında davranış değişikliği AppContext anahtarını ayarlayarak seçebilirsiniz <code>Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle</code> için <code>true</code>.</span><span class="sxs-lookup"><span data-stu-id="89b37-108">Users who had identified that the correct value to pass was the address of a memory location which held the value <code>form.Handle</code> can opt out of the behavior change by setting the AppContext switch <code>Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle</code> to <code>true</code>.</span></span><ol><li><span data-ttu-id="89b37-109">Programlı olarak ayarlayarak compat AppContext üzerinde açıklandığı gibi geçer [burada](http://blogs.msdn.com/b/dotnet/archive/2015/04/29/net-announcements-at-build-2015.aspx#dotnet46)</span><span class="sxs-lookup"><span data-stu-id="89b37-109">By programmatically setting compat switches on the AppContext, as explained [here](http://blogs.msdn.com/b/dotnet/archive/2015/04/29/net-announcements-at-build-2015.aspx#dotnet46)</span></span></li><li><span data-ttu-id="89b37-110">Aşağıdaki satırı ekleyerek <code>&lt;runtime&gt;</code> app.config dosyasının:</span><span class="sxs-lookup"><span data-stu-id="89b37-110">By adding the following line to the <code>&lt;runtime&gt;</code> section of the app.config file:</span></span></li></ol><pre><code class="language-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.DoNotAddrOfCspParentWindowHandle=true&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="89b37-111">Buna karşılık, uygulama yük altında daha eski .NET Framework sürümleri AppContext ayarlayabilir, .NET Framework 4.7 çalışma zamanında yeni davranışı kabul isteyen kullanıcılar için geçiş <code>false</code>.</span><span class="sxs-lookup"><span data-stu-id="89b37-111">Conversely, users who wish to opt in to the new behavior on the .NET Framework 4.7 runtime when the application loads under older .NET Framework versions can set the AppContext switch to <code>false</code>.</span></span>|
|<span data-ttu-id="89b37-112">Kapsam</span><span class="sxs-lookup"><span data-stu-id="89b37-112">Scope</span></span>|<span data-ttu-id="89b37-113">Küçük</span><span class="sxs-lookup"><span data-stu-id="89b37-113">Minor</span></span>|
|<span data-ttu-id="89b37-114">Sürüm</span><span class="sxs-lookup"><span data-stu-id="89b37-114">Version</span></span>|<span data-ttu-id="89b37-115">4.7</span><span class="sxs-lookup"><span data-stu-id="89b37-115">4.7</span></span>|
|<span data-ttu-id="89b37-116">Tür</span><span class="sxs-lookup"><span data-stu-id="89b37-116">Type</span></span>|<span data-ttu-id="89b37-117">Yeniden hedefleme</span><span class="sxs-lookup"><span data-stu-id="89b37-117">Retargeting</span></span>|
|<span data-ttu-id="89b37-118">Etkilenen API'leri</span><span class="sxs-lookup"><span data-stu-id="89b37-118">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.CspParameters.ParentWindowHandle?displayProperty=nameWithType></li></ul>|

