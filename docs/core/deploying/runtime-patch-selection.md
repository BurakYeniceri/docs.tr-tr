---
title: Kendi içinde bulunan dağıtım çalışma zamanı İleri alma
description: DotNet hakkında bilgi edinin değişiklikleri müstakil dağıtımlar için yayımlayın.
author: jralexander
ms.author: kdollard
ms.date: 05/31/2018
ms.openlocfilehash: 40d28e81e2ac1b27e7fd89e16d2d906a080fd18b
ms.sourcegitcommit: bbf70abe6b46073148f78cbf0619de6092b5800c
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 06/04/2018
ms.locfileid: "34697252"
---
# <a name="self-contained-deployment-runtime-roll-forward"></a><span data-ttu-id="4a349-103">Kendi içinde bulunan dağıtım çalışma zamanı İleri alma</span><span class="sxs-lookup"><span data-stu-id="4a349-103">Self-contained deployment runtime roll forward</span></span>

<span data-ttu-id="4a349-104">.NET core [kendi içinde bulunan uygulama dağıtımları](index.md) .NET Core kitaplıkları ve .NET çekirdeği çalışma zamanı içerir.</span><span class="sxs-lookup"><span data-stu-id="4a349-104">.NET Core [self-contained application deployments](index.md) include both the .NET Core libraries and the .NET Core runtime.</span></span> <span data-ttu-id="4a349-105">.NET Core SDK 2.1.300 (.NET Core 2.1), kendi içinde bulunan uygulama dağıtımı içinde başlangıç [şimdi en yüksek düzeltme eki çalışma zamanı makinenizde yayımlar](https://github.com/dotnet/designs/pull/36).</span><span class="sxs-lookup"><span data-stu-id="4a349-105">Starting in .NET Core SDK 2.1.300 (.NET Core 2.1), a self-contained application deployment [now publishes the highest patch runtime on your machine](https://github.com/dotnet/designs/pull/36).</span></span> <span data-ttu-id="4a349-106">Varsayılan olarak,[ `dotnet publish` ](../tools/dotnet-publish.md) için kendi içinde bulunan bir dağıtım yayımlama makinede SDK'ın bir parçası olarak yüklenen en son sürümü seçer.</span><span class="sxs-lookup"><span data-stu-id="4a349-106">By default,[`dotnet publish`](../tools/dotnet-publish.md) for a self-contained deployment selects the latest version installed as part of the SDK on the publishing machine.</span></span> <span data-ttu-id="4a349-107">Bu güvenlik (ve diğer düzeltmeleri ile) çalıştırmak, dağıtılan bir uygulama sağlar sırasında kullanılabilir `publish`.</span><span class="sxs-lookup"><span data-stu-id="4a349-107">This enables your deployed application to run with security fixes (and other fixes) available during `publish`.</span></span> <span data-ttu-id="4a349-108">Uygulamanın yeni bir düzeltme eki elde etmek için yeniden yayımlanan olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="4a349-108">The application must be re-published to obtain a new patch.</span></span> <span data-ttu-id="4a349-109">Kendi içinde bulunan uygulamaları belirterek oluşturulduğunda `-r <RID>` üzerinde `dotnet publish` komutunu veya belirterek [çalışma zamanı tanımlayıcı (RID)](../rid-catalog.md) proje dosyasında (csproj / vbproj) veya komut satırında.</span><span class="sxs-lookup"><span data-stu-id="4a349-109">Self-contained applications are created by specifying `-r <RID>` on `dotnet publish` command or by specifying the [runtime identifier (RID)](../rid-catalog.md) in the project file (csproj / vbproj) or on the command line.</span></span>

## <a name="patch-version-roll-forward-overview"></a><span data-ttu-id="4a349-110">Düzeltme eki sürümü toplama iletme genel bakış</span><span class="sxs-lookup"><span data-stu-id="4a349-110">Patch version roll forward overview</span></span>

<span data-ttu-id="4a349-111">[`restore`](../tools/dotnet-restore.md), [ `build` ](../tools/dotnet-build.md) ve [ `publish` ](../tools/dotnet-publish.md) olan `dotnet` ayrı olarak çalıştırabilirsiniz komutları.</span><span class="sxs-lookup"><span data-stu-id="4a349-111">[`restore`](../tools/dotnet-restore.md), [`build`](../tools/dotnet-build.md) and [`publish`](../tools/dotnet-publish.md) are `dotnet` commands that can run separately.</span></span> <span data-ttu-id="4a349-112">Çalışma zamanı seçimi parçası olan `restore` işlemi, değil `publish` veya `build`.</span><span class="sxs-lookup"><span data-stu-id="4a349-112">The runtime choice is part of the `restore` operation, not `publish` or `build`.</span></span> <span data-ttu-id="4a349-113">Çağırırsanız `publish`, en son düzeltme eki sürümü seçilir.</span><span class="sxs-lookup"><span data-stu-id="4a349-113">If you call `publish`, the latest patch version will be chosen.</span></span> <span data-ttu-id="4a349-114">Çağırırsanız `publish` ile `--no-restore` bağımsız değişkeni, ardından değil alabilirsiniz istenen düzeltme eki sürümü çünkü bir önceki `restore` İlkesi yayımlama yeni kendi içinde bulunan uygulama yürütülmemiş olabilir değil.</span><span class="sxs-lookup"><span data-stu-id="4a349-114">If you call `publish` with the `--no-restore` argument, then you may not get the desired patch version because a prior `restore` may not have been executed with the new self-contained application publishing policy.</span></span> <span data-ttu-id="4a349-115">Bu durumda, bir derleme hatası aşağıdakine benzer bir metin ile oluşturulur:</span><span class="sxs-lookup"><span data-stu-id="4a349-115">In this case, a build error is generated with text similar to the following:</span></span>

  <span data-ttu-id="4a349-116">"Projeyi Microsoft.NETCore.App sürüm 2.0.0 kullanılarak geri yüklendi ancak geçerli ayarlarla sürüm 2.0.6 yerine kullanılır.</span><span class="sxs-lookup"><span data-stu-id="4a349-116">"The project was restored using Microsoft.NETCore.App version 2.0.0, but with current settings, version 2.0.6 would be used instead.</span></span> <span data-ttu-id="4a349-117">Bu sorunu çözmek için aynı ayarları gibi yapı sonraki işlemleri ve geri yükleme için kullanılan veya yayımlama emin olun.</span><span class="sxs-lookup"><span data-stu-id="4a349-117">To resolve this issue, make sure the same settings are used for restore and for subsequent operations such as build or publish.</span></span> <span data-ttu-id="4a349-118">Genellikle bu sorun özelliği sırasında ayarlanır RuntimeIdentifier yapı veya yayımlama ancak geri yükleme sırasında değil oluşabilir."</span><span class="sxs-lookup"><span data-stu-id="4a349-118">Typically this issue can occur if the RuntimeIdentifier property is set during build or publish but not during restore."</span></span>

> [!NOTE]
> <span data-ttu-id="4a349-119">`restore` ve `build` örtük olarak başka bir komutun bir parçası olarak gibi çalıştırılabilir `publish`.</span><span class="sxs-lookup"><span data-stu-id="4a349-119">`restore` and `build` can be run implicitly as part of another command, like `publish`.</span></span> <span data-ttu-id="4a349-120">Böylece doğru yapıları üretilen örtük olarak başka bir komutun parçası olarak çalıştırdığınızda, bunlar ek içerikle sağlanır.</span><span class="sxs-lookup"><span data-stu-id="4a349-120">When run implicitly as part of another command, they are provided with additional context so that the right artifacts are produced.</span></span> <span data-ttu-id="4a349-121">Olduğunda, `publish` bir çalışma zamanı (örneğin, `dotnet publish -r linux-x64`), örtük `restore` linux x64 çalışma zamanı için paketler geri yükler.</span><span class="sxs-lookup"><span data-stu-id="4a349-121">When you `publish` with a runtime (for example, `dotnet publish -r linux-x64`), the implicit `restore` restores packages for the linux-x64 runtime.</span></span> <span data-ttu-id="4a349-122">Çağırırsanız `restore` bu bağlamı olmadığından açıkça, çalışma zamanı paketleri varsayılan olarak, geri yüklemez.</span><span class="sxs-lookup"><span data-stu-id="4a349-122">If you call `restore` explicitly, it does not restore runtime packages by default, because it doesn't have that context.</span></span>

## <a name="how-to-avoid-restore-during-publish"></a><span data-ttu-id="4a349-123">Yayımlama sırasında geri yükleme önleme</span><span class="sxs-lookup"><span data-stu-id="4a349-123">How to avoid restore during publish</span></span>

<span data-ttu-id="4a349-124">Çalışan `restore` parçası olarak `publish` işlemi senaryonuz için istenmeyen olabilir.</span><span class="sxs-lookup"><span data-stu-id="4a349-124">Running `restore` as part of the `publish` operation may be undesirable for your scenario.</span></span> <span data-ttu-id="4a349-125">Önlemek için `restore` sırasında `publish` müstakil uygulamaları oluştururken, aşağıdakileri yapın:</span><span class="sxs-lookup"><span data-stu-id="4a349-125">To avoid `restore` during `publish` while creating self-contained applications, do the following:</span></span>

* <span data-ttu-id="4a349-126">Ayarlama `RuntimeIdentifiers` , tüm noktalı virgülle ayrılmış listesini özelliğine [RID](../rid-catalog.md) yayımlanmasını</span><span class="sxs-lookup"><span data-stu-id="4a349-126">Set the `RuntimeIdentifiers` property to a semicolon-separated list of all the [RIDs](../rid-catalog.md) to be published</span></span>
* <span data-ttu-id="4a349-127">Ayarlama `TargetLatestRuntimePatch` özelliği `true`</span><span class="sxs-lookup"><span data-stu-id="4a349-127">Set the `TargetLatestRuntimePatch` property to `true`</span></span>

## <a name="no-restore-argument-with-dotnet-publish-options"></a><span data-ttu-id="4a349-128">Hayır geri yükleme bağımsız değişken dotnet ile yayınlama seçeneklerini</span><span class="sxs-lookup"><span data-stu-id="4a349-128">No-restore argument with dotnet publish options</span></span>

<span data-ttu-id="4a349-129">Her iki kendi içinde bulunan uygulamalar oluşturmak istiyorsanız ve [framework bağımlı uygulamaları](index.md) aynı proje dosyası ile ve kullanmak istediğiniz `--no-restore` bağımsız değişkeniyle `dotnet publish`, aşağıdakilerden birini seçin:</span><span class="sxs-lookup"><span data-stu-id="4a349-129">If you want to create both self-contained applications and [framework-dependent applications](index.md) with the same project file, and you want to use the `--no-restore` argument with `dotnet publish`, then choose one of the following:</span></span>

1. <span data-ttu-id="4a349-130">Framework bağımlı davranış tercih eder.</span><span class="sxs-lookup"><span data-stu-id="4a349-130">Prefer the framework-dependent behavior.</span></span> <span data-ttu-id="4a349-131">Uygulama framework bağımlı ise varsayılan davranış budur.</span><span class="sxs-lookup"><span data-stu-id="4a349-131">If the application is framework-dependent, this is the default behavior.</span></span> <span data-ttu-id="4a349-132">Uygulama kendi içinde yer alan ve düzeltme eki yüklenmemiş 2.1.0 kullanabilirsiniz yerel çalışma zamanı ayarlamak `TargetLatestRuntimePatch` için `false` proje dosyasında (csproj / vbproj).</span><span class="sxs-lookup"><span data-stu-id="4a349-132">If the application is self-contained, and can use an unpatched 2.1.0 local runtime, set the `TargetLatestRuntimePatch` to `false` in the project file (csproj / vbproj).</span></span>

2. <span data-ttu-id="4a349-133">Kendi içinde bulunan davranışı tercih eder.</span><span class="sxs-lookup"><span data-stu-id="4a349-133">Prefer the self-contained behavior.</span></span> <span data-ttu-id="4a349-134">Bu, uygulamanın kendi içinde bulunan ise, varsayılan davranıştır.</span><span class="sxs-lookup"><span data-stu-id="4a349-134">If the application is self-contained, this is the default behavior.</span></span> <span data-ttu-id="4a349-135">Uygulama framework bağlıdır ve en son düzeltme eki yüklenmemiş gerektiriyorsa, ayarlamak `TargetLatestRuntimePatch` için `true` proje dosyasında (csproj / vbproj).</span><span class="sxs-lookup"><span data-stu-id="4a349-135">If the application is framework-dependent, and requires the latest patch installed, set `TargetLatestRuntimePatch` to `true` in the project file (csproj / vbproj).</span></span>

3. <span data-ttu-id="4a349-136">Açık çalışma zamanı framework sürümü ayarlayarak denetimini `RuntimeFrameworkVersion` proje dosyasında belirli düzeltme eki sürümüne (csproj / vbproj).</span><span class="sxs-lookup"><span data-stu-id="4a349-136">Take explicit control of the runtime framework version by setting `RuntimeFrameworkVersion` to the specific patch version in the project file (csproj / vbproj).</span></span>