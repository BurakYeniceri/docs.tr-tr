---
title: Onaylama
ms.date: 03/30/2017
ms.assetid: 8637aeaf-ac9e-49b8-93f4-da15dee45277
ms.openlocfilehash: caa712aa52da01ce44335a361fd6c9f5215316bf
ms.sourcegitcommit: 6eac9a01ff5d70c6d18460324c016a3612c5e268
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 09/15/2018
ms.locfileid: "45649254"
---
# <a name="confirmation"></a><span data-ttu-id="deab1-102">Onaylama</span><span class="sxs-lookup"><span data-stu-id="deab1-102">Confirmation</span></span>
<span data-ttu-id="deab1-103">Bu örnek kullanımını çevreleyen dört ilgili yaygın senaryolar gösterilmektedir <xref:System.Activities.Statements.CompensableActivity> ve onay.</span><span class="sxs-lookup"><span data-stu-id="deab1-103">This sample shows four common scenarios surrounding the use of <xref:System.Activities.Statements.CompensableActivity> and confirmation.</span></span> <span data-ttu-id="deab1-104">Örnek onayı gösteren dört iş akışlarını çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="deab1-104">The sample runs four workflows to show confirmation.</span></span> <span data-ttu-id="deab1-105">Bu örnek, bildirim temelli ve buyurgan sürümlerinde kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="deab1-105">This sample is available in declarative and imperative versions.</span></span>  
  
## <a name="confirm-a-compensable-activity"></a><span data-ttu-id="deab1-106">Compensable etkinliğinde onaylayın</span><span class="sxs-lookup"><span data-stu-id="deab1-106">Confirm a Compensable Activity</span></span>  
 <span data-ttu-id="deab1-107">İlk iş akışınızı compensable etkinliğinde onaylayın yapmayı gösteren ve iki dizi oluşur <xref:System.Activities.Statements.CompensableActivity> örnekleri.</span><span class="sxs-lookup"><span data-stu-id="deab1-107">The first workflow demonstrates how to confirm a compensable activity and consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity> instances.</span></span> <span data-ttu-id="deab1-108">İkinci tamamlanmasından sonra <xref:System.Activities.Statements.CompensableActivity> Onayla etkinliği ilk etkinliğini onaylıyor.</span><span class="sxs-lookup"><span data-stu-id="deab1-108">After the completion of the second <xref:System.Activities.Statements.CompensableActivity> a confirm activity confirms the first activity.</span></span> <span data-ttu-id="deab1-109">İş akışı başarıyla tamamlandığında, tüm <xref:System.Activities.Statements.CompensableActivity> örnekleriyle dengelenebilecek veya onaylanan değil, varsayılan düzenini kullanarak otomatik olarak onaylanır.</span><span class="sxs-lookup"><span data-stu-id="deab1-109">When the workflow successfully completes, all <xref:System.Activities.Statements.CompensableActivity> instances that have not been confirmed or compensated are automatically confirmed using the default order.</span></span> <span data-ttu-id="deab1-110">Onayla olmadan ikinci <xref:System.Activities.Statements.CompensableActivity> önce doğrulanmış.</span><span class="sxs-lookup"><span data-stu-id="deab1-110">Without the confirm, the second <xref:System.Activities.Statements.CompensableActivity> would have been confirmed first.</span></span>  
  
## <a name="explicit-compensation"></a><span data-ttu-id="deab1-111">Açık maaş</span><span class="sxs-lookup"><span data-stu-id="deab1-111">Explicit Compensation</span></span>  
 <span data-ttu-id="deab1-112">İkinci senaryoda varsayılan onayını etkileyen gösterir, bir <xref:System.Activities.Statements.CompensableActivity> açıkça dengelendi.</span><span class="sxs-lookup"><span data-stu-id="deab1-112">The second scenario shows the affect on default confirmation when a <xref:System.Activities.Statements.CompensableActivity> is explicitly compensated.</span></span> <span data-ttu-id="deab1-113">İş akışı dizisi iki oluşur <xref:System.Activities.Statements.CompensableActivity> ikinci ilk tamamlandıktan sonra etkinlikler açıkça dengelendi.</span><span class="sxs-lookup"><span data-stu-id="deab1-113">The workflow consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity> activities, after the second completes the first is explicitly compensated.</span></span> <span data-ttu-id="deab1-114">Sonuç olarak iş akışı tamamlandığında yalnızca ikinci <xref:System.Activities.Statements.CompensableActivity> onaylanır.</span><span class="sxs-lookup"><span data-stu-id="deab1-114">As a result when the workflow, completes only the second <xref:System.Activities.Statements.CompensableActivity> is confirmed.</span></span>  
  
## <a name="controlling-the-order-of-confirmation-for-nested-compensableactivity-activities"></a><span data-ttu-id="deab1-115">İç içe geçmiş CompensableActivity etkinlikler için onay sırasını denetleme</span><span class="sxs-lookup"><span data-stu-id="deab1-115">Controlling the Order of Confirmation for Nested CompensableActivity Activities</span></span>  
 <span data-ttu-id="deab1-116">Üçüncü senaryo iç içe geçmiş onay sırasını denetlemek nasıl gösterir <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="deab1-116">The third scenario shows how to control the order of confirmation for nested <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="deab1-117">Senaryo oluşan bir <xref:System.Activities.Statements.CompensableActivity> kökü olarak iş akışı.</span><span class="sxs-lookup"><span data-stu-id="deab1-117">The scenario consists of a <xref:System.Activities.Statements.CompensableActivity> as the root of the workflow.</span></span> <span data-ttu-id="deab1-118">Kök gövdesi <xref:System.Activities.Statements.CompensableActivity> üç oluşan bir dizidir <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="deab1-118">The body of the root <xref:System.Activities.Statements.CompensableActivity> is a sequence of three <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="deab1-119"><xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> Kök <xref:System.Activities.Statements.CompensableActivity> ilk ikinci iç içe geçmiş sonra onaylamak için belirten bir sıra <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="deab1-119">The <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> for the root <xref:System.Activities.Statements.CompensableActivity> is a sequence that specifies to confirm the first then the second nested <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="deab1-120">İş akışı tamamlandığında, kök onaylar <xref:System.Activities.Statements.CompensableActivity>, daha sonra ikinci ve üçüncü iç içe geçmiş ilk onaylar <xref:System.Activities.Statements.CompensableActivity>bu sırası.</span><span class="sxs-lookup"><span data-stu-id="deab1-120">When the workflow completes it confirms the root <xref:System.Activities.Statements.CompensableActivity>, which then confirms the first, second and third nested <xref:System.Activities.Statements.CompensableActivity>, in that order.</span></span> <span data-ttu-id="deab1-121">Sonuç olarak, varsayılan onay sıra temelde ters çevrilir.</span><span class="sxs-lookup"><span data-stu-id="deab1-121">As a result, the default confirmation order is essentially reversed.</span></span> <span data-ttu-id="deab1-122">Çünkü üçüncü <xref:System.Activities.Statements.CompensableActivity> açıkça kök bir parçası olarak onaylanmadı <xref:System.Activities.Statements.CompensableActivity> tarafından <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A>, varsayılan sırasına göre onaylanır.</span><span class="sxs-lookup"><span data-stu-id="deab1-122">Because the third <xref:System.Activities.Statements.CompensableActivity> was not explicitly confirmed as part of the root <xref:System.Activities.Statements.CompensableActivity> by the <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A>, it is confirmed according to the default order.</span></span> <span data-ttu-id="deab1-123">Ancak, yalnızca olduğu için onaylanmamış <xref:System.Activities.Statements.CompensableActivity> bu yalnızca, Onaylandı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="deab1-123">However, because it is the only unconfirmed <xref:System.Activities.Statements.CompensableActivity> this just means it is confirmed.</span></span>  
  
## <a name="scoping-of-variables"></a><span data-ttu-id="deab1-124">Değişkenlerinin kapsamı</span><span class="sxs-lookup"><span data-stu-id="deab1-124">Scoping of Variables</span></span>  
 <span data-ttu-id="deab1-125">Dördüncü senaryo değişkenlerin ömrünü nasıl tanımlanan gösterir bir <xref:System.Activities.Statements.CompensableActivity> veya ebeveynleri biridir hala kapsam <xref:System.Activities.Statements.CompensableActivity.CompensationHandler%2A>, <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> veya <xref:System.Activities.Statements.CompensableActivity.CancellationHandler%2A> işleyicileri yürütüldüğünde etkinliğin tamamlandı veya iş akışı sahip olsa bile tamamlandı.</span><span class="sxs-lookup"><span data-stu-id="deab1-125">The fourth scenario shows how the lifetime of variables defined for a <xref:System.Activities.Statements.CompensableActivity> or one of their parents are still in scope when the <xref:System.Activities.Statements.CompensableActivity.CompensationHandler%2A>, <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> or <xref:System.Activities.Statements.CompensableActivity.CancellationHandler%2A> handlers are executed even if the activity has completed or the workflow has completed.</span></span> <span data-ttu-id="deab1-126">İş akışı dizisi iki oluşur <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="deab1-126">The workflow consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="deab1-127">Birincisi, değişken gövdesinde `mySum` 5 ve 10 yazdırılan sonucu toplama ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="deab1-127">In the body of the first, the variable `mySum` is set to the sum of 5 and 10 and the result printed.</span></span> <span data-ttu-id="deab1-128">İkinci gövdesinde <xref:System.Activities.Statements.CompensableActivity>, sum mevcut sum ve 7 toplamı için ayarlanır ve sonucu yazdırılır.</span><span class="sxs-lookup"><span data-stu-id="deab1-128">In the body of the second <xref:System.Activities.Statements.CompensableActivity>, the sum is set to the sum of the existing sum and 7 and the result printed.</span></span> <span data-ttu-id="deab1-129">İlk özel işleyicisini tanımlanan <xref:System.Activities.Statements.CompensableActivity>, hangi toplamı yazdırır, 7 çıkarır ve toplamı yeniden yazdırır.</span><span class="sxs-lookup"><span data-stu-id="deab1-129">A custom confirmation handler is defined for the first <xref:System.Activities.Statements.CompensableActivity>, which prints the sum, subtracts 7 and prints the sum again.</span></span> <span data-ttu-id="deab1-130">Değişken yalnızca ikisinin gövdeleri için kapsamda olan yazdırılan SUM'ları inceleyerek boş olduğundan <xref:System.Activities.Statements.CompensableActivity> ancak <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> de.</span><span class="sxs-lookup"><span data-stu-id="deab1-130">It is clear by inspecting the printed sums that the variable is in scope not only for the bodies of both <xref:System.Activities.Statements.CompensableActivity> but the <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> as well.</span></span>  
  
#### <a name="to-run-the-sample"></a><span data-ttu-id="deab1-131">Örnek çalıştırmak için</span><span class="sxs-lookup"><span data-stu-id="deab1-131">To run the sample</span></span>  
  
1.  <span data-ttu-id="deab1-132">Çözümde yük [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span><span class="sxs-lookup"><span data-stu-id="deab1-132">Load the solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span></span>  
  
2.  <span data-ttu-id="deab1-133">ConfirmationSample.exe uygulamayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="deab1-133">Run the ConfirmationSample.exe application.</span></span>  
  
3.  <span data-ttu-id="deab1-134">Aşağıdaki çıktıyı inceleyin:</span><span class="sxs-lookup"><span data-stu-id="deab1-134">Observe the following output:</span></span>  
  
 <span data-ttu-id="deab1-135">**Açık onayı: Başlangıç workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: workflowCompensableActivity2, onay HandlerEnd: onay HandlerExplicit maaş: başlangıcı workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: workflowCompensableActivity2, maaş HandlerEnd: onay HandlerCustom onay işleyicisi: başlangıcı workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity3: workflowCompensableActivity1, BodyEnd: onay HandlerCompensableActivity2: onay HandlerCompensableActivity3: bir onay işleyicisinde onay HandlerVariable erişim: WorkflowCompensableActivity1 başlangıcı: BodyCompensableActivity1: Toplam: 15CompensableActivity2: BodyCompensableActivity2: sumCompensableActivity2 ekleme 7: artık toplamıdır: workflowCompensableActivity2, 22End: onay HandlerCompensableActivity1: Onay HandlerCompensableActivity2: Toplam: 22CompensableActivity2: 12 çıkardıktan sonra artık toplamıdır: çıkmak için ENTER 10Press.**</span><span class="sxs-lookup"><span data-stu-id="deab1-135">**Explicit confirmation:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: Confirmation HandlerEnd of workflowCompensableActivity2: Confirmation HandlerExplicit compensation:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: Compensation HandlerEnd of workflowCompensableActivity2: Confirmation HandlerCustom confirmation handler:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity3: BodyEnd of workflowCompensableActivity1: Confirmation HandlerCompensableActivity2: Confirmation HandlerCompensableActivity3: Confirmation HandlerVariable access in a confirmation handler:Start of workflowCompensableActivity1: BodyCompensableActivity1: The sum is: 15CompensableActivity2: BodyCompensableActivity2: Adding 7 to the sumCompensableActivity2: The sum is now: 22End of workflowCompensableActivity2: Confirmation HandlerCompensableActivity1: Confirmation HandlerCompensableActivity2: The sum is: 22CompensableActivity2: After subtracting 12 the sum is now: 10Press ENTER to exit.**</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="deab1-136">Örnekler, makinenizde zaten yüklü.</span><span class="sxs-lookup"><span data-stu-id="deab1-136">The samples may already be installed on your machine.</span></span> <span data-ttu-id="deab1-137">Devam etmeden önce şu (varsayılan) dizin denetleyin.</span><span class="sxs-lookup"><span data-stu-id="deab1-137">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="deab1-138">Bu dizin mevcut değilse Git [Windows Communication Foundation (WCF) ve .NET Framework 4 için Windows Workflow Foundation (WF) örnekleri](https://go.microsoft.com/fwlink/?LinkId=150780) tüm Windows Communication Foundation (WCF) indirmek için ve [!INCLUDE[wf1](../../../../includes/wf1-md.md)] örnekleri.</span><span class="sxs-lookup"><span data-stu-id="deab1-138">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="deab1-139">Bu örnek, şu dizinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="deab1-139">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Compensation\Confirmation`