---
title: "Veri Sözleşmesi Yedekleri"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: data contracts [WCF], surrogates
ms.assetid: 8c31134c-46c5-4ed7-94af-bab0ac0dfce5
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: b8d353b50cf9439a9741199a52ca650e02e4d49f
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/02/2017
---
# <a name="data-contract-surrogates"></a><span data-ttu-id="72343-102">Veri Sözleşmesi Yedekleri</span><span class="sxs-lookup"><span data-stu-id="72343-102">Data Contract Surrogates</span></span>
<span data-ttu-id="72343-103">Veri sözleşmesi *yedek* veri sözleşmesi modeli yerleşik Gelişmiş bir özelliktir.</span><span class="sxs-lookup"><span data-stu-id="72343-103">The data contract *surrogate* is an advanced feature built upon the Data Contract model.</span></span> <span data-ttu-id="72343-104">Bu özellik türü özelleştirme ve kullanıcılar nasıl bir türü seri durumdan çıkarılmış veya meta veri içine tahmini serileştirilir değiştirmek istediğiniz durumlarda değiştirme için kullanılmak üzere tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="72343-104">This feature is designed to be used for type customization and substitution in situations where users want to change how a type is serialized, deserialized or projected into metadata.</span></span> <span data-ttu-id="72343-105">Burada bir yedek kullanılabilir bazı senaryolar türü, alanları ve özellikleri ile işaretlenmemiş için bir veri sözleşmesi belirtilmemiş olduğunda <xref:System.Runtime.Serialization.DataMemberAttribute> özniteliği ya da kullanıcılar şema Çeşitlemeler dinamik olarak oluşturmak istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="72343-105">Some scenarios where a surrogate may be used is when a data contract has not been specified for the type, fields and properties are not marked with the <xref:System.Runtime.Serialization.DataMemberAttribute> attribute or users wish to dynamically create schema variations.</span></span>  
  
 <span data-ttu-id="72343-106">Seri hale getirme ve seri durumdan çıkarma başarılır ile veri sözleşmesi yedek kullanırken <xref:System.Runtime.Serialization.DataContractSerializer> .NET Framework'XML gibi uygun bir biçime dönüştürmek için.</span><span class="sxs-lookup"><span data-stu-id="72343-106">Serialization and deserialization are accomplished with the data contract surrogate when using <xref:System.Runtime.Serialization.DataContractSerializer> to convert from .NET Framework to a suitable format, such as XML.</span></span> <span data-ttu-id="72343-107">Veri sözleşmesi yedek meta veri Beyanları XML Şeması belgeleri (XSD) gibi üretirken türleri için dışa aktarılan meta verilerini değiştirmek için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-107">Data contract surrogate can also be used to modify the metadata exported for types, when producing metadata representations such as XML Schema Documents (XSD).</span></span> <span data-ttu-id="72343-108">İçe aktarma, üzerine kod meta verilerinden oluşturulur ve yedek bu durumda da oluşturulan kod özelleştirmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-108">Upon import, code is created from metadata and the surrogate can be used in this case to customize the generated code as well.</span></span>  
  
## <a name="how-the-surrogate-works"></a><span data-ttu-id="72343-109">Yedek nasıl çalışır?</span><span class="sxs-lookup"><span data-stu-id="72343-109">How the Surrogate Works</span></span>  
 <span data-ttu-id="72343-110">Bir yedek başka bir tür ("surrogated" türü) için eşleme bir türü ("özgün" türü) çalışır.</span><span class="sxs-lookup"><span data-stu-id="72343-110">A surrogate works by mapping one type (the "original" type) to another type (the "surrogated" type).</span></span> <span data-ttu-id="72343-111">Aşağıdaki örnek, özgün türünü gösterir `Inventory` ve yeni bir yedek `InventorySurrogated` türü.</span><span class="sxs-lookup"><span data-stu-id="72343-111">The following example shows the original type `Inventory` and a new surrogate `InventorySurrogated` type.</span></span> <span data-ttu-id="72343-112">`Inventory` Türü seri hale getirilebilir değil ancak `InventorySurrogated` türü:</span><span class="sxs-lookup"><span data-stu-id="72343-112">The `Inventory` type is not serializable but the `InventorySurrogated` type is:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#1)]  
  
 <span data-ttu-id="72343-113">Veri sözleşmesi Bu sınıf için tanımlı değil çünkü bir veri sözleşmesi yedek sınıfıyla sınıfı dönüştürülemiyor.</span><span class="sxs-lookup"><span data-stu-id="72343-113">Because a data contract has not been defined for this class, convert the class to a surrogate class with a data contract.</span></span> <span data-ttu-id="72343-114">Surrogated sınıfı, aşağıdaki örnekte gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="72343-114">The surrogated class is shown in the following example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#2)]  
  
## <a name="implementing-the-idatacontractsurrogate"></a><span data-ttu-id="72343-115">IDataContractSurrogate uygulama</span><span class="sxs-lookup"><span data-stu-id="72343-115">Implementing the IDataContractSurrogate</span></span>  
 <span data-ttu-id="72343-116">Veri sözleşmesi yedek kullanmak için uygulama <xref:System.Runtime.Serialization.IDataContractSurrogate> arabirimi.</span><span class="sxs-lookup"><span data-stu-id="72343-116">To use the data contract surrogate, implement the <xref:System.Runtime.Serialization.IDataContractSurrogate> interface.</span></span>  
  
 <span data-ttu-id="72343-117">Her yöntem genel bir bakış verilmiştir <xref:System.Runtime.Serialization.IDataContractSurrogate> olası bir uygulama.</span><span class="sxs-lookup"><span data-stu-id="72343-117">The following is an overview of each method of <xref:System.Runtime.Serialization.IDataContractSurrogate> with a possible implementation.</span></span>  
  
### <a name="getdatacontracttype"></a><span data-ttu-id="72343-118">GetDataContractType</span><span class="sxs-lookup"><span data-stu-id="72343-118">GetDataContractType</span></span>  
 <span data-ttu-id="72343-119"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> Yöntemi başka bir tür eşler.</span><span class="sxs-lookup"><span data-stu-id="72343-119">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> method maps one type to another.</span></span> <span data-ttu-id="72343-120">Bu yöntem serileştirme, seri durumdan çıkarma, içeri ve dışarı aktarma için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="72343-120">This method is required for serialization, deserialization, import, and export.</span></span>  
  
 <span data-ttu-id="72343-121">İlk görev türleri ne olacağını tanımlayan diğer türlerine eşlenir.</span><span class="sxs-lookup"><span data-stu-id="72343-121">The first task is defining what types will be mapped to other types.</span></span> <span data-ttu-id="72343-122">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="72343-122">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#3)]  
  
-   <span data-ttu-id="72343-123">Serileştirme üzerinde bu yöntem tarafından döndürülen eşleme sonradan surrogated örneği özgün örneğe çağırarak dönüştürmek için kullanılır <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="72343-123">On serialization, the mapping returned by this method is subsequently used to transform the original instance to a surrogated instance by calling the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> method.</span></span>  
  
-   <span data-ttu-id="72343-124">Seri kaldırma işleminde, bu yöntem tarafından döndürülen eşleme yedek türünün bir örneği seri durumdan çıkarılacak seri hale getirici tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72343-124">On deserialization, the mapping returned by this method is used by the serializer to deserialize into an instance of the surrogate type.</span></span> <span data-ttu-id="72343-125">Daha sonra çağırır <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDeserializedObject%2A> surrogated örneği özgün türünün bir örneğine dönüştürülecek.</span><span class="sxs-lookup"><span data-stu-id="72343-125">It subsequently calls <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDeserializedObject%2A> to transform the surrogated instance into an instance of the original type.</span></span>  
  
-   <span data-ttu-id="72343-126">Dışarı aktarma üzerinde meta verileri oluşturmak için kullanılacak veri sözleşmesi almak için bu yöntem tarafından döndürülen yedek türü yansıtılır.</span><span class="sxs-lookup"><span data-stu-id="72343-126">On export, the surrogate type returned by this method is reflected to get the data contract to use for generating metadata.</span></span>  
  
-   <span data-ttu-id="72343-127">İçeri aktarma işlemi sırasında ilk türü desteğine başvurma gibi amaçlarla kullanmak için veri sözleşmesi almak için yansıtılan bir temsilci türü değiştirildi.</span><span class="sxs-lookup"><span data-stu-id="72343-127">On import, the initial type is changed to a surrogate type that is reflected to get the data contract to use for purposes like referencing support.</span></span>  
  
 <span data-ttu-id="72343-128"><xref:System.Type> Parametredir, seri durumdan çıkarılmış, içe aktarılan ya da dışarı aktarılan serileştirilmekte olan nesnenin türü.</span><span class="sxs-lookup"><span data-stu-id="72343-128">The <xref:System.Type> parameter is the type of the object that is being serialized, deserialized, imported, or exported.</span></span> <span data-ttu-id="72343-129"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> Yedek türü işlemedi varsa, yöntem giriş türü döndürmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="72343-129">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> method must return the input type if the surrogate does not handle the type.</span></span> <span data-ttu-id="72343-130">Aksi takdirde, uygun surrogated türünü döndürür.</span><span class="sxs-lookup"><span data-stu-id="72343-130">Otherwise, return the appropriate surrogated type.</span></span> <span data-ttu-id="72343-131">Birçok yedek yoksa, bu yöntemi, çok sayıda eşlemeleri tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-131">If several surrogate types exist, numerous mappings can be defined in this method.</span></span>  
  
 <span data-ttu-id="72343-132"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> Yöntemi çağrılmaz için yerleşik veri sözleşmesi temelleri gibi <xref:System.Int32> veya <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="72343-132">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> method is not called for built-in data contract primitives, such as <xref:System.Int32> or <xref:System.String>.</span></span> <span data-ttu-id="72343-133">Diziler, kullanıcı tanımlı türler ve diğer veri yapılarını gibi diğer türleri için her tür için bu yöntem çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-133">For other types, such as arrays, user-defined types, and other data structures, this method will be called for each type.</span></span>  
  
 <span data-ttu-id="72343-134">Önceki örnekte, yöntem denetler `type` parametre ve `Inventory` benzer.</span><span class="sxs-lookup"><span data-stu-id="72343-134">In the previous example, the method checks if the `type` parameter and `Inventory` are comparable.</span></span> <span data-ttu-id="72343-135">Bu nedenle, yöntem kendisine eşleniyorsa `InventorySurrogated`.</span><span class="sxs-lookup"><span data-stu-id="72343-135">If so, the method maps it to `InventorySurrogated`.</span></span> <span data-ttu-id="72343-136">Bir seri hale getirme olduğunda, seri durumdan çıkarma, içeri aktarma şema veya dışarı aktarma şema olarak adlandırılır, bu işlev varsayılan türleri arasında eşleme belirlemek için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-136">Whenever a serialization, deserialization, import schema, or export schema is called, this function is called first to determine the mapping between types.</span></span>  
  
### <a name="getobjecttoserialize-method"></a><span data-ttu-id="72343-137">GetObjectToSerialize yöntemi</span><span class="sxs-lookup"><span data-stu-id="72343-137">GetObjectToSerialize Method</span></span>  
 <span data-ttu-id="72343-138"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> Yöntemi özgün türü örneği surrogated türü örneğine dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="72343-138">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> method converts the original type instance to the surrogated type instance.</span></span> <span data-ttu-id="72343-139">Yöntemi, seri hale getirme için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="72343-139">The method is required for serialization.</span></span>  
  
 <span data-ttu-id="72343-140">Fiziksel veri eşleştirilir özgün örneğinden yedek uygulayarak şekilde tanımlamak için sonraki adımdır <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="72343-140">The next step is to define the way the physical data will be mapped from the original instance to the surrogate by implementing the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> method.</span></span> <span data-ttu-id="72343-141">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="72343-141">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#4)]  
  
 <span data-ttu-id="72343-142"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> Bir nesne serileştirildiğinde yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-142">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetObjectToSerialize%2A> method is called when an object is serialized.</span></span> <span data-ttu-id="72343-143">Bu yöntem, özgün türünden surrogated türünde alanlar için verileri aktarır.</span><span class="sxs-lookup"><span data-stu-id="72343-143">This method transfers data from the original type to the fields of the surrogated type.</span></span> <span data-ttu-id="72343-144">Alanları doğrudan alanları vekil eşlenebilir veya özgün veriyi işlemeleri yedek depolanabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-144">Fields can be directly mapped to surrogate fields, or manipulations of the original data may be stored in the surrogate.</span></span> <span data-ttu-id="72343-145">Bazı olası kullanımları şunlardır: doğrudan alanlarını eşleme, surrogated alanlarında depolanan veriler üzerinde işlemler veya özgün türü XML surrogated alanında saklanması.</span><span class="sxs-lookup"><span data-stu-id="72343-145">Some possible uses include: directly mapping the fields, performing operations on the data to be stored in the surrogated fields, or storing the XML of the original type in the surrogated field.</span></span>  
  
 <span data-ttu-id="72343-146">`targetType` Parametresi üyesinin bildirilen bir türe başvurur.</span><span class="sxs-lookup"><span data-stu-id="72343-146">The `targetType` parameter refers to the declared type of the member.</span></span> <span data-ttu-id="72343-147">Bu parametre, tarafından döndürülen surrogated türüdür <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="72343-147">This parameter is the surrogated type returned by the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDataContractType%2A> method.</span></span> <span data-ttu-id="72343-148">Seri hale getirici döndürülen nesne bu türe atanabilir uygulamaz.</span><span class="sxs-lookup"><span data-stu-id="72343-148">The serializer does not enforce that the object returned is assignable to this type.</span></span> <span data-ttu-id="72343-149">`obj` Nesneyi serileştirmek için bir parametredir ve gerekirse, yedek dönüştürülür.</span><span class="sxs-lookup"><span data-stu-id="72343-149">The `obj` parameter is the object to serialize, and will be converted to its surrogate if necessary.</span></span> <span data-ttu-id="72343-150">Bu yöntem, surrogated nesne işlemiyor durumunda giriş nesnesi döndürmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="72343-150">This method must return the input object if the surrogated does not handle the object.</span></span> <span data-ttu-id="72343-151">Aksi takdirde, yeni bir yedek nesne döndürülür.</span><span class="sxs-lookup"><span data-stu-id="72343-151">Otherwise, the new surrogate object will be returned.</span></span> <span data-ttu-id="72343-152">Nesne null ise temsilci çağrılmaz.</span><span class="sxs-lookup"><span data-stu-id="72343-152">The surrogate is not called if the object is null.</span></span> <span data-ttu-id="72343-153">Çok sayıda yedek eşlemeleri farklı örnekleri için bu yöntem içinde tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-153">Numerous surrogate mappings for different instances may be defined within this method.</span></span>  
  
 <span data-ttu-id="72343-154">Oluştururken bir <xref:System.Runtime.Serialization.DataContractSerializer>, nesne başvuruları korumak için söyleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="72343-154">When creating a <xref:System.Runtime.Serialization.DataContractSerializer>, you can instruct it to preserve object references.</span></span> <span data-ttu-id="72343-155">([!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] [Seri hale getirme ve seri durumdan çıkarma](../../../../docs/framework/wcf/feature-details/serialization-and-deserialization.md).) Bu ayarlayarak yapılır `preserveObjectReferences` kendi oluşturucuya parametresinde `true`.</span><span class="sxs-lookup"><span data-stu-id="72343-155">([!INCLUDE[crdefault](../../../../includes/crdefault-md.md)] [Serialization and Deserialization](../../../../docs/framework/wcf/feature-details/serialization-and-deserialization.md).) This is done by setting the `preserveObjectReferences` parameter in its constructor to `true`.</span></span> <span data-ttu-id="72343-156">Bu durumda, tüm sonraki serializations başvuru akışa yazmanız yeterlidir beri yedek bir nesne için yalnızca bir kez çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-156">In that case, the surrogate is called only once for an object since all subsequent serializations just write the reference into the stream.</span></span> <span data-ttu-id="72343-157">Varsa `preserveObjectReferences` ayarlanır `false`, sonra bir örneği ile her karşılaşmanızda yedek olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="72343-157">If `preserveObjectReferences` is set to `false`, then the surrogate is called every time an instance is encountered.</span></span>  
  
 <span data-ttu-id="72343-158">Seri hale getirilmiş örnek türü bildirilen türünden farklıysa, türü bilgileri akışa, örneğin, yazılır `xsi:type` diğer sonunda seri durumdan çıkarılacak örneği izin vermek için.</span><span class="sxs-lookup"><span data-stu-id="72343-158">If the type of the instance serialized differs from the declared type, type information is written into the stream, for example, `xsi:type` to allow the instance to be deserialized at the other end.</span></span> <span data-ttu-id="72343-159">Bu işlem, nesne veya surrogated gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="72343-159">This process occurs whether the object is surrogated or not.</span></span>  
  
 <span data-ttu-id="72343-160">Yukarıdaki örnek verileri dönüştürür `Inventory` , örneğine `InventorySurrogated`.</span><span class="sxs-lookup"><span data-stu-id="72343-160">The example above converts the data of the `Inventory` instance to that of `InventorySurrogated`.</span></span> <span data-ttu-id="72343-161">Nesne türünü denetler ve surrogated türüne dönüştürmek için gerekli işlemeleri gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="72343-161">It checks the type of the object and performs the necessary manipulations to convert to the surrogated type.</span></span> <span data-ttu-id="72343-162">Bu durumda, alanlarını `Inventory` sınıfı doğrudan kopyalanır üzerinden `InventorySurrogated` sınıf alanları.</span><span class="sxs-lookup"><span data-stu-id="72343-162">In this case, the fields of the `Inventory` class are directly copied over to the `InventorySurrogated` class fields.</span></span>  
  
### <a name="getdeserializedobject-method"></a><span data-ttu-id="72343-163">GetDeserializedObject yöntemi</span><span class="sxs-lookup"><span data-stu-id="72343-163">GetDeserializedObject Method</span></span>  
 <span data-ttu-id="72343-164"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetDeserializedObject%2A> Yöntemi surrogated türü örneği özgün türü örneğine dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="72343-164">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetDeserializedObject%2A> method converts the surrogated type instance to the original type instance.</span></span> <span data-ttu-id="72343-165">Çıkarma için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="72343-165">It is required for deserialization.</span></span>  
  
 <span data-ttu-id="72343-166">Sonraki görev, fiziksel veri yedek örneğinden asıl eşleneceği yol tanımlamaktır.</span><span class="sxs-lookup"><span data-stu-id="72343-166">The next task is to define the way the physical data will be mapped from the surrogate instance to the original.</span></span> <span data-ttu-id="72343-167">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="72343-167">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#5)]  
  
 <span data-ttu-id="72343-168">Bu yöntem yalnızca bir nesne seri kaldırma sırasında çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-168">This method is called only during the deserialization of an object.</span></span> <span data-ttu-id="72343-169">Yedek türünden ters veri eşleme seri durumundan çıkarma için özgün türünü sağlar.</span><span class="sxs-lookup"><span data-stu-id="72343-169">It provides reverse data mapping for the deserialization from the surrogate type back to its original type.</span></span> <span data-ttu-id="72343-170">Benzer şekilde `GetObjectToSerialize` yöntemi, bazı olası kullanımları doğrudan alan veri değişimi, veriler üzerinde işlemler gerçekleştirmek ve XML verilerini depolamak için olabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-170">Similar to the `GetObjectToSerialize` method, some possible uses may be to directly exchange field data, perform operations on the data, and store XML data.</span></span> <span data-ttu-id="72343-171">Seri durumdan çıkarılırken, her zaman tam veri değerleri için veri dönüştürme işlemeleri nedeniyle özgün almak değil.</span><span class="sxs-lookup"><span data-stu-id="72343-171">When  deserializing, you may not always obtain the exact data values from original due to manipulations in the data conversion.</span></span>  
  
 <span data-ttu-id="72343-172">`targetType` Parametresi üyesinin bildirilen bir türe başvurur.</span><span class="sxs-lookup"><span data-stu-id="72343-172">The `targetType` parameter refers to the declared type of the member.</span></span> <span data-ttu-id="72343-173">Bu parametre, tarafından döndürülen surrogated türüdür `GetDataContractType` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="72343-173">This parameter is the surrogated type returned by the `GetDataContractType` method.</span></span> <span data-ttu-id="72343-174">`obj` Parametre seri durumdan nesnesine başvuruyor.</span><span class="sxs-lookup"><span data-stu-id="72343-174">The `obj` parameter refers to the object that has been deserialized.</span></span> <span data-ttu-id="72343-175">Surrogated, nesne özgün türüne dönüştürülebilir.</span><span class="sxs-lookup"><span data-stu-id="72343-175">The object can be converted back to its original type if it is surrogated.</span></span> <span data-ttu-id="72343-176">Yedek nesne işlemiyor varsa bu yöntem giriş nesnesi döndürür.</span><span class="sxs-lookup"><span data-stu-id="72343-176">This method returns the input object if the surrogate does not handle the object.</span></span> <span data-ttu-id="72343-177">Aksi takdirde, dönüştürme tamamlandığında seri durumdan çıkarılmış nesne döndürülür.</span><span class="sxs-lookup"><span data-stu-id="72343-177">Otherwise, the deserialized object will be returned once its conversion has been completed.</span></span> <span data-ttu-id="72343-178">Yedek birçok varsa, veri dönüştürme yedek birincil türe her her türü belirterek ve onun dönüştürme sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-178">If several surrogate types exist, you may provide data conversion from surrogate to primary type for each by indicating each type and its conversion.</span></span>  
  
 <span data-ttu-id="72343-179">Bir nesne döndürülürken iç nesne tablolar bu yedek tarafından döndürülen nesne ile güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="72343-179">When returning an object, the internal object tables are updated with the object returned by this surrogate.</span></span> <span data-ttu-id="72343-180">Sonraki tüm başvuruları örneğine surrogated örnek nesne tablolardan elde eder.</span><span class="sxs-lookup"><span data-stu-id="72343-180">Any subsequent references to an instance will obtain the surrogated instance from the object tables.</span></span>  
  
 <span data-ttu-id="72343-181">Önceki örnekte türündeki nesneleri dönüştürür `InventorySurrogated` ilk yazmasını `Inventory`.</span><span class="sxs-lookup"><span data-stu-id="72343-181">The previous example converts objects of type `InventorySurrogated` back to the initial type `Inventory`.</span></span> <span data-ttu-id="72343-182">Bu durumda, verileri doğrudan geri aktarılır `InventorySurrogated` karşılık gelen alanlara `Inventory`.</span><span class="sxs-lookup"><span data-stu-id="72343-182">In this case, data is directly transferred back from `InventorySurrogated` to its corresponding fields in `Inventory`.</span></span> <span data-ttu-id="72343-183">Hiçbir veri değişikliklerini olduğundan üye alanlarının her seri hale getirme önce aynı değerleri içerir.</span><span class="sxs-lookup"><span data-stu-id="72343-183">Because there are no data manipulations, the each of the member fields will contain the same values as before the serialization.</span></span>  
  
### <a name="getcustomdatatoexport-method"></a><span data-ttu-id="72343-184">GetCustomDataToExport yöntemi</span><span class="sxs-lookup"><span data-stu-id="72343-184">GetCustomDataToExport Method</span></span>  
 <span data-ttu-id="72343-185">Bir şema verilirken <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%2A> yöntemdir isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="72343-185">When exporting a schema, the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%2A> method is optional.</span></span> <span data-ttu-id="72343-186">Ek veri veya ipuçları dışarı aktarılan şemaya eklemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72343-186">It is used to insert additional data or hints into the exported schema.</span></span> <span data-ttu-id="72343-187">Ek veri üye düzeyinde veya türü düzeyinde eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="72343-187">Additional data can be inserted at the member level or type level.</span></span> <span data-ttu-id="72343-188">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="72343-188">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#6)]  
  
 <span data-ttu-id="72343-189">Bu yöntemle (iki aşırı) ek bilgileri meta verilerine dahil edilmesi üye veya türü düzeyinde ya da sağlar.</span><span class="sxs-lookup"><span data-stu-id="72343-189">This method (with two overloads) enables the inclusion of extra information into the metadata either at the member or type level.</span></span> <span data-ttu-id="72343-190">Üye ortak veya özel ve dışarı ve içeri aktarma şemasının korunması açıklamaları olup olmadığına dair ipuçları eklemek mümkündür.</span><span class="sxs-lookup"><span data-stu-id="72343-190">It is possible to include hints about whether a member is public or private, and comments which would be preserved throughout the export and import of the schema.</span></span> <span data-ttu-id="72343-191">Bu yöntem gibi bilgiler kaybolacak.</span><span class="sxs-lookup"><span data-stu-id="72343-191">Such information would be lost without this method.</span></span> <span data-ttu-id="72343-192">Bu yöntem ekleme veya üyeleri veya türleri silinmesine neden olmaz ancak bu düzeyleri birini adresindeki şemaları yerine ek veri ekler.</span><span class="sxs-lookup"><span data-stu-id="72343-192">This method does not cause the insertion or deletion of members or types, but rather adds additional data to the schemas at either of these levels.</span></span>  
  
 <span data-ttu-id="72343-193">Yöntemi aşırı yüklendi ve ya da alabilir bir `Type` (`clrtype` parametresi) veya <xref:System.Reflection.MemberInfo> (`memberInfo` parametresi).</span><span class="sxs-lookup"><span data-stu-id="72343-193">The method is overloaded and can take either a `Type` (`clrtype` parameter) or <xref:System.Reflection.MemberInfo> (`memberInfo` parameter).</span></span> <span data-ttu-id="72343-194">İkinci parametre her zaman olduğu bir `Type` (`dataContractType` parametresi).</span><span class="sxs-lookup"><span data-stu-id="72343-194">The second parameter is always a `Type` (`dataContractType` parameter).</span></span> <span data-ttu-id="72343-195">Bu yöntem her üye ve surrogated türü için çağrılır `dataContractType` türü.</span><span class="sxs-lookup"><span data-stu-id="72343-195">This method is called for every member and type of the surrogated `dataContractType` type.</span></span>  
  
 <span data-ttu-id="72343-196">Bu aşırı birini ya da döndürmelidir `null` veya serileştirilebilir bir nesne.</span><span class="sxs-lookup"><span data-stu-id="72343-196">Either of these overloads must return either `null` or a serializable object.</span></span> <span data-ttu-id="72343-197">Dışarı aktarılan Şeması ek açıklama olarak bir null olmayan nesne seri hale getirilir.</span><span class="sxs-lookup"><span data-stu-id="72343-197">A non-null object will be serialized as annotation into the exported schema.</span></span> <span data-ttu-id="72343-198">İçin `Type` aşırı yüklemesi şemaya dışarı her tür gönderildiği ilk parametre surrogated türü ile birlikte Bu yöntemde `dataContractType` parametresi.</span><span class="sxs-lookup"><span data-stu-id="72343-198">For the `Type` overload, each type that is exported to schema is sent to this method in the first parameter along with the surrogated type as the `dataContractType` parameter.</span></span> <span data-ttu-id="72343-199">İçin `MemberInfo` aşırı yüklemesi şemaya dışarı her üye olarak bilgilerini gönderir `memberInfo` ikinci parametrede surrogated türüne sahip parametre.</span><span class="sxs-lookup"><span data-stu-id="72343-199">For the `MemberInfo` overload, each member that is exported to schema sends its information as the `memberInfo` parameter with the surrogated type in the second parameter.</span></span>  
  
#### <a name="getcustomdatatoexport-method-type-type"></a><span data-ttu-id="72343-200">GetCustomDataToExport yöntemi (tür, tür)</span><span class="sxs-lookup"><span data-stu-id="72343-200">GetCustomDataToExport Method (Type, Type)</span></span>  
 <span data-ttu-id="72343-201"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%28System.Type%2CSystem.Type%29?displayProperty=nameWithType> Yöntemi, her tür tanımı için şema dışa aktarma sırasında çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-201">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%28System.Type%2CSystem.Type%29?displayProperty=nameWithType> method is called during schema export for every type definition.</span></span> <span data-ttu-id="72343-202">Yöntemi bilgi türleri şeması içindeki verilirken ekler.</span><span class="sxs-lookup"><span data-stu-id="72343-202">The method adds information to the types within the schema when exporting.</span></span> <span data-ttu-id="72343-203">Tanımlanan her tür şemada dahil edilmesi gereken herhangi bir ek veriyi olup olmadığını belirlemek için bu yöntem için gönderilir.</span><span class="sxs-lookup"><span data-stu-id="72343-203">Each type defined is sent to this method to determine whether there is any additional data that needs to be included in the schema.</span></span>  
  
#### <a name="getcustomdatatoexport-method-memberinfo-type"></a><span data-ttu-id="72343-204">GetCustomDataToExport yöntemi (MemberInfo, türü)</span><span class="sxs-lookup"><span data-stu-id="72343-204">GetCustomDataToExport Method (MemberInfo, Type)</span></span>  
 <span data-ttu-id="72343-205"><xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%28System.Reflection.MemberInfo%2CSystem.Type%29?displayProperty=nameWithType> Verilir türleri her üye dışa aktarma sırasında çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-205">The <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%28System.Reflection.MemberInfo%2CSystem.Type%29?displayProperty=nameWithType> is called during export for every member in the types that are exported.</span></span> <span data-ttu-id="72343-206">Bu işlev, dışa aktarma sırasında şema dahil edilecek üyeler için tüm yorumlar özelleştirmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="72343-206">This function enables you to customize any comments for the members that will be included in the schema upon export.</span></span> <span data-ttu-id="72343-207">Bilgi sınıf içindeki her üye için bu yöntem herhangi bir ek veriyi şemada eklenmesi gerekip gerekmediğini denetleyin gönderilir.</span><span class="sxs-lookup"><span data-stu-id="72343-207">The information for every member within the class is sent to this method to check whether any additional data need to be added in the schema.</span></span>  
  
 <span data-ttu-id="72343-208">Aramalar Yukarıdaki örnek `dataContractType` yedek her bir üyesi için.</span><span class="sxs-lookup"><span data-stu-id="72343-208">The example above searches through the `dataContractType` for each member of the surrogate.</span></span> <span data-ttu-id="72343-209">Ardından, her bir alan için uygun erişim değiştiricisi döndürür.</span><span class="sxs-lookup"><span data-stu-id="72343-209">It then returns the appropriate access modifier for each field.</span></span> <span data-ttu-id="72343-210">Erişim değiştiricileri için varsayılan değer bu özelleştirme olmadan geneldir.</span><span class="sxs-lookup"><span data-stu-id="72343-210">Without this customization, the default value for access modifiers is public.</span></span> <span data-ttu-id="72343-211">Bu nedenle, tüm üyeleri bunların gerçek erişim kısıtlamaları nelerdir olsun dışarı aktarılan Şeması kullanılarak oluşturulan kodda ortak olarak tanımlanması.</span><span class="sxs-lookup"><span data-stu-id="72343-211">Therefore, all members would be defined as public in the code generated using the exported schema no matter what their actual access restrictions are.</span></span> <span data-ttu-id="72343-212">Bu uygulama, üye kullanmadığınızda `numpens` yedek özel olarak tanımlanan olsa da dışarı aktarılan şemada genel olacaktır.</span><span class="sxs-lookup"><span data-stu-id="72343-212">When not using this implementation, the member `numpens` would be public in the exported schema even though it was defined in the surrogate as private.</span></span> <span data-ttu-id="72343-213">Bu yöntemde, dışarı aktarılan şemanın kullanımı ile erişim değiştiricisi özel olarak oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-213">Through the use of this method, in the exported schema, the access modifier can be generated as private.</span></span>  
  
### <a name="getreferencedtypeonimport-method"></a><span data-ttu-id="72343-214">GetReferencedTypeOnImport yöntemi</span><span class="sxs-lookup"><span data-stu-id="72343-214">GetReferencedTypeOnImport Method</span></span>  
 <span data-ttu-id="72343-215">Bu yöntem eşler <xref:System.Type> özgün türü için yedek olarak.</span><span class="sxs-lookup"><span data-stu-id="72343-215">This method maps the <xref:System.Type> of the surrogate to the original type.</span></span> <span data-ttu-id="72343-216">Bu yöntem için şema başlangıcından isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="72343-216">This method is optional for schema importation.</span></span>  
  
 <span data-ttu-id="72343-217">Bir yedek oluşturmayı bir şema alır ve bunun için kod oluşturur, sonraki görev için özgün türüne bir yedek örneği türünü tanımlamak için değildir.</span><span class="sxs-lookup"><span data-stu-id="72343-217">When creating a surrogate that imports a schema and generates code for it, the next task is to define the type of a surrogate instance to its original type.</span></span>  
  
 <span data-ttu-id="72343-218">Oluşturulan kodun var olan bir kullanıcı türü başvuru gerekiyorsa, bu uygulama tarafından yapılır <xref:System.Runtime.Serialization.IDataContractSurrogate.GetReferencedTypeOnImport%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="72343-218">If the generated code needs to reference an existing user type, this is done by implementing the <xref:System.Runtime.Serialization.IDataContractSurrogate.GetReferencedTypeOnImport%2A> method.</span></span>  
  
 <span data-ttu-id="72343-219">Bir şema içe aktarırken, bu yöntem surrogated veri sözleşmesi bir türüyle eşleştirmek her tür bildirimi için çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-219">When importing a schema, this method is called for every type declaration to map the surrogated data contract to a type.</span></span> <span data-ttu-id="72343-220">Dize parametreleri `typeName` ve `typeNamespace` surrogated türünün ad alanını ve adını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="72343-220">The string parameters `typeName` and `typeNamespace` define the name and namespace of the surrogated type.</span></span> <span data-ttu-id="72343-221">Dönüş değeri <xref:System.Runtime.Serialization.IDataContractSurrogate.GetReferencedTypeOnImport%2A> yeni bir tür oluşturulması gerekip gerekmediğini belirlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72343-221">The return value for <xref:System.Runtime.Serialization.IDataContractSurrogate.GetReferencedTypeOnImport%2A> is used to determine whether a new type needs to be generated.</span></span> <span data-ttu-id="72343-222">Bu yöntem, geçerli bir tür veya null döndürmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="72343-222">This method must return either a valid type or null.</span></span> <span data-ttu-id="72343-223">Geçerli türler için oluşturulan kodda başvurulan bir türü olarak döndürülen türü kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72343-223">For valid types, the type returned will be used as a referenced type in the generated code.</span></span> <span data-ttu-id="72343-224">Null değeri döndürülür, tür başvurulacak ve yeni bir tür oluşturulması gerekir.</span><span class="sxs-lookup"><span data-stu-id="72343-224">If null is returned, no type will be referenced and a new type must be created.</span></span> <span data-ttu-id="72343-225">Birkaç temsilciler varsa, her yedek türü başlangıç türü için geri eşlemeyi gerçekleştirmek mümkündür.</span><span class="sxs-lookup"><span data-stu-id="72343-225">If several surrogates exist, it is possible to perform the mapping for each surrogate type back to its initial type.</span></span>  
  
 <span data-ttu-id="72343-226">`customData` Parametredir başlangıçta yönteminden döndürülen nesne <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%2A>.</span><span class="sxs-lookup"><span data-stu-id="72343-226">The `customData` parameter is the object originally returned from <xref:System.Runtime.Serialization.IDataContractSurrogate.GetCustomDataToExport%2A>.</span></span> <span data-ttu-id="72343-227">Bu `customData` yedek yazarlar ek veri ipuçları kod oluşturmak için içeri aktarma sırasında kullanılacak meta veri eklemek istediğinizde kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72343-227">This `customData` is used when surrogate authors want to insert extra data/hints into the metadata to use during import to generate code.</span></span>  
  
### <a name="processimportedtype-method"></a><span data-ttu-id="72343-228">ProcessImportedType yöntemi</span><span class="sxs-lookup"><span data-stu-id="72343-228">ProcessImportedType Method</span></span>  
 <span data-ttu-id="72343-229"><xref:System.Runtime.Serialization.IDataContractSurrogate.ProcessImportedType%2A> Yöntemi özelleştirir şema başlangıcından oluşturulan herhangi bir tür.</span><span class="sxs-lookup"><span data-stu-id="72343-229">The <xref:System.Runtime.Serialization.IDataContractSurrogate.ProcessImportedType%2A> method customizes any type created from schema importation.</span></span> <span data-ttu-id="72343-230">Bu yöntem isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="72343-230">This method is optional.</span></span>  
  
 <span data-ttu-id="72343-231">Bir şema içe aktarırken, bu yöntem özelleştirilmek üzere tüm içeri aktarılan türü ve derleme bilgilerini sağlar.</span><span class="sxs-lookup"><span data-stu-id="72343-231">When importing a schema, this method allows for any imported type and compilation information to be customized.</span></span> <span data-ttu-id="72343-232">Örneğin:</span><span class="sxs-lookup"><span data-stu-id="72343-232">For example:</span></span>  
  
 [!code-csharp[C_IDataContractSurrogate#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#7)]  
  
 <span data-ttu-id="72343-233">İçeri aktarma sırasında oluşturulan her tür için bu yöntem çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-233">During import, this method is called for every type generated.</span></span> <span data-ttu-id="72343-234">Belirtilen değiştirme <xref:System.CodeDom.CodeTypeDeclaration> veya değiştirme <xref:System.CodeDom.CodeCompileUnit>.</span><span class="sxs-lookup"><span data-stu-id="72343-234">Change the specified <xref:System.CodeDom.CodeTypeDeclaration> or modify the <xref:System.CodeDom.CodeCompileUnit>.</span></span> <span data-ttu-id="72343-235">Bu ad, üyeler, öznitelikler ve diğer birçok özelliklerini değiştirme içerir `CodeTypeDeclaration`.</span><span class="sxs-lookup"><span data-stu-id="72343-235">This includes changing the name, members, attributes, and many other properties of the `CodeTypeDeclaration`.</span></span> <span data-ttu-id="72343-236">İşlem tarafından `CodeCompileUnit`, yönergeleri, ad alanları, başvurulan derlemeler ve diğer çeşitli yönlerini değiştirmek mümkündür.</span><span class="sxs-lookup"><span data-stu-id="72343-236">By processing the `CodeCompileUnit`, it is possible to modify the directives, namespaces, referenced assemblies, and several other aspects.</span></span>  
  
 <span data-ttu-id="72343-237">`CodeTypeDeclaration` Parametresi DOM türü bildirimi kodunu içerir.</span><span class="sxs-lookup"><span data-stu-id="72343-237">The `CodeTypeDeclaration` parameter contains the code DOM type declaration.</span></span> <span data-ttu-id="72343-238">`CodeCompileUnit` Kodu işlemek için değiştirme parametresi sağlar.</span><span class="sxs-lookup"><span data-stu-id="72343-238">The `CodeCompileUnit` parameter allows for modification for processing the code.</span></span>  <span data-ttu-id="72343-239">Döndürme `null` atılmadan tür bildiriminde neden olur.</span><span class="sxs-lookup"><span data-stu-id="72343-239">Returning `null` results in the type declaration being discarded.</span></span> <span data-ttu-id="72343-240">Buna karşılık, döndürülürken bir `CodeTypeDeclaration`, değişiklikler korunur.</span><span class="sxs-lookup"><span data-stu-id="72343-240">Conversely, when returning a `CodeTypeDeclaration`, the modifications are preserved.</span></span>  
  
 <span data-ttu-id="72343-241">Özel veri meta verileri dışa aktarma sırasında eklediyseniz, böylece kullanılabilmesi için içeri aktarma sırasında kullanıcıya sağlanması gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="72343-241">If custom data is inserted during metadata export, it needs to be provided to the user during import so that it can be used.</span></span> <span data-ttu-id="72343-242">Bu özel veri programlama modeli ipuçları veya diğer açıklamaları için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="72343-242">This custom data can be used for programming model hints, or other comments.</span></span> <span data-ttu-id="72343-243">Her `CodeTypeDeclaration` ve <xref:System.CodeDom.CodeTypeMember> örneği içeren özel veri olarak <xref:System.CodeDom.CodeObject.UserData%2A> için cast özelliği `IDataContractSurrogate` türü.</span><span class="sxs-lookup"><span data-stu-id="72343-243">Each `CodeTypeDeclaration` and <xref:System.CodeDom.CodeTypeMember> instance includes custom data as the <xref:System.CodeDom.CodeObject.UserData%2A> property, cast to the `IDataContractSurrogate` type.</span></span>  
  
 <span data-ttu-id="72343-244">Yukarıdaki örnekte alınan şema üzerinde bazı değişiklikler gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="72343-244">The example above performs some changes on the schema imported.</span></span> <span data-ttu-id="72343-245">Kod, bir yedek kullanarak özgün türün özel üyeleri korur.</span><span class="sxs-lookup"><span data-stu-id="72343-245">The code preserves private members of the original type by using a surrogate.</span></span> <span data-ttu-id="72343-246">Bir şema alırken varsayılan erişim değiştiricisi `public`.</span><span class="sxs-lookup"><span data-stu-id="72343-246">The default access modifier when importing a schema is `public`.</span></span> <span data-ttu-id="72343-247">Bu nedenle, tüm üyeleri yedek şema, bu örnekteki değiştiren sürece ortak olacaktır.</span><span class="sxs-lookup"><span data-stu-id="72343-247">Therefore, all members of the surrogate schema will be public unless modified, as in this example.</span></span> <span data-ttu-id="72343-248">Dışa aktarma sırasında özel veriler hakkında üyeleri özel meta verileri eklenir.</span><span class="sxs-lookup"><span data-stu-id="72343-248">During export, custom data is inserted into the metadata about which members are private.</span></span> <span data-ttu-id="72343-249">Örneğin, özel verileri arayan, erişim değiştiricisi özeldir ve özniteliklerini ayarlayarak özel olarak uygun üye değiştirir olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="72343-249">The example looks up the custom data, checks whether the access modifier is private, and then modifies the appropriate member to be private by setting its attributes.</span></span> <span data-ttu-id="72343-250">Bu özelleştirme olmadan `numpens` üye genel olarak tanımlanan özel yerine.</span><span class="sxs-lookup"><span data-stu-id="72343-250">Without this customization, the `numpens` member would be defined as public instead of private.</span></span>  
  
### <a name="getknowncustomdatatypes-method"></a><span data-ttu-id="72343-251">GetKnownCustomDataTypes yöntemi</span><span class="sxs-lookup"><span data-stu-id="72343-251">GetKnownCustomDataTypes Method</span></span>  
 <span data-ttu-id="72343-252">Bu yöntem şemadan tanımlı özel veri türleri alır.</span><span class="sxs-lookup"><span data-stu-id="72343-252">This method obtains custom data types defined from the schema.</span></span> <span data-ttu-id="72343-253">Yöntem için şema başlangıcından isteğe bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="72343-253">The method is optional for schema importation.</span></span>  
  
 <span data-ttu-id="72343-254">Yöntem şema dışarı ve içeri aktarma başında çağrılır.</span><span class="sxs-lookup"><span data-stu-id="72343-254">The method is called at the beginning of schema export and import.</span></span> <span data-ttu-id="72343-255">Bu yöntem, dışarı veya içeri aktarılan şemasında kullanılan özel veri türleri döndürür.</span><span class="sxs-lookup"><span data-stu-id="72343-255">The method returns the custom data types used in the schema exported or imported.</span></span> <span data-ttu-id="72343-256">Yöntemine geçirilen bir <xref:System.Collections.ObjectModel.Collection%601> ( `customDataTypes` parametresi), türleri koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="72343-256">The method is passed a <xref:System.Collections.ObjectModel.Collection%601> (the `customDataTypes` parameter), which is a collection of types.</span></span> <span data-ttu-id="72343-257">Yöntemi, bu koleksiyona ek bilinen türleri eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="72343-257">The method should add additional known types to this collection.</span></span> <span data-ttu-id="72343-258">Bilinen özel veri türleri seri hale getirme ve seri durumdan çıkarma özel verileri kullanarak etkinleştirmek için gerekli olan <xref:System.Runtime.Serialization.DataContractSerializer>.</span><span class="sxs-lookup"><span data-stu-id="72343-258">The known custom data types are needed to enable serialization and deserialization of custom data using the <xref:System.Runtime.Serialization.DataContractSerializer>.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="72343-259">[Veri sözleşmesi bilinen türler](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span><span class="sxs-lookup"><span data-stu-id="72343-259"> [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span></span>  
  
## <a name="implementing-a-surrogate"></a><span data-ttu-id="72343-260">Bir yedek uygulama</span><span class="sxs-lookup"><span data-stu-id="72343-260">Implementing a Surrogate</span></span>  
 <span data-ttu-id="72343-261">Veri sözleşmesi yedek içinde kullanmak için [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], birkaç özel yordamları izlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="72343-261">To use the data contract surrogate within [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], you must follow a few special procedures.</span></span>  
  
### <a name="to-use-a-surrogate-for-serialization-and-deserialization"></a><span data-ttu-id="72343-262">Serileştirme ve seri durumundan çıkarma için bir yedek kullanmak için</span><span class="sxs-lookup"><span data-stu-id="72343-262">To Use a Surrogate for Serialization and Deserialization</span></span>  
 <span data-ttu-id="72343-263">Kullanım <xref:System.Runtime.Serialization.DataContractSerializer> seri hale getirme ve seri durumdan çıkarma veri yedeği ile gerçekleştirmek için.</span><span class="sxs-lookup"><span data-stu-id="72343-263">Use the <xref:System.Runtime.Serialization.DataContractSerializer> to perform serialization and deserialization of data with the surrogate.</span></span> <span data-ttu-id="72343-264"><xref:System.Runtime.Serialization.DataContractSerializer> Tarafından oluşturulan <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>.</span><span class="sxs-lookup"><span data-stu-id="72343-264">The <xref:System.Runtime.Serialization.DataContractSerializer> is created by the <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>.</span></span> <span data-ttu-id="72343-265">Yedek de belirtilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="72343-265">The surrogate must also be specified.</span></span>  
  
##### <a name="to-implement-serialization-and-deserialization"></a><span data-ttu-id="72343-266">Serileştirme ve seri durumdan çıkarma uygulamak için</span><span class="sxs-lookup"><span data-stu-id="72343-266">To implement serialization and deserialization</span></span>  
  
1.  <span data-ttu-id="72343-267">Bir örneğini oluşturmak <xref:System.ServiceModel.ServiceHost> hizmetiniz için.</span><span class="sxs-lookup"><span data-stu-id="72343-267">Create an instance of the <xref:System.ServiceModel.ServiceHost> for your service.</span></span> <span data-ttu-id="72343-268">Tam yönergeler için bkz: [temel WCF programlama](../../../../docs/framework/wcf/basic-wcf-programming.md).</span><span class="sxs-lookup"><span data-stu-id="72343-268">For complete instructions, see [Basic WCF Programming](../../../../docs/framework/wcf/basic-wcf-programming.md).</span></span>  
  
2.  <span data-ttu-id="72343-269">İçin her <xref:System.ServiceModel.Description.ServiceEndpoint> belirtilen hizmet konağının bulmak, <xref:System.ServiceModel.Description.OperationDescription>.</span><span class="sxs-lookup"><span data-stu-id="72343-269">For every <xref:System.ServiceModel.Description.ServiceEndpoint> of the specified service host, find its <xref:System.ServiceModel.Description.OperationDescription>.</span></span>  
  
3.  <span data-ttu-id="72343-270">Arama işlemi davranışları örneği olup olmadığı belirlenemiyor aracılığıyla <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> bulunur.</span><span class="sxs-lookup"><span data-stu-id="72343-270">Search through the operation behaviors to determine if an instance of the <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> is found.</span></span>  
  
4.  <span data-ttu-id="72343-271">Varsa bir <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> bulundu, ayarlamak kendi <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior.DataContractSurrogate%2A> yedek yeni bir örneğini özelliğine.</span><span class="sxs-lookup"><span data-stu-id="72343-271">If a <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> is found, set its <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior.DataContractSurrogate%2A> property to a new instance of the surrogate.</span></span> <span data-ttu-id="72343-272">Öyle değilse <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> bulunamadı, ardından yeni bir örneğini oluşturun ve ayarlayın <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior.DataContractSurrogate%2A> yedek yeni bir örneğini yeni davranışı üyesi.</span><span class="sxs-lookup"><span data-stu-id="72343-272">If no <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior> is found, then create a new instance and set the <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior.DataContractSurrogate%2A> member of the new behavior to a new instance of the surrogate.</span></span>  
  
5.  <span data-ttu-id="72343-273">Son olarak, bu yeni davranış geçerli işlemi davranışları, aşağıdaki örnekte gösterildiği gibi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="72343-273">Finally, add this new behavior to the current operation behaviors, as shown in the following example:</span></span>  
  
     [!code-csharp[C_IDataContractSurrogate#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#8)]  
  
### <a name="to-use-a-surrogate-for-metadata-import"></a><span data-ttu-id="72343-274">Bir yedek meta veri alma için kullanmak için</span><span class="sxs-lookup"><span data-stu-id="72343-274">To Use a Surrogate for Metadata Import</span></span>  
 <span data-ttu-id="72343-275">İstemci tarafı kodlar oluşturmak için WSDL ve XSD gibi meta verileri içe aktarırken, yedek XSD şemadan kodu oluşturmak için sorumlu bileşenine eklenmesi gerekir <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span><span class="sxs-lookup"><span data-stu-id="72343-275">When importing metadata like WSDL and XSD to generate client-side code, the surrogate needs to be added to the component responsible for generating code from XSD schema, <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span></span> <span data-ttu-id="72343-276">Bunu yapmak için doğrudan değiştirmek <xref:System.ServiceModel.Description.WsdlImporter> meta verileri içe aktarmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72343-276">To do this, directly modify the <xref:System.ServiceModel.Description.WsdlImporter> used to import metadata.</span></span>  
  
##### <a name="to-implement-a-surrogate-for-metadata-importation"></a><span data-ttu-id="72343-277">Meta verileri içe aktarılması için bir yedek uygulamak için</span><span class="sxs-lookup"><span data-stu-id="72343-277">To implement a surrogate for metadata importation</span></span>  
  
1.  <span data-ttu-id="72343-278">Meta verileri kullanarak içe <xref:System.ServiceModel.Description.WsdlImporter> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="72343-278">Import the metadata using the <xref:System.ServiceModel.Description.WsdlImporter> class.</span></span>  
  
2.  <span data-ttu-id="72343-279">Kullanım <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> denetlemek için yöntemi olup olmadığını bir <xref:System.Runtime.Serialization.XsdDataContractImporter> tanımlanmış.</span><span class="sxs-lookup"><span data-stu-id="72343-279">Use the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> method to check whether an <xref:System.Runtime.Serialization.XsdDataContractImporter> has been defined.</span></span>  
  
3.  <span data-ttu-id="72343-280">Varsa <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> yöntemi döndürür `false`, yeni bir <xref:System.Runtime.Serialization.XsdDataContractImporter> ve kendi <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> yeni bir örneğini özelliğine <xref:System.Runtime.Serialization.ImportOptions> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="72343-280">If the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> method returns `false`, create a new <xref:System.Runtime.Serialization.XsdDataContractImporter> and set its <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> property to a new instance of the <xref:System.Runtime.Serialization.ImportOptions> class.</span></span> <span data-ttu-id="72343-281">Aksi takdirde tarafından döndürülen içeri Aktarıcı kullanın `out` parametresinin <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="72343-281">Otherwise, use the importer returned by the `out` parameter of the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> method.</span></span>  
  
4.  <span data-ttu-id="72343-282">Varsa <xref:System.Runtime.Serialization.XsdDataContractImporter> hiç <xref:System.Runtime.Serialization.ImportOptions> tanımlanan sonra yeni bir örneğini özelliğini ayarlamak <xref:System.Runtime.Serialization.ImportOptions> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="72343-282">If the <xref:System.Runtime.Serialization.XsdDataContractImporter> has no <xref:System.Runtime.Serialization.ImportOptions> defined, then set the property to be a new instance of the <xref:System.Runtime.Serialization.ImportOptions> class.</span></span>  
  
5.  <span data-ttu-id="72343-283">Ayarlama <xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A> özelliği <xref:System.Runtime.Serialization.ImportOptions> , <xref:System.Runtime.Serialization.XsdDataContractImporter> yedek yeni bir örneğini için.</span><span class="sxs-lookup"><span data-stu-id="72343-283">Set the <xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A> property of the <xref:System.Runtime.Serialization.ImportOptions> of the <xref:System.Runtime.Serialization.XsdDataContractImporter> to a new instance of the surrogate.</span></span>  
  
6.  <span data-ttu-id="72343-284">Ekleme <xref:System.Runtime.Serialization.XsdDataContractImporter> tarafından döndürülen koleksiyonuna <xref:System.ServiceModel.Description.MetadataExporter.State%2A> özelliği <xref:System.ServiceModel.Description.WsdlImporter> (devralınan <xref:System.ServiceModel.Description.MetadataExporter> sınıfı.)</span><span class="sxs-lookup"><span data-stu-id="72343-284">Add the <xref:System.Runtime.Serialization.XsdDataContractImporter> to the collection returned by the <xref:System.ServiceModel.Description.MetadataExporter.State%2A> property of the <xref:System.ServiceModel.Description.WsdlImporter> (inherited from the <xref:System.ServiceModel.Description.MetadataExporter> class.)</span></span>  
  
7.  <span data-ttu-id="72343-285">Kullanım <xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A> yöntemi <xref:System.ServiceModel.Description.WsdlImporter> tümünü şeması içindeki veri sözleşmeleri almak için.</span><span class="sxs-lookup"><span data-stu-id="72343-285">Use the <xref:System.ServiceModel.Description.WsdlImporter.ImportAllContracts%2A> method of the <xref:System.ServiceModel.Description.WsdlImporter> to import all of the data contracts within the schema.</span></span> <span data-ttu-id="72343-286">Son adımı sırasında yedek çağırarak yüklenen şemaları kodu oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="72343-286">During the last step, code is generated from the schemas loaded by calling into the surrogate.</span></span>  
  
     [!code-csharp[C_IDataContractSurrogate#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#9)]  
  
### <a name="to-use-a-surrogate-for-metadata-export"></a><span data-ttu-id="72343-287">Meta veri dışarı aktarma için bir yedek kullanmak için</span><span class="sxs-lookup"><span data-stu-id="72343-287">To Use a surrogate for Metadata Export</span></span>  
 <span data-ttu-id="72343-288">Varsayılan olarak meta verilerini dışa aktarırken, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] bir hizmet için WSDL ve XSD şema oluşturulması gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="72343-288">By default, when exporting metadata from [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] for a service, both WSDL and XSD schema needs to be generated.</span></span> <span data-ttu-id="72343-289">Yedek veri sözleşme türleri için oluşturma XSD şema sorumlu bileşenine eklenmesi gerekir <xref:System.Runtime.Serialization.XsdDataContractExporter>.</span><span class="sxs-lookup"><span data-stu-id="72343-289">The surrogate needs to be added to the component responsible for generating XSD schema for data contract types, <xref:System.Runtime.Serialization.XsdDataContractExporter>.</span></span> <span data-ttu-id="72343-290">Bunu yapmak için kullanın ya da uygulayan bir davranış <xref:System.ServiceModel.Description.IWsdlExportExtension> değiştirmek için <xref:System.ServiceModel.Description.WsdlExporter>, veya doğrudan değiştirmek <xref:System.ServiceModel.Description.WsdlExporter> meta verilerini dışa aktarmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="72343-290">To do this, either use a behavior that implements <xref:System.ServiceModel.Description.IWsdlExportExtension> to modify the <xref:System.ServiceModel.Description.WsdlExporter>, or directly modify the <xref:System.ServiceModel.Description.WsdlExporter> used to export metadata.</span></span>  
  
##### <a name="to-use-a-surrogate-for-metadata-export"></a><span data-ttu-id="72343-291">Meta veri dışarı aktarma için bir yedek kullanmak için</span><span class="sxs-lookup"><span data-stu-id="72343-291">To use a surrogate for metadata export</span></span>  
  
1.  <span data-ttu-id="72343-292">Yeni bir <xref:System.ServiceModel.Description.WsdlExporter> veya `wsdlExporter` parametresi geçirilen <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="72343-292">Create a new <xref:System.ServiceModel.Description.WsdlExporter> or use the `wsdlExporter` parameter passed to the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method.</span></span>  
  
2.  <span data-ttu-id="72343-293">Kullanım <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> denetlemek için işlevini olup bir <xref:System.Runtime.Serialization.XsdDataContractExporter> tanımlanmış.</span><span class="sxs-lookup"><span data-stu-id="72343-293">Use the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> function to check whether an <xref:System.Runtime.Serialization.XsdDataContractExporter> has been defined.</span></span>  
  
3.  <span data-ttu-id="72343-294">Varsa <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> döndürür `false`, yeni bir <xref:System.Runtime.Serialization.XsdDataContractExporter> oluşturulan XML şemaları ile <xref:System.ServiceModel.Description.WsdlExporter>ve tarafından döndürülen koleksiyonuna ekleyin <xref:System.ServiceModel.Description.MetadataExporter.State%2A> özelliği <xref:System.ServiceModel.Description.WsdlExporter>.</span><span class="sxs-lookup"><span data-stu-id="72343-294">If <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> returns `false`, create a new <xref:System.Runtime.Serialization.XsdDataContractExporter> with the generated XML schemas from the <xref:System.ServiceModel.Description.WsdlExporter>, and add it to the collection returned by the <xref:System.ServiceModel.Description.MetadataExporter.State%2A> property of the <xref:System.ServiceModel.Description.WsdlExporter>.</span></span> <span data-ttu-id="72343-295">Aksi takdirde tarafından döndürülen dışarı aktarma kullanın `out` parametresinin <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="72343-295">Otherwise, use the exporter returned by the `out` parameter of the <xref:System.Collections.Generic.Dictionary%602.TryGetValue%2A> method.</span></span>  
  
4.  <span data-ttu-id="72343-296">Varsa <xref:System.Runtime.Serialization.XsdDataContractExporter> hiç <xref:System.Runtime.Serialization.ExportOptions> tanımlanan sonra ayarlamak <xref:System.Runtime.Serialization.XsdDataContractExporter.Options%2A> yeni bir örneğini özelliğine <xref:System.Runtime.Serialization.ExportOptions> sınıfı.</span><span class="sxs-lookup"><span data-stu-id="72343-296">If the <xref:System.Runtime.Serialization.XsdDataContractExporter> has no <xref:System.Runtime.Serialization.ExportOptions> defined, then set the <xref:System.Runtime.Serialization.XsdDataContractExporter.Options%2A> property to a new instance of the <xref:System.Runtime.Serialization.ExportOptions> class.</span></span>  
  
5.  <span data-ttu-id="72343-297">Ayarlama <xref:System.Runtime.Serialization.ExportOptions.DataContractSurrogate%2A> özelliği <xref:System.Runtime.Serialization.ExportOptions> , <xref:System.Runtime.Serialization.XsdDataContractExporter> yedek yeni bir örneğini için.</span><span class="sxs-lookup"><span data-stu-id="72343-297">Set the <xref:System.Runtime.Serialization.ExportOptions.DataContractSurrogate%2A> property of the <xref:System.Runtime.Serialization.ExportOptions> of the <xref:System.Runtime.Serialization.XsdDataContractExporter> to a new instance of the surrogate.</span></span> <span data-ttu-id="72343-298">Meta verileri dışarı aktarma için sonraki adımları herhangi bir değişiklik gerektirmez.</span><span class="sxs-lookup"><span data-stu-id="72343-298">Subsequent steps for exporting metadata do not require any changes.</span></span>  
  
     [!code-csharp[C_IDataContractSurrogate#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_idatacontractsurrogate/cs/source.cs#10)]  
  
## <a name="see-also"></a><span data-ttu-id="72343-299">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="72343-299">See Also</span></span>  
 <xref:System.Runtime.Serialization.DataContractSerializer>  
 <xref:System.Runtime.Serialization.IDataContractSurrogate>  
 <xref:System.ServiceModel.Description.DataContractSerializerOperationBehavior>  
 <xref:System.Runtime.Serialization.ImportOptions>  
 <xref:System.Runtime.Serialization.ExportOptions>  
 [<span data-ttu-id="72343-300">Veri sözleşmelerini kullanma</span><span class="sxs-lookup"><span data-stu-id="72343-300">Using Data Contracts</span></span>](../../../../docs/framework/wcf/feature-details/using-data-contracts.md)
