---
title: "Tek aşaması kaydetmek ve yükseltilebilir tek aşaması bildirim kullanarak en iyi duruma getirme"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 57beaf1a-fb4d-441a-ab1d-bc0c14ce7899
caps.latest.revision: "3"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 38c3d10eaefe4608084a5e5f6ad417446200799b
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/02/2017
---
# <a name="optimization-using-single-phase-commit-and-promotable-single-phase-notification"></a><span data-ttu-id="10d1e-102">Tek aşaması kaydetmek ve yükseltilebilir tek aşaması bildirim kullanarak en iyi duruma getirme</span><span class="sxs-lookup"><span data-stu-id="10d1e-102">Optimization using Single Phase Commit and Promotable Single Phase Notification</span></span>
<span data-ttu-id="10d1e-103">Bu konu, tarafından sağlanan mekanizmaları açıklar <xref:System.Transactions> performansını iyileştirmek için altyapı.</span><span class="sxs-lookup"><span data-stu-id="10d1e-103">This topic describes the mechanisms provided by the <xref:System.Transactions> infrastructure to optimize performance.</span></span>  
  
## <a name="promotable-single-phase-enlistment"></a><span data-ttu-id="10d1e-104">Liste promotable tek aşaması</span><span class="sxs-lookup"><span data-stu-id="10d1e-104">Promotable Single Phase Enlistment</span></span>  
 <span data-ttu-id="10d1e-105"><xref:System.Transactions> Altyapısı, bir işlem içinde en çok tek dayanıklı kaynak veya birden çok volatile kaynakları içerir tek bir uygulama etki alanı tarafından yönetilen sayfalara.</span><span class="sxs-lookup"><span data-stu-id="10d1e-105">The <xref:System.Transactions> infrastructure administrates a transaction inside a single application domain that involves at most a single durable resource or multiple volatile resources.</span></span> <span data-ttu-id="10d1e-106">Bu yana <xref:System.Transactions> altyapısını kullanan yalnızca içi uygulama etki alanı çağrıları, en iyi verimlilik ve performans sağlar.</span><span class="sxs-lookup"><span data-stu-id="10d1e-106">Since the <xref:System.Transactions> infrastructure uses only intra-application domain calls, it yields the best throughput and performance.</span></span>  
  
 <span data-ttu-id="10d1e-107">Ancak, işlem (işlem ve makine sınırları içinde dahil) başka bir uygulama etki alanında aynı bilgisayarda başka bir nesneye sağlanıyorsa veya başka bir sağlam Kaynak Yöneticisi, listeleme olsaydı <xref:System.Transactions> altyapısı MSDTC tarafından yönetilmek üzere işlem otomatik olarak iletir.</span><span class="sxs-lookup"><span data-stu-id="10d1e-107">However, if the transaction is provided to another object in another application domain (including across process and machine boundaries) on the same computer, or if you were to enlist another durable resource manager, the <xref:System.Transactions> infrastructure automatically escalates the transaction to be managed by the MSDTC.</span></span> <span data-ttu-id="10d1e-108">MSDTC tarafından yönetilen bir işlem tarafından yönetilen olarak performance-wise değil <xref:System.Transactions> altyapı.</span><span class="sxs-lookup"><span data-stu-id="10d1e-108">A transaction managed by MSDTC is not as performance-wise as one managed by the <xref:System.Transactions> infrastructure.</span></span>  
  
 <span data-ttu-id="10d1e-109">Performansı iyileştirmek için <xref:System.Transactions> altyapı yükseltilebilir tek aşaması kaydı (farklı uygulama etki alanı, işlem veya katılmayı makine bulunan tek bir uzaktan dayanıklı kaynağı, veren PSPE) sağlayan bir <xref:System.Transactions> bir MSDTC işleminde ilerletilen için bunu neden olmadan işlem.</span><span class="sxs-lookup"><span data-stu-id="10d1e-109">To optimize performance, the <xref:System.Transactions> infrastructure provides the Promotable Single Phase Enlistment (PSPE) that allows a single remote durable resource, located in a different application domain, process or machine, to participate in a <xref:System.Transactions> transaction without causing it to be escalated to an MSDTC transaction.</span></span>  <span data-ttu-id="10d1e-110">Bu kaynak yöneticisi (RM), konak ve "daha sonra bir dağıtılmış işlem (veya MSDTC işleminde) gerekirse ilerletilen bir işlem kendi".</span><span class="sxs-lookup"><span data-stu-id="10d1e-110">This resource manager (RM) can host and "own" a transaction that can later be escalated to a distributed transaction (or MSDTC transaction) if necessary.</span></span> <span data-ttu-id="10d1e-111">Bu MSDTC kullanarak olasılığı azaltır.</span><span class="sxs-lookup"><span data-stu-id="10d1e-111">This reduces the chance of using the MSDTC.</span></span>  
  
 <span data-ttu-id="10d1e-112">Bu belirli Kaynak Yöneticisi'ni genellikle kendi iç olmayan dağıtılmış işlemler vardır ve bu işlem çalışma zamanında dağıtılmış işlemler dönüştürme desteklemek gerekir.</span><span class="sxs-lookup"><span data-stu-id="10d1e-112">This specific resource manager usually has its own internal non distributed transactions and it needs to support converting those transactions to distributed transactions at runtime.</span></span> <span data-ttu-id="10d1e-113">Örneğin, SQL Server 2005 böyle bir kaynak yöneticisidir.</span><span class="sxs-lookup"><span data-stu-id="10d1e-113">For example, SQL Server 2005 is such a resource manager.</span></span> <span data-ttu-id="10d1e-114">Böyle bir durumda <xref:System.Transactions> altyapı yükseltme gereksinimini işlem izleme tarafından pasif yönetim rolü alır.</span><span class="sxs-lookup"><span data-stu-id="10d1e-114">In such case, the <xref:System.Transactions> infrastructure takes a passive management role by just monitoring the transaction for a need for escalation.</span></span> <span data-ttu-id="10d1e-115">Arasındaki etkileşimi desteklemek için <xref:System.Transactions> altyapı ve Kaynak Yöneticisi, ikinci arabirimini uygulaması gerekiyor <xref:System.Transactions.IPromotableSinglePhaseNotification>.</span><span class="sxs-lookup"><span data-stu-id="10d1e-115">To support the interaction between the <xref:System.Transactions> infrastructure and resource manager, the latter needs to implement the interface <xref:System.Transactions.IPromotableSinglePhaseNotification>.</span></span>  
  
 <span data-ttu-id="10d1e-116"><xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> Yöntemi daha sonra ilerletilmiş tek bir kalıcı kaynak listeleme için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="10d1e-116">The <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method is used to enlist a single durable resource that can be escalated later.</span></span> <span data-ttu-id="10d1e-117">Liste gerektiği gibi ilerletilmiş, bu yöntem sağlar.</span><span class="sxs-lookup"><span data-stu-id="10d1e-117">This method ensures that the enlistment can be escalated as needed.</span></span> <span data-ttu-id="10d1e-118">RM kaydı başarılı olursa, kendi iç işlem oluşturur ve bunu ile ilişkilendirir <xref:System.Transactions> işlem.</span><span class="sxs-lookup"><span data-stu-id="10d1e-118">If the enlistment succeeds, the RM creates its internal transaction and associates it with the <xref:System.Transactions> transaction.</span></span> <span data-ttu-id="10d1e-119">PSPE liste başarısız olursa, RM bunun yerine kullanarak listeleme <xref:System.Transactions.Transaction.EnlistDurable%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="10d1e-119">If the PSPE enlistment fails, the RM should instead enlist using the <xref:System.Transactions.Transaction.EnlistDurable%2A> method.</span></span> <span data-ttu-id="10d1e-120">İşlem zaten dağıtılmış bir işlem olduğunda ya da başka bir RM PSPE kaydı zaten gerçekleştirdiği PSPE içinde listeleme hataları oluşabilir</span><span class="sxs-lookup"><span data-stu-id="10d1e-120">Failures to enlist in PSPE might happen when the transaction is already a distributed transaction, or when another RM has already performed a PSPE enlistment</span></span>  
  
 <span data-ttu-id="10d1e-121">Kayıtlı sonra yürütün veya durdurmak için istemciler tarafından çağırır <xref:System.Transactions> işlem dönüştürülür çağrıları Resource Manager'daki çağırarak <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> yöntemini veya <xref:System.Transactions.IPromotableSinglePhaseNotification.Rollback%2A> sırasıyla.</span><span class="sxs-lookup"><span data-stu-id="10d1e-121">Once enlisted, calls by clients to commit or abort the <xref:System.Transactions> transaction are converted to calls on the Resource Manager by invoking the <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> method, or the <xref:System.Transactions.IPromotableSinglePhaseNotification.Rollback%2A> respectively.</span></span>  
  
 <span data-ttu-id="10d1e-122">Varsa <xref:System.Transactions> hareket hiçbir zaman gerektirir yükseltme, işlem tamamlandığında RM alır bir <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> bildirim.</span><span class="sxs-lookup"><span data-stu-id="10d1e-122">If the <xref:System.Transactions> transaction never requires escalation, when the transaction is committed, the RM receives a <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> notification.</span></span> <span data-ttu-id="10d1e-123">Ardından, ilk olarak oluşturulduğundan iç işlem de onaylayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="10d1e-123">It can then commit the internal transaction that was initially created.</span></span>  
  
 <span data-ttu-id="10d1e-124">Varsa <xref:System.Transactions> işlem ilerletilen gerekir (örn., birden çok RMs desteklemek için), <xref:System.Transactions> çağırarak Kaynak Yöneticisi'ni bildirir <xref:System.Transactions.ITransactionPromoter.Promote%2A> yöntemi <xref:System.Transactions.ITransactionPromoter> içinden arabirimi <xref:System.Transactions.IPromotableSinglePhaseNotification> arabirimi türer.</span><span class="sxs-lookup"><span data-stu-id="10d1e-124">If the <xref:System.Transactions> transaction needs to be escalated (e.g., to support multiple RMs), <xref:System.Transactions> informs the resource manager by calling the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method on the <xref:System.Transactions.ITransactionPromoter> interface, from which the <xref:System.Transactions.IPromotableSinglePhaseNotification> interface derives.</span></span> <span data-ttu-id="10d1e-125">Kaynak Yöneticisi'ni sonra işlem dahili olarak (Bu, günlük gerektirmeyen) yerel bir işlem DTC işlemde katılan işleyebilir ve zaten çalışmanın ile ilişkilendiren bir işlem nesnesi dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="10d1e-125">The resource manager then converts the transaction internally from a local transaction (which does not require logging) to a transaction object that is capable of participating in a DTC transaction, and associates it with the work already done.</span></span> <span data-ttu-id="10d1e-126">İşlem gerçekleştirmeyi sorulduğunda, işlem yöneticisi hala gönderir <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> yükseltme sırasında oluşturulan dağıtılmış işlem tamamlar Kaynak Yöneticisi bildirimi.</span><span class="sxs-lookup"><span data-stu-id="10d1e-126">When the transaction is asked to commit, the transaction manager still sends the <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> notification to the resource manager, which commits the distributed transaction that it created during escalation.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="10d1e-127">**TransactionCommitted** (bir yürütme ilerletilen işlem çalıştırıldığında oluşturulan) izlemeler DTC işlem etkinlik Kimliğini içerir.</span><span class="sxs-lookup"><span data-stu-id="10d1e-127">The **TransactionCommitted** traces (that are generated when a Commit is invoked on the escalated transaction) contain the activity ID of the DTC transaction.</span></span>  
  
 <span data-ttu-id="10d1e-128">Yönetim yükseltme hakkında daha fazla bilgi için bkz: [işlem yönetimi yükseltme](../../../../docs/framework/data/transactions/transaction-management-escalation.md).</span><span class="sxs-lookup"><span data-stu-id="10d1e-128">For more information on management escalation, see [Transaction Management Escalation](../../../../docs/framework/data/transactions/transaction-management-escalation.md).</span></span>  
  
## <a name="transaction-management-escalation-scenario"></a><span data-ttu-id="10d1e-129">İşlem yönetimi yükseltme senaryosu</span><span class="sxs-lookup"><span data-stu-id="10d1e-129">Transaction Management Escalation Scenario</span></span>  
 <span data-ttu-id="10d1e-130">Aşağıdaki senaryoyu kullanarak bir dağıtılmış işlem için bir yükseltme gösteren <xref:System.Data> kaynak yöneticisi için 'proxy'si' olarak ad alanı.</span><span class="sxs-lookup"><span data-stu-id="10d1e-130">The following scenario demonstrates an escalation to a distributed transaction using the <xref:System.Data> namespace as the ‘proxy’ for the resource manager.</span></span> <span data-ttu-id="10d1e-131">Bu senaryo zaten bir tane olduğunu varsayar <xref:System.Data> CN1, veritabanı bağlantısı dahil işlemde ve başka kapsayacak şekilde uygulamanın istediği <xref:System.Data> bağlantı, CN2.</span><span class="sxs-lookup"><span data-stu-id="10d1e-131">This scenario assumes that there is already one <xref:System.Data> connection to the database, CN1, involved in the transaction, and the application wants to involve another <xref:System.Data> connection, CN2.</span></span> <span data-ttu-id="10d1e-132">İşlem bir tam dağıtılmış iki aşamalı kaydetme işlemi, DTC ilerletilen gerekir.</span><span class="sxs-lookup"><span data-stu-id="10d1e-132">The transaction must be escalated to DTC, as a full distributed two-phase commit transaction.</span></span>  
  
 <span data-ttu-id="10d1e-133">Bu senaryoda</span><span class="sxs-lookup"><span data-stu-id="10d1e-133">In this scenario,</span></span>  
  
1.  <span data-ttu-id="10d1e-134">CN1 çağrıları <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> işleminde listelenmeyi yöntemi.</span><span class="sxs-lookup"><span data-stu-id="10d1e-134">CN1 calls the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method to enlist in the transaction.</span></span> <span data-ttu-id="10d1e-135">Daha sonra hala yerel bir işlemdir ve işlem üzerinde yükseltilebilir diğer kayıtlar vardır böylece <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> çağrı başarılı olur.</span><span class="sxs-lookup"><span data-stu-id="10d1e-135">Then, the transaction is still local and there are no other promotable enlistments on the transaction, so the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> call succeeds.</span></span>  
  
2.  <span data-ttu-id="10d1e-136">İkinci bağlantı CN2 çağırır olduğunda <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A>, ilgili başka bir promotable liste olduğundan çağrı başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="10d1e-136">When the second connection, CN2 calls <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A>, the call fails because there is another promotable enlistment involved.</span></span> <span data-ttu-id="10d1e-137">Bu nedenle, CN2 DTC işlemini SQL geçirmek için almanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="10d1e-137">Because of this, CN2 must get a DTC transaction in order to pass it to SQL.</span></span> <span data-ttu-id="10d1e-138">Bunu yapmak için onu tarafından sağlanan yöntemlerden birini kullanır <xref:System.Transactions.TransactionInterop> SQL verilebilir işlem biçiminin üretmek için sınıf.</span><span class="sxs-lookup"><span data-stu-id="10d1e-138">To do this, it uses one of the methods provided by the <xref:System.Transactions.TransactionInterop> class to produce a format of the transaction that can be given to SQL.</span></span>  
  
3.  <span data-ttu-id="10d1e-139"><xref:System.Transactions>çağrıları <xref:System.Transactions.ITransactionPromoter.Promote%2A> yöntemi <xref:System.Transactions.ITransactionPromoter> CN1 tarafından uygulanan arabirimi.</span><span class="sxs-lookup"><span data-stu-id="10d1e-139"><xref:System.Transactions> calls the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method on the <xref:System.Transactions.ITransactionPromoter> interface implemented by CN1.</span></span>  
  
4.  <span data-ttu-id="10d1e-140">Bu noktada, SQL 2005'e belirli bazı mekanizmasını kullanarak CN1 işlem iletir ve <xref:System.Data>.</span><span class="sxs-lookup"><span data-stu-id="10d1e-140">At this point, CN1 escalates the transaction, using some mechanism specific to SQL 2005 and <xref:System.Data>.</span></span>  
  
5.  <span data-ttu-id="10d1e-141">Dönüş değerini <xref:System.Transactions.ITransactionPromoter.Promote%2A> yöntemdir işlem için bir yayma belirteci içeren bayt dizisi.</span><span class="sxs-lookup"><span data-stu-id="10d1e-141">The return value from the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method is a byte array that contains a propagation token for the transaction.</span></span> <span data-ttu-id="10d1e-142"><xref:System.Transactions>Yerel harekete dahil edebilirsiniz DTC işlem oluşturmak için bu propagaition belirtecini kullanır.</span><span class="sxs-lookup"><span data-stu-id="10d1e-142"><xref:System.Transactions> uses this propagaition token to create a DTC transaction that it can incorporate into the local transaction.</span></span>  
  
6.  <span data-ttu-id="10d1e-143">Bu noktada, CN2 tarafından yöntemlerden birini çağırma alınan verileri kullanabilirsiniz <xref:System.Transactions.TransactionInterop> SQL işlem geçirmek için.</span><span class="sxs-lookup"><span data-stu-id="10d1e-143">At this point, CN2 can use the data received from calling one of the methods by <xref:System.Transactions.TransactionInterop> to pass the transaction to SQL.</span></span>  
  
7.  <span data-ttu-id="10d1e-144">Şimdi, hem de bir dağıtılmış DTC işlem içinde kayıtlıdır.</span><span class="sxs-lookup"><span data-stu-id="10d1e-144">Now, both are enlisted in a DTC distributed transaction.</span></span>  
  
## <a name="single-phase-commit-optimization"></a><span data-ttu-id="10d1e-145">Tek aşaması yürütme en iyi hale getirme</span><span class="sxs-lookup"><span data-stu-id="10d1e-145">Single Phase Commit Optimization</span></span>  
 <span data-ttu-id="10d1e-146">Tek aşaması yürütme protokol tüm güncelleştirmeleri herhangi bir açık işbirliği tamamlanır olarak çalışma zamanında daha etkilidir.</span><span class="sxs-lookup"><span data-stu-id="10d1e-146">The Single Phase Commit protocol is more efficient at runtime as all updates are done without any explicit coordination.</span></span> <span data-ttu-id="10d1e-147">Bu iyileştirme yararlanmak için bir Kaynak Yöneticisi'ni kullanarak uygulamalıdır <xref:System.Transactions.ISinglePhaseNotification> arabirim için kaynak ve kullanarak bir işlem listeleme <xref:System.Transactions.Transaction.EnlistDurable%2A> veya <xref:System.Transactions.Transaction.EnlistVolatile%2A> yöntemi.</span><span class="sxs-lookup"><span data-stu-id="10d1e-147">To take advantage of this optimization, you should implement a resource manager using <xref:System.Transactions.ISinglePhaseNotification> interface for the resource and enlist in a transaction using the <xref:System.Transactions.Transaction.EnlistDurable%2A> or <xref:System.Transactions.Transaction.EnlistVolatile%2A> method.</span></span> <span data-ttu-id="10d1e-148">Özellikle, *EnlistmentOptions* parametre eşit <xref:System.Transactions.EnlistmentOptions.None> tek aşamalı yürütme gerçekleştirilen emin olmak için.</span><span class="sxs-lookup"><span data-stu-id="10d1e-148">Specifically, the *EnlistmentOptions* parameter should equal to <xref:System.Transactions.EnlistmentOptions.None> to ensure that a single phase commit would be performed.</span></span>  
  
 <span data-ttu-id="10d1e-149">Bu yana <xref:System.Transactions.ISinglePhaseNotification> arabirimi türetilir <xref:System.Transactions.IEnlistmentNotification> arabirim, RM tek aşaması yürütme için uygun değilse, bunu iki aşaması yürütme bildirimleri almaya devam.</span><span class="sxs-lookup"><span data-stu-id="10d1e-149">Since the <xref:System.Transactions.ISinglePhaseNotification> interface derives from the <xref:System.Transactions.IEnlistmentNotification> interface, if your RM is not eligible for single phase commit, it can still receive the two phase commit notifications.</span></span>  <span data-ttu-id="10d1e-150">RM alırsa bir <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> TM bildirimden, deneyin kaydetmek ve işlem yürütülmeli veya geri çağırarak için ise işlem yöneticisi gelenlere bildirmek için gerekli iş yapmak <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A>, <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A>, veya <xref:System.Transactions.SinglePhaseEnlistment.InDoubt%2A> yöntemi <xref:System.Transactions.SinglePhaseEnlistment> parametresi.</span><span class="sxs-lookup"><span data-stu-id="10d1e-150">If your RM receives a <xref:System.Transactions.ISinglePhaseNotification.SinglePhaseCommit%2A> notification from the TM, it should try to do the work necessary for it to commit and correspondingly inform the transaction manager if the transaction is to be committed or rolled back by calling the <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A>, <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A>, or <xref:System.Transactions.SinglePhaseEnlistment.InDoubt%2A> method on the <xref:System.Transactions.SinglePhaseEnlistment> parameter.</span></span> <span data-ttu-id="10d1e-151">Yanıtın <xref:System.Transactions.Enlistment.Done%2A> liste bu aşamada üzerinde salt okunur semantiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="10d1e-151">A response of <xref:System.Transactions.Enlistment.Done%2A> on the enlistment at this stage implies ReadOnly semantics.</span></span> <span data-ttu-id="10d1e-152">Bu nedenle, değil yanıt <xref:System.Transactions.Enlistment.Done%2A> ek olarak diğer yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="10d1e-152">Therefore, you should not reply <xref:System.Transactions.Enlistment.Done%2A> in addition to any of the other methods.</span></span>  
  
 <span data-ttu-id="10d1e-153">Yalnızca bir geçici kaydı ve dayanıklı kaydı ise volatile kaydı SPC bildirimi alır.</span><span class="sxs-lookup"><span data-stu-id="10d1e-153">If there is only one volatile enlistment and no durable enlistment, the volatile enlistment receives SPC notification.</span></span>  <span data-ttu-id="10d1e-154">Volatile tüm kayıtlar ve yalnızca bir dayanıklı kaydı varsa volatile kayıtlar 2PC alırsınız.</span><span class="sxs-lookup"><span data-stu-id="10d1e-154">If there are any volatile enlistments and only one durable enlistment, the volatile enlistments receive 2PC.</span></span> <span data-ttu-id="10d1e-155">Tamamlandığında, kalıcı liste SPC alır.</span><span class="sxs-lookup"><span data-stu-id="10d1e-155">When it is completed, the durable enlistment receives SPC.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="10d1e-156">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="10d1e-156">See Also</span></span>  
 [<span data-ttu-id="10d1e-157">Bir işlemde katılımcı olarak kaynakları kaydetme</span><span class="sxs-lookup"><span data-stu-id="10d1e-157">Enlisting Resources as Participants in a Transaction</span></span>](../../../../docs/framework/data/transactions/enlisting-resources-as-participants-in-a-transaction.md)  
 [<span data-ttu-id="10d1e-158">İşlemi tek aşamalı ve çok aşaması Tamamlanıyor</span><span class="sxs-lookup"><span data-stu-id="10d1e-158">Committing a Transaction in Single-Phase and Multi-Phase</span></span>](../../../../docs/framework/data/transactions/committing-a-transaction-in-single-phase-and-multi-phase.md)
