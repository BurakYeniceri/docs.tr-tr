---
title: Windows Hizmet Uygulamasında Barındırma
ms.date: 03/30/2017
ms.assetid: f4199998-27f3-4dd9-aee4-0a4addfa9f24
ms.openlocfilehash: e440961055ccd40bf56b4b88ea73d167f1903245
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/04/2018
ms.locfileid: "33492238"
---
# <a name="hosting-in-a-windows-service-application"></a><span data-ttu-id="ccc45-102">Windows Hizmet Uygulamasında Barındırma</span><span class="sxs-lookup"><span data-stu-id="ccc45-102">Hosting in a Windows Service Application</span></span>
<span data-ttu-id="ccc45-103">(Daha önce Windows NT Hizmetleri bilinen) Windows hizmetleri sağlayan bir işlem modeli özellikle uzun süre çalışan yürütülebilir dosya içinde bulunmalıdır ve herhangi bir kullanıcı arabirimi biçimi gösterme uygulamalar için uygundur.</span><span class="sxs-lookup"><span data-stu-id="ccc45-103">Windows services (formerly known as Windows NT services) provide a process model particularly suited to applications that must live in a long-running executable and do not display any form of user interface.</span></span> <span data-ttu-id="ccc45-104">Hizmet uygulaması başlangıç olanak tanıyan, hizmet denetimi yöneticisi tarafından (SCM), yönetilen bir Windows işlem ömrü durdurun ve Windows hizmeti uygulamalarını duraklatma.</span><span class="sxs-lookup"><span data-stu-id="ccc45-104">The process lifetime of a Windows service application is managed by the service control manager (SCM), which allows you to start, stop, and pause Windows service applications.</span></span> <span data-ttu-id="ccc45-105">Bir Windows hizmet işlemi "her zaman açık" uygulamalar için uygun bir barındırma ortamı kolaylaştırarak bilgisayar başlatıldığında otomatik olarak başlayacak şekilde yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ccc45-105">You can configure a Windows service process to start automatically when the computer starts, making it a suitable hosting environment for "always on" applications.</span></span> <span data-ttu-id="ccc45-106">Windows hizmet uygulamaları hakkında daha fazla bilgi için bkz: [Windows hizmet uygulamaları](http://go.microsoft.com/fwlink/?LinkId=89450).</span><span class="sxs-lookup"><span data-stu-id="ccc45-106">For more information about Windows service applications, see [Windows Service Applications](http://go.microsoft.com/fwlink/?LinkId=89450).</span></span>  
  
 <span data-ttu-id="ccc45-107">Uzun süre çalışan Windows Communication Foundation (WCF) hizmetlerini barındıran uygulamalar Windows Hizmetleri ile birçok ortak özelliklere sahiptir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-107">Applications that host long-running Windows Communication Foundation (WCF) services share many characteristics with Windows services.</span></span> <span data-ttu-id="ccc45-108">Özellikle, WCF hizmetleri doğrudan kullanıcıyla etkileşim değil ve bu nedenle herhangi bir kullanıcı arabirimi biçimi uygulamak uzun süre çalışan sunucu yürütülebilir dosyalar.</span><span class="sxs-lookup"><span data-stu-id="ccc45-108">In particular, WCF services are long-running server executables that do not interact directly with the user and therefore do not implement any form of user interface.</span></span> <span data-ttu-id="ccc45-109">Bu nedenle, bir Windows hizmet uygulaması içinde WCF hizmetlerini barındıran güçlü, uzun süreli WCF uygulamaları oluşturmaya yönelik bir seçenektir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-109">As such, hosting WCF services inside of a Windows service application is one option for building robust, long-running, WCF applications.</span></span>  
  
 <span data-ttu-id="ccc45-110">Genellikle, WCF geliştiricilerin kendi WCF uygulaması Windows hizmeti uygulaması içinde veya Internet Information Services (IIS) veya Windows İşlem Etkinleştirme Hizmeti (WAS) bir barındırma ortamı içinde barındırmak karar vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-110">Often, WCF developers must decide whether to host their WCF application inside of a Windows service application or inside of the Internet Information Services (IIS) or Windows Process Activation Service (WAS) hosting environment.</span></span> <span data-ttu-id="ccc45-111">Windows hizmet uygulamaları aşağıdaki koşullarda kullanmayı düşünmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="ccc45-111">You should consider using Windows service applications under the following conditions:</span></span>  
  
-   <span data-ttu-id="ccc45-112">Uygulamanızın açık etkinleştirme gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-112">Your application requires explicit activation.</span></span> <span data-ttu-id="ccc45-113">Örneğin, dinamik olarak ilk gelen iletisine yanıt olarak başlatılmakta yerine sunucu başlatıldığında yapılacak uygulamanızı otomatik olarak başlamalıdır olduğunda Windows Hizmetleri kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-113">For example, you should use Windows services when your application must start automatically when the server starts instead of being dynamically started in response to the first incoming message.</span></span>  
  
-   <span data-ttu-id="ccc45-114">Uygulamanızı barındıran işlemin başlatıldığında çalışan kalmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ccc45-114">The process that hosts your application must remain running once started.</span></span> <span data-ttu-id="ccc45-115">Başladıktan sonra bir Windows hizmet işlemi sürece çalışmaya devam açıkça Kapatma Hizmet Denetim Yöneticisi'ni kullanarak bir sunucu yöneticisi tarafından.</span><span class="sxs-lookup"><span data-stu-id="ccc45-115">Once started, a Windows service process remains running unless explicitly shut down by a server administrator using the service control manager.</span></span> <span data-ttu-id="ccc45-116">IIS ya da WAS içinde barındırılan uygulamalar başlatıldı ve sistem kaynakları en iyi kullanılmasını sağlamak için dinamik olarak durduruldu.</span><span class="sxs-lookup"><span data-stu-id="ccc45-116">Applications hosted in IIS or WAS may be started and stopped dynamically to make optimal use of system resources.</span></span> <span data-ttu-id="ccc45-117">Kendi barındırma işlemi ömrü üzerinde açık denetim gerektiren uygulamalar, IIS ya da WAS yerine Windows Hizmetleri kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-117">Applications that require explicit control over the lifetime of their hosting process should use Windows services instead of IIS or WAS.</span></span>  
  
-   <span data-ttu-id="ccc45-118">WCF Hizmeti Windows Server 2003'te çalıştırın ve HTTP dışında taşımaları kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-118">Your WCF service must run on Windows Server 2003 and use transports other than HTTP.</span></span> <span data-ttu-id="ccc45-119">Windows Server 2003'te [!INCLUDE[iis601](../../../../includes/iis601-md.md)] barındırma ortamı yalnızca HTTP iletişimi için kısıtlanmış.</span><span class="sxs-lookup"><span data-stu-id="ccc45-119">On Windows Server 2003, the [!INCLUDE[iis601](../../../../includes/iis601-md.md)] hosting environment is restricted to HTTP communication only.</span></span> <span data-ttu-id="ccc45-120">Windows hizmet uygulamaları bu kısıtlama tabi değildir ve net.tcp, net.pipe ve net.msmq dahil olmak üzere tüm aktarım WCF destekler kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ccc45-120">Windows service applications are not subject to this restriction and can use any transport WCF supports, including net.tcp, net.pipe, and net.msmq.</span></span>  
  
### <a name="to-host-wcf-inside-of-a-windows-service-application"></a><span data-ttu-id="ccc45-121">Windows hizmet uygulaması içinde WCF barındırmak için</span><span class="sxs-lookup"><span data-stu-id="ccc45-121">To host WCF inside of a Windows service application</span></span>  
  
1.  <span data-ttu-id="ccc45-122">Windows hizmet uygulaması oluşturun.</span><span class="sxs-lookup"><span data-stu-id="ccc45-122">Create a Windows service application.</span></span> <span data-ttu-id="ccc45-123">Windows hizmet uygulamaları sınıflarda kullanarak yönetilen kod yazabilirsiniz <xref:System.ServiceProcess> ad alanı.</span><span class="sxs-lookup"><span data-stu-id="ccc45-123">You can write Windows service applications in managed code using the classes in the <xref:System.ServiceProcess> namespace.</span></span> <span data-ttu-id="ccc45-124">Bu uygulama öğesinden devralınan bir sınıf içermelidir <xref:System.ServiceProcess.ServiceBase>.</span><span class="sxs-lookup"><span data-stu-id="ccc45-124">This application must include one class that inherits from <xref:System.ServiceProcess.ServiceBase>.</span></span>  
  
2.  <span data-ttu-id="ccc45-125">WCF hizmetleri ömrü Windows hizmet uygulaması için kullanım ömrü bağlayın.</span><span class="sxs-lookup"><span data-stu-id="ccc45-125">Link the lifetime of the WCF services to the lifetime of the Windows service application.</span></span> <span data-ttu-id="ccc45-126">Genellikle, Windows hizmet uygulamasında barındırma hizmeti başlatıldığında etkinleşir, barındırma hizmeti durdurulur ve WCF hizmeti bir hatayla karşılaştığında barındırma işlemi kapatmak için iletileri dinleyecek barındırılan WCF hizmetleri istiyor.</span><span class="sxs-lookup"><span data-stu-id="ccc45-126">Typically, you want WCF services hosted in a Windows service application to become active when the hosting service starts, stop listening for messages when the hosting service is stopped, and shut down the hosting process when the WCF service encounters an error.</span></span> <span data-ttu-id="ccc45-127">Bu şekilde gerçekleştirilebilir:</span><span class="sxs-lookup"><span data-stu-id="ccc45-127">This can be accomplished as follows:</span></span>  
  
    -   <span data-ttu-id="ccc45-128">Geçersiz kılma <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> bir veya daha fazla örneğini açmayı <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="ccc45-128">Override <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29> to open one or more instances of <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="ccc45-129">Tek bir Windows hizmeti uygulama başlatma ve durdurma grup olarak birden çok WCF hizmetleri barındırabilir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-129">A single Windows service application can host multiple WCF services that start and stop as a group.</span></span>  
  
    -   <span data-ttu-id="ccc45-130">Geçersiz kılma <xref:System.ServiceProcess.ServiceBase.OnStop%2A> çağırmak için <xref:System.ServiceModel.Channels.CommunicationObject.Closed> üzerinde <xref:System.ServiceModel.ServiceHost> sırasında başlatılan çalışan tüm WCF hizmetleri <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>.</span><span class="sxs-lookup"><span data-stu-id="ccc45-130">Override <xref:System.ServiceProcess.ServiceBase.OnStop%2A> to call <xref:System.ServiceModel.Channels.CommunicationObject.Closed> on the <xref:System.ServiceModel.ServiceHost> any running WCF services that were started during <xref:System.ServiceProcess.ServiceBase.OnStart%28System.String%5B%5D%29>.</span></span>  
  
    -   <span data-ttu-id="ccc45-131">Abone <xref:System.ServiceModel.Channels.CommunicationObject.Faulted> olayı <xref:System.ServiceModel.ServiceHost> ve <xref:System.ServiceProcess.ServiceController> hata durumunda Windows hizmet uygulaması kapatmak üzere sınıfı.</span><span class="sxs-lookup"><span data-stu-id="ccc45-131">Subscribe to the <xref:System.ServiceModel.Channels.CommunicationObject.Faulted> event of <xref:System.ServiceModel.ServiceHost> and use the <xref:System.ServiceProcess.ServiceController> class to shut down the Windows service application in case of error.</span></span>  
  
     <span data-ttu-id="ccc45-132">WCF hizmetleri barındıran Windows hizmet uygulamaları dağıtılan ve WCF hale Windows hizmet uygulamaları kullandığınız gibi aynı şekilde yönetilir.</span><span class="sxs-lookup"><span data-stu-id="ccc45-132">Windows service applications that host WCF services are deployed and managed in the same way as Windows service applications that do not make use of WCF.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ccc45-133">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="ccc45-133">See Also</span></span>  
 <xref:System.ServiceProcess>  
 [<span data-ttu-id="ccc45-134">İzlenecek Yol: Bileşen Tasarımcısında Windows Hizmeti Uygulaması Oluşturma</span><span class="sxs-lookup"><span data-stu-id="ccc45-134">Walkthrough: Creating a Windows Service Application in the Component Designer</span></span>](http://go.microsoft.com/fwlink/?LinkId=94875)  
 [<span data-ttu-id="ccc45-135">Nasıl yapılır: Yönetilen Bir Windows Hizmetinde Bir WCF Hizmeti Barındırma</span><span class="sxs-lookup"><span data-stu-id="ccc45-135">How to: Host a WCF Service in a Managed Windows Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-a-managed-windows-service.md)  
 [<span data-ttu-id="ccc45-136">Windows Hizmet Konağı</span><span class="sxs-lookup"><span data-stu-id="ccc45-136">Windows Service Host</span></span>](../../../../docs/framework/wcf/samples/windows-service-host.md)  
 [<span data-ttu-id="ccc45-137">Hizmet Uygulaması Programlama Mimarisi</span><span class="sxs-lookup"><span data-stu-id="ccc45-137">Service Application Programming Architecture</span></span>](http://go.microsoft.com/fwlink/?LinkId=94876)  
 [<span data-ttu-id="ccc45-138">Windows Server App Fabric barındırma özellikleri</span><span class="sxs-lookup"><span data-stu-id="ccc45-138">Windows Server App Fabric Hosting Features</span></span>](http://go.microsoft.com/fwlink/?LinkId=201276)
