---
title: Etkinlik temsilcileri kullanma
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: e33cf876-8979-440b-9b23-4a12d1139960
caps.latest.revision: "12"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: cf39f9e9cb877afed68c8e5b1b5c33f4276c4a15
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 10/18/2017
---
# <a name="using-activity-delegates"></a><span data-ttu-id="11aba-102">Etkinlik temsilcileri kullanma</span><span class="sxs-lookup"><span data-stu-id="11aba-102">Using Activity Delegates</span></span>
<span data-ttu-id="11aba-103">Etkinlik temsilciler etkinlik yazarların kullanıcılar etkinliğin etkinlik tabanlı işleyicileri sağlayabilir belirli imzaları ile geri çağırmalar etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="11aba-103">Activity delegates enable activity authors to expose callbacks with specific signatures, for which users of the activity can provide activity-based handlers.</span></span> <span data-ttu-id="11aba-104">İki tür etkinlik temsilciler kullanılabilir: <xref:System.Activities.ActivityAction%601> bir dönüş değeri olmayan etkinlik temsilciler tanımlamak için kullanılır ve <xref:System.Activities.ActivityFunc%601> bir dönüş değerine sahip etkinlik temsilciler tanımlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="11aba-104">Two types of activity delegates are available: <xref:System.Activities.ActivityAction%601> is used to define activity delegates that do not have a return value, and <xref:System.Activities.ActivityFunc%601> is used to define activity delegates that do have a return value.</span></span>  
  
 <span data-ttu-id="11aba-105">Etkinlik Temsilciler, belirli bir imza sahibi için bir alt etkinlik burada kısıtlanmalıdır senaryolarda kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="11aba-105">Activity delegates are useful in scenarios where a child activity must be constrained to having a certain signature.</span></span> <span data-ttu-id="11aba-106">Örneğin, bir <xref:System.Activities.Statements.While> etkinlik alt etkinlik hiçbir kısıtlamalarına sahip herhangi bir türde ancak gövdesini içerebilir bir <xref:System.Activities.Statements.ForEach%601> etkinliği bir <xref:System.Activities.ActivityAction%601>, sonuçta tarafından yürütülen alt etkinlik <xref:System.Activities.Statements.ForEach%601> olmalıdır bir <xref:System.Activities.InArgument%601> , koleksiyonun üyeleri aynı türde olduğundan, <xref:System.Activities.Statements.ForEach%601> numaralandırır.</span><span class="sxs-lookup"><span data-stu-id="11aba-106">For example, a <xref:System.Activities.Statements.While> activity can contain any type of child activity with no constraints, but the body of a <xref:System.Activities.Statements.ForEach%601> activity is an <xref:System.Activities.ActivityAction%601>, and the child activity that is ultimately executed by <xref:System.Activities.Statements.ForEach%601> must have an <xref:System.Activities.InArgument%601> that is the same type of the members of the collection that the <xref:System.Activities.Statements.ForEach%601> enumerates.</span></span>  
  
## <a name="using-activityaction"></a><span data-ttu-id="11aba-107">ActivityAction kullanma</span><span class="sxs-lookup"><span data-stu-id="11aba-107">Using ActivityAction</span></span>  
 <span data-ttu-id="11aba-108">Birkaç [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] etkinlikleri etkinlik eylemler gibi kullanmak <xref:System.Activities.Statements.Catch> etkinlik ve <xref:System.Activities.Statements.ForEach%601> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="11aba-108">Several [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] activities use activity actions, such as the <xref:System.Activities.Statements.Catch> activity and the <xref:System.Activities.Statements.ForEach%601> activity.</span></span> <span data-ttu-id="11aba-109">Her durumda, etkinlik eylem burada şu etkinliklerden birini kullanarak bir iş akışı oluştururken istenen davranışı sağlamak için bir etkinlik iş akışı yazarı belirtir bir konumu temsil eder.</span><span class="sxs-lookup"><span data-stu-id="11aba-109">In each case, the activity action represents a location where the workflow author specifies an activity to provide the desired behavior when composing a workflow using one of these activities.</span></span> <span data-ttu-id="11aba-110">Aşağıdaki örnekte, bir <xref:System.Activities.Statements.ForEach%601> etkinlik konsol penceresine metni görüntülemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="11aba-110">In the following example, a <xref:System.Activities.Statements.ForEach%601> activity is used to display text to the console window.</span></span> <span data-ttu-id="11aba-111">Gövdesini <xref:System.Activities.Statements.ForEach%601> kullanılarak belirtilen bir <xref:System.Activities.ActivityAction%601> türü ile eşleşen <xref:System.Activities.Statements.ForEach%601> dize olduğu.</span><span class="sxs-lookup"><span data-stu-id="11aba-111">The body of the <xref:System.Activities.Statements.ForEach%601> is specified by using an <xref:System.Activities.ActivityAction%601> that matches the type of the <xref:System.Activities.Statements.ForEach%601> which is string.</span></span> <span data-ttu-id="11aba-112"><xref:System.Activities.Statements.WriteLine> Belirtilen etkinlik <xref:System.Activities.ActivityDelegate.Handler%2A> sahip kendi <xref:System.Activities.Statements.WriteLine.Text%2A> bağımsız değişkeni bağlı koleksiyondaki dize değerleri, <xref:System.Activities.Statements.ForEach%601> etkinlik yineler.</span><span class="sxs-lookup"><span data-stu-id="11aba-112">The <xref:System.Activities.Statements.WriteLine> activity specified in the <xref:System.Activities.ActivityDelegate.Handler%2A> has its <xref:System.Activities.Statements.WriteLine.Text%2A> argument bound to the string values in the collection that the <xref:System.Activities.Statements.ForEach%601> activity iterates.</span></span>  
  
 [!code-csharp[CFX_ActivityExample#6](../../../samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#6)]  
  
 <span data-ttu-id="11aba-113">ActionArgument WriteLine koleksiyon içindeki öğeleri akış için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="11aba-113">The actionArgument is used to flow the individual items in the collection to the WriteLine.</span></span> <span data-ttu-id="11aba-114">İş akışı çağrıldığında, aşağıdaki çıktıyı konsola görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="11aba-114">When the workflow is invoked, the following output is displayed to the console.</span></span>  
 ``` 
 HelloWorld.
 ```  
<span data-ttu-id="11aba-115">Bu konudaki örnekler nesne başlatma sözdizimini kullanın.</span><span class="sxs-lookup"><span data-stu-id="11aba-115">The examples in this topic use object initialization syntax.</span></span> <span data-ttu-id="11aba-116">Nesne başlatma sözdizimi etkinlikleri arasındaki ilişkiyi gösterir ve iş akışındaki etkinliklerin hiyerarşik bir görünümü sağlar kodda iş akışı tanımları oluşturmak için kullanışlı bir yol olabilir.</span><span class="sxs-lookup"><span data-stu-id="11aba-116">Object initialization syntax can be a useful way to create workflow definitions in code because it provides a hierarchical view of the activities in the workflow and shows the relationship between the activities.</span></span> <span data-ttu-id="11aba-117">Program aracılığıyla iş akışları oluşturduğunuzda, nesne başlatma sözdizimi kullanma zorunluluğu yoktur.</span><span class="sxs-lookup"><span data-stu-id="11aba-117">There is no requirement to use object initialization syntax when you programmatically create workflows.</span></span> <span data-ttu-id="11aba-118">Aşağıdaki örnek önceki örneğe işlevsel olarak eşdeğerdir.</span><span class="sxs-lookup"><span data-stu-id="11aba-118">The following example is functionally equivalent to the previous example.</span></span>  
  
 [!code-csharp[CFX_ActivityExample#7](../../../samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#7)]  
  
 [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="11aba-119">Nesne başlatıcılar, bkz: [nasıl yapılır: nesneler Oluşturucusu (C# programlama Kılavuzu) çağırma olmadan başlatmak](http://go.microsoft.com/fwlink/?LinkId=161015) ve [nasıl yapılır: nesne Başlatıcı kullanarak nesne bildirme](http://go.microsoft.com/fwlink/?LinkId=161016).</span><span class="sxs-lookup"><span data-stu-id="11aba-119"> object initializers, see [How to: Initialize Objects without Calling a Constructor (C# Programming Guide)](http://go.microsoft.com/fwlink/?LinkId=161015) and [How to: Declare an Object by Using an Object Initializer](http://go.microsoft.com/fwlink/?LinkId=161016).</span></span>  
  
 <span data-ttu-id="11aba-120">Aşağıdaki örnekte, bir <xref:System.Activities.Statements.TryCatch> etkinlik, bir iş akışında kullanılır.</span><span class="sxs-lookup"><span data-stu-id="11aba-120">In the following example, a <xref:System.Activities.Statements.TryCatch> activity is used in a workflow.</span></span> <span data-ttu-id="11aba-121">Bir <xref:System.ApplicationException> iş akışı tarafından oluşturulan ve tarafından işlenen bir <xref:System.Activities.Statements.Catch%601> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="11aba-121">An <xref:System.ApplicationException> is thrown by the workflow, and is handled by a <xref:System.Activities.Statements.Catch%601> activity.</span></span> <span data-ttu-id="11aba-122">İşleyicisi <xref:System.Activities.Statements.Catch%601> etkinliğin etkinlik eylem bir <xref:System.Activities.Statements.WriteLine> etkinliği ve özel durum ayrıntısı aktarılan aracılığıyla kullanarak `ex` <xref:System.Activities.DelegateInArgument%601>.</span><span class="sxs-lookup"><span data-stu-id="11aba-122">The handler for the <xref:System.Activities.Statements.Catch%601> activity's activity action is a <xref:System.Activities.Statements.WriteLine> activity, and the exception detail is flowed through to it using the `ex` <xref:System.Activities.DelegateInArgument%601>.</span></span>  
  
 [!code-csharp[CFX_WorkflowApplicationExample#33](../../../samples/snippets/csharp/VS_Snippets_CFX/cfx_workflowapplicationexample/cs/program.cs#33)]  
  
 <span data-ttu-id="11aba-123">Ne zaman tanımlayan bir özel etkinlik oluşturma bir <xref:System.Activities.ActivityAction%601>, kullanan bir <xref:System.Activities.Statements.InvokeAction%601> , çağrılmasını modellemek için <xref:System.Activities.ActivityAction%601>.</span><span class="sxs-lookup"><span data-stu-id="11aba-123">When creating a custom activity that defines an <xref:System.Activities.ActivityAction%601>, use an <xref:System.Activities.Statements.InvokeAction%601> to model the invocation of that <xref:System.Activities.ActivityAction%601>.</span></span> <span data-ttu-id="11aba-124">Bu örnekte, özel bir `WriteLineWithNotification` etkinlik tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="11aba-124">In this example, a custom `WriteLineWithNotification` activity is defined.</span></span> <span data-ttu-id="11aba-125">Bu etkinlik oluşan bir <xref:System.Activities.Statements.Sequence> içeren bir <xref:System.Activities.Statements.WriteLine> etkinlik arkasından bir <xref:System.Activities.Statements.InvokeAction%601> , çağıran bir <xref:System.Activities.ActivityAction%601> bir dize bağımsız değişkeni alır.</span><span class="sxs-lookup"><span data-stu-id="11aba-125">This activity is composed of a <xref:System.Activities.Statements.Sequence> that contains a <xref:System.Activities.Statements.WriteLine> activity followed by an <xref:System.Activities.Statements.InvokeAction%601> that invokes an <xref:System.Activities.ActivityAction%601> that takes one string argument.</span></span>  
  
 [!code-csharp[CFX_ActivityExample#1](../../../samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#1)]  
  
 <span data-ttu-id="11aba-126">Bir iş akışı oluşturulduğunda kullanarak `WriteLineWithNotification` etkinlik, iş akışı yazarı belirtir istenen Özel mantık etkinlik eylem <xref:System.Activities.ActivityDelegate.Handler%2A>.</span><span class="sxs-lookup"><span data-stu-id="11aba-126">When a workflow is created by using the `WriteLineWithNotification` activity, the workflow author specifies the desired custom logic in the activity action’s <xref:System.Activities.ActivityDelegate.Handler%2A>.</span></span> <span data-ttu-id="11aba-127">Bu örnekte, bir iş akışı kullanan oluşturulur `WriteLineWithNotification` etkinliği ve bir <xref:System.Activities.Statements.WriteLine> etkinlik olarak kullanılan <xref:System.Activities.ActivityDelegate.Handler%2A>.</span><span class="sxs-lookup"><span data-stu-id="11aba-127">In this example, a workflow is created that use the `WriteLineWithNotification` activity, and a <xref:System.Activities.Statements.WriteLine> activity is used as the <xref:System.Activities.ActivityDelegate.Handler%2A>.</span></span>  
  
 [!code-csharp[CFX_ActivityExample#2](../../../samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#2)]  
  
 <span data-ttu-id="11aba-128">Birden çok genel sürümü vardır <xref:System.Activities.Statements.InvokeAction%601> ve <xref:System.Activities.ActivityAction%601> bir veya daha fazla bağımsız değişkenleri geçirme sağlanan.</span><span class="sxs-lookup"><span data-stu-id="11aba-128">There are multiple generic versions of <xref:System.Activities.Statements.InvokeAction%601> and <xref:System.Activities.ActivityAction%601> provided for passing one or more arguments.</span></span>  
  
## <a name="using-activityfunc"></a><span data-ttu-id="11aba-129">ActivityFunc kullanma</span><span class="sxs-lookup"><span data-stu-id="11aba-129">Using ActivityFunc</span></span>  
 <span data-ttu-id="11aba-130"><xref:System.Activities.ActivityAction%601>hiçbir sonuç değeri etkinliğinden olduğunda yararlıdır ve <xref:System.Activities.ActivityFunc%601> sonuç değeri döndürdüğünde kullanılır.</span><span class="sxs-lookup"><span data-stu-id="11aba-130"><xref:System.Activities.ActivityAction%601> is useful when there is no result value from the activity, and <xref:System.Activities.ActivityFunc%601> is used when a result value is returned.</span></span> <span data-ttu-id="11aba-131">Ne zaman tanımlayan bir özel etkinlik oluşturma bir <xref:System.Activities.ActivityFunc%601>, kullanan bir <xref:System.Activities.Expressions.InvokeFunc%601> , çağrılmasını modellemek için <xref:System.Activities.ActivityFunc%601>.</span><span class="sxs-lookup"><span data-stu-id="11aba-131">When creating a custom activity that defines an <xref:System.Activities.ActivityFunc%601>, use an <xref:System.Activities.Expressions.InvokeFunc%601> to model the invocation of that <xref:System.Activities.ActivityFunc%601>.</span></span> <span data-ttu-id="11aba-132">Aşağıdaki örnekte, bir `WriteFillerText` etkinlik tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="11aba-132">In the following example, a `WriteFillerText` activity is defined.</span></span> <span data-ttu-id="11aba-133">Dolgu metin sağlamak için bir <xref:System.Activities.Expressions.InvokeFunc%601> bir tamsayı bağımsız değişken ve bir dizi sonuç sahip belirtilir.</span><span class="sxs-lookup"><span data-stu-id="11aba-133">To supply the filler text, an <xref:System.Activities.Expressions.InvokeFunc%601> is specified that takes an integer argument and has a string result.</span></span> <span data-ttu-id="11aba-134">Dolgu metin alındıktan sonra konsol kullanmaya görüntülenir bir <xref:System.Activities.Statements.WriteLine> etkinlik.</span><span class="sxs-lookup"><span data-stu-id="11aba-134">Once the filler text is retrieved, it is displayed to the console using a <xref:System.Activities.Statements.WriteLine> activity.</span></span>  
  
 [!code-csharp[CFX_ActivityExample#3](../../../samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#3)]  
  
 <span data-ttu-id="11aba-135">Metin sağlamak için bir etkinlik bir alan kullanılmalıdır `int` bağımsız değişkeni ve bir dizi sonuç sahiptir.</span><span class="sxs-lookup"><span data-stu-id="11aba-135">To supply the text, an activity must be used that takes one `int` argument and has a string result.</span></span> <span data-ttu-id="11aba-136">Bu örnek gösteren bir `TextGenerator` bu gereksinimleri karşılayan etkinlik.</span><span class="sxs-lookup"><span data-stu-id="11aba-136">This example shows a `TextGenerator` activity that meets these requirements.</span></span>  
  
 [!code-csharp[CFX_ActivityExample#4](../../../samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#4)]  
  
 <span data-ttu-id="11aba-137">Kullanılacak `TextGenerator` etkinlikle `WriteRandomText` etkinliği olarak belirtmek <xref:System.Activities.ActivityDelegate.Handler%2A>.</span><span class="sxs-lookup"><span data-stu-id="11aba-137">To use the `TextGenerator` activity with the `WriteRandomText` activity, specify it as the <xref:System.Activities.ActivityDelegate.Handler%2A>.</span></span>  
  
 [!code-csharp[CFX_ActivityExample#5](../../../samples/snippets/csharp/VS_Snippets_CFX/CFX_ActivityExample/cs/Program.cs#5)]  
  
## <a name="see-also"></a><span data-ttu-id="11aba-138">Ayrıca Bkz.</span><span class="sxs-lookup"><span data-stu-id="11aba-138">See Also</span></span>  
 [<span data-ttu-id="11aba-139">Gösterme ve ActivityActions çağırma</span><span class="sxs-lookup"><span data-stu-id="11aba-139">Exposing and Invoking ActivityActions</span></span>](../../../docs/framework/windows-workflow-foundation/samples/exposing-and-invoking-activityactions.md)
